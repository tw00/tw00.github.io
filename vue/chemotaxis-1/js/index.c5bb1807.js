(function(t){function n(n){for(var e,i,s=n[0],u=n[1],c=n[2],l=0,p=[];l<s.length;l++)i=s[l],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&p.push(o[i][0]),o[i]=0;for(e in u)Object.prototype.hasOwnProperty.call(u,e)&&(t[e]=u[e]);h&&h(n);while(p.length)p.shift()();return a.push.apply(a,c||[]),r()}function r(){for(var t,n=0;n<a.length;n++){for(var r=a[n],e=!0,s=1;s<r.length;s++){var u=r[s];0!==o[u]&&(e=!1)}e&&(a.splice(n--,1),t=i(i.s=r[0]))}return t}var e={},o={index:0},a=[];function i(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=t,i.c=e,i.d=function(t,n,r){i.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:r})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,n){if(1&n&&(t=i(t)),8&n)return t;if(4&n&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var e in t)i.d(r,e,function(n){return t[n]}.bind(null,e));return r},i.n=function(t){var n=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(n,"a",n),n},i.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},i.p="/vue/chemotaxis-1/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],u=s.push.bind(s);s.push=n,s=s.slice();for(var c=0;c<s.length;c++)n(s[c]);var h=u;a.push([0,"chunk-vendors"]),r()})({0:function(t,n,r){t.exports=r("a290")},5285:function(t,n,r){"use strict";var e=r("89ba"),o=r.n(e);o.a},"7e79":function(t,n,r){},"89ba":function(t,n,r){},a290:function(t,n,r){"use strict";r.r(n);var e=r("2b0e"),o=function(){var t=this,n=t.$createElement,r=t._self._c||n;return r("div",{staticClass:"home"},[t._e(),r("button",{on:{click:function(n){t.step(),t.draw()}}},[t._v("Step")]),r("button",{on:{click:function(n){return t.run(10)}}},[t._v("Run 10 steps")]),r("button",{on:{click:function(n){return t.run(100)}}},[t._v("Run 100 steps")]),r("button",{on:{click:function(n){return t.run(null)}}},[t._v("Run inf")]),r("button",{on:{click:function(n){return t.stop()}}},[t._v("Stop")]),r("button",{on:{click:function(n){return t.reset()}}},[t._v("Reset")]),t._v(" | "),r("button",{on:{click:function(n){return t.incvar()}}},[t._v("+ Var")]),r("button",{on:{click:function(n){return t.decvar()}}},[t._v("- Var")]),r("div",{staticClass:"boxes"},[r("pre",{staticClass:"infobox"},[t._v("#steps:\n"+t._s(t.steps))]),r("pre",{staticClass:"infobox"},[t._v("Variance\nVar. h: ± "+t._s(t.h_var)+"\nVar. r: ± "+t._s(t.r_var))]),r("pre",{staticClass:"infobox"},[t._v("Best inputs:\nh_good: "+t._s(t._f("round")(t.h_good))+" m\nr_good: "+t._s(t._f("round")(t.r_good)))]),r("pre",{staticClass:"infobox"},[t._v("Best cost:\nc_good:\n"+t._s(t._f("round")(-t.objective(t.h_good,t.r_good)))+" Mio $")])]),r("div",{attrs:{id:"draw-shapes-2"}}),r("div",{attrs:{id:"draw-shapes-3"}}),t.isProd?t._e():r("pre",{staticClass:"output"},[t._v("best win: "+t._s(t._f("round")(t.win_good))+" Mio $\n#steps: "+t._s(t.steps)+" ("+t._s(t.log.length)+")\n")]),t.isProd?t._e():r("pre",{staticClass:"output"},[t._v("cost ( h, r ) {\n  // Revenue from appartments\n  let Em = 1 * ( 1 - r ) * ( 0.5 * h * Math.sqrt( h ) );\n\n  // Revenue from shops\n  let Es = Math.sqrt( Em ) * 100 * r;\n\n  // Land\n  let Kl = 500;\n\n  // Construction\n  let Kc = 250 + (700/(200*200)) * h * h;\n\n  // Air rights\n  let Ka = (200/220) * h;\n\n  let K = Kc + Ka + Kl;\n  let E = Em + Es;\n\n  return E - K\n}\n  ")])],1)},a=[],i=r("f077");function s(){var t=0,n=0;while(0===t)t=Math.random();while(0===n)n=Math.random();return Math.sqrt(-2*Math.log(t))*Math.cos(2*Math.PI*n)}function u(t,n,r){return Math.min(Math.max(n,t),r)}function c(){return{isProd:!0,h_good:100,r_good:0,h_var:2,r_var:.02,win_good:-1e99,log:[],steps:0,show_only_good:!1}}var h={data:function(){return c()},watch:{show_only_good:function(){this.draw()}},mounted:function(){for(var t={},n=0,r=["draw-shapes-2","draw-shapes-3"];n<r.length;n++){var e=r[n],o=document.getElementById(e),a={width:600,height:200,type:i["a"].Types.canvas},s=new i["a"](a).appendTo(o);s.scene._matrix.manual=!0,s.scene._matrix.translate(0,s.height).scale(1,-1),t[e]=s}this.two=t["draw-shapes-2"],this.two2=t["draw-shapes-3"],window.two=this.two,window.Two=i["a"],this.reset()},destroyed:function(){window.cancelAnimationFrame(this.animationId),this.animationId=void 0},methods:{reset:function(){this.stop(),Object.assign(this,c()),this.drawInit(this.two2,!1),this.drawInit(this.two,!0),this.h_prev=null,this.r_prev=null},incvar:function(){this.h_var*=2,this.r_var*=2},decvar:function(){this.h_var/=2,this.r_var/=2},stop:function(){clearInterval(this.interval),this.draw()},run:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;this.stop();var r=1;this.interval=setInterval((function(){t.step(),t.animationId=window.requestAnimationFrame(t.draw),r+=1,n&&r>n&&t.stop()}),15)},objective:function(t,n){var r=1*(1-n)*(.5*t*Math.sqrt(t)),e=100*Math.sqrt(r)*n,o=500,a=250+.0175*t*t,i=200/220*t,s=a+i+o,u=r+e;return u-s},step:function(){this.steps+=1;var t=this.h_good+this.h_var*s(),n=this.r_good+this.r_var*s();n=u(n,0,1);var r=this.objective(t,n);r>this.win_good?(this.h_good=t,this.r_good=n,this.win_good=r,this.log.push([this.steps,t,n,r,!0])):this.log.push([this.steps,t,n,r,!1])},drawInit:function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t.clear();for(var r={alignment:"right",size:10,family:"sans-serif"},e=t.makeGroup(),o=0;o<=20;o++){var a=o/20*600,i=t.makeLine(a,0,a,200);if(i.stroke="#aaa",n){var s=t.makeText(a,a-5,10,r);e.add(s)}}for(var u=0;u<=10;u++){var c=u/10*200,h=t.makeLine(0,c,600,c);if(h.stroke="#aaa",n){var l=t.makeText(Math.round(10-c/20)/10,20,10+c,r);e.add(l)}}e._matrix.manual=!0,e._matrix.translate(0,this.two.height).scale(1,-1),this.skyscraper||(this.skyscraper=t.makeRectangle(550,26,40,50),this.skyscraper.linewidth=1,this.skyscraper.stroke="black",this.skyscraper.fill="none",this.skyscraperRatio=t.makeRectangle(550,1,40,0),this.skyscraperRatio.fill="grey"),t.update()},draw:function(){var t=this,n=this.two,r=this.two2;if(this.skyscraper){var e=this.h_good/2;this.skyscraper.translation.y=1+e/2,this.skyscraper.height=e,this.skyscraperRatio.translation.y=1+e*this.r_good/2,this.skyscraperRatio.height=e*this.r_good}this.log.filter((function(t){return!t[5]})).forEach((function(e){var o=e[0],a=e[1],i=e[2],s=e[3],u=e[4];if(t.show_only_good&&!u)return null;var c=n.makeCircle(a,200*i,2);c.fill=u?"#FF8000":"#8000FF",c.linewidth=0,c.stroke="none";var h=r.makeCircle(o,50+s/5,2);h.fill=u?"#FF8000":"#8000FF",h.linewidth=0,h.stroke="none",t.h_prev&&t.r_prev&&n.makeLine(t.h_prev,200*t.r_prev,a,200*i),u&&(t.h_prev=a,t.r_prev=i),e[5]=!0})),n.update(),r.update()}},filters:{round:function(t){return Math.round(100*t)/100}}},l=h,p=(r("5285"),r("2877")),d=Object(p["a"])(l,o,a,!1,null,null,null),f=d.exports,v=r("2f62");function _(t,n){return function(r,e){var o;if(r._enhancers){var a=r;o=function(t,r,e,i){var s=o._vueGetterName;a._vueGetterName=s;var u=function(t,n,r,e){return a(t,n,r,e)};return n(s,u,[t,r,e,i])},o._enhancers=a._enhancers,o._enhancers.push(t)}else o=function(t,e,a,i){var s=o._vueGetterName;return n(s,r,[t,e,a,i])},o._enhancers=[t];return o}}function w(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];var n=t.getters||t;for(var r in n)n[r]._enhancers&&(n[r]._vueGetterName=r);return console.log(n),n}function g(t){return b(t)||y(t)||m()}function m(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function y(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function b(t){if(Array.isArray(t)){for(var n=0,r=new Array(t.length);n<t.length;n++)r[n]=t[n];return r}}window._COUNTER=new Map,window._PERF1=new Map,window._PERFM=new Map;var k=_("LOG",(function(t,n,r){return console.log("[".concat(t,"] LOG")),n.apply(void 0,g(r))})),M=_("GROUPLOG",(function(t,n,r){var e=performance.now(),o=n.apply(void 0,g(r)),a=performance.now();return console.group("[".concat(t,"]")),console.log("dt:",a-e),console.log("ts:",performance.now()),console.log("result:",o),console.groupEnd(),o})),E=_("COUNT",(function(t,n,r){return window._COUNTER=window._COUNTER||new Map,window._COUNTER[t]=(window._COUNTER[t]||0)+1,n.apply(void 0,g(r))})),R=_("PERF1",(function(t,n,r){var e=performance.now(),o=n.apply(void 0,g(r)),a=performance.now();return window._PERF1=window._PERF1||new Map,window._PERF1[t]=a-e,o})),O=_("PERFM",(function(t,n,r){var e=performance.now(),o=n.apply(void 0,g(r)),a=performance.now(),i=a-e;window._PERFM=window._PERFM||new Map;var s=window._PERFM[t]||i,u=.25;return window._PERFM[t]=(1-u)*s+u*i,o}));e["a"].use(v["a"]);var P=function(){},x=function(t){for(var n=0,r=1;r<t;r++)n+=6/(r*r);return n},F=new v["a"].Store({state:{value_a:0},mutations:{SET_VALUE_A:function(t,n){t.value_a=n}},getters:w({my_value1:k(E((function(t){return t.value_a}))),my_value2:M(O(E((function(t){P(t.value_a);var n=x(1e7);return n-Math.pow(Math.PI,2)})))),my_value3:R((function(t){return x(5e6),t.value_a}))})});r("7e79");e["a"].config.productionTip=!1,new e["a"]({store:F,render:function(t){return t(f)}}).$mount("#app")}});
//# sourceMappingURL=index.c5bb1807.js.map