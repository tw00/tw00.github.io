(function(t){var e={};function i(r){if(e[r])return e[r].exports;var n=e[r]={i:r,l:!1,exports:{}};return t[r].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=e,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(r,n,function(e){return t[e]}.bind(null,n));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s="5a74")})({2247:function(t,e,i){t.exports=function(t){var e={};function i(r){if(e[r])return e[r].exports;var n=e[r]={i:r,l:!1,exports:{}};return t[r].call(n.exports,n,n.exports,i),n.l=!0,n.exports}return i.m=t,i.c=e,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(r,n,function(e){return t[e]}.bind(null,n));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s="fb15")}({"00fd":function(t,e,i){var r=i("9e69"),n=Object.prototype,s=n.hasOwnProperty,a=n.toString,o=r?r.toStringTag:void 0;function l(t){var e=s.call(t,o),i=t[o];try{t[o]=void 0;var r=!0}catch(l){}var n=a.call(t);return r&&(e?t[o]=i:delete t[o]),n}t.exports=l},"0112":function(t,e,i){var r=i("b95f");"string"===typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);var n=i("499e").default;n("1edb2883",r,!0,{sourceMap:!1,shadowMode:!1})},"03dd":function(t,e,i){var r=i("eac5"),n=i("57a5"),s=Object.prototype,a=s.hasOwnProperty;function o(t){if(!r(t))return n(t);var e=[];for(var i in Object(t))a.call(t,i)&&"constructor"!=i&&e.push(i);return e}t.exports=o},"07c7":function(t,e){function i(){return!1}t.exports=i},"087d":function(t,e){function i(t,e){var i=-1,r=e.length,n=t.length;while(++i<r)t[n+i]=e[i];return t}t.exports=i},"09e4":function(t,e){var i=NaN,r="[object Symbol]",n=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,o=/^0o[0-7]+$/i,l=parseInt,h=Object.prototype,c=h.toString;function u(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function f(t){return!!t&&"object"==typeof t}function d(t){return"symbol"==typeof t||f(t)&&c.call(t)==r}function p(t){if("number"==typeof t)return t;if(d(t))return i;if(u(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=u(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(n,"");var r=a.test(t);return r||o.test(t)?l(t.slice(2),r?2:8):s.test(t)?i:+t}t.exports=p},"0b07":function(t,e,i){var r=i("34ac"),n=i("3698");function s(t,e){var i=n(t,e);return r(i)?i:void 0}t.exports=s},"0d24":function(t,e,i){(function(t){var r=i("2b3e"),n=i("07c7"),s=e&&!e.nodeType&&e,a=s&&"object"==typeof t&&t&&!t.nodeType&&t,o=a&&a.exports===s,l=o?r.Buffer:void 0,h=l?l.isBuffer:void 0,c=h||n;t.exports=c}).call(this,i("62e4")(t))},"0d58":function(t,e,i){var r=i("ce10"),n=i("e11e");t.exports=Object.keys||function(t){return r(t,n)}},"0f32":function(t,e,i){var r=i("b047"),n=i("1a8c"),s="Expected a function";function a(t,e,i){var a=!0,o=!0;if("function"!=typeof t)throw new TypeError(s);return n(i)&&(a="leading"in i?!!i.leading:a,o="trailing"in i?!!i.trailing:o),r(t,e,{leading:a,maxWait:e,trailing:o})}t.exports=a},"11e9":function(t,e,i){var r=i("52a7"),n=i("4630"),s=i("6821"),a=i("6a99"),o=i("69a8"),l=i("c69a"),h=Object.getOwnPropertyDescriptor;e.f=i("9e1e")?h:function(t,e){if(t=s(t),e=a(e,!0),l)try{return h(t,e)}catch(i){}if(o(t,e))return n(!r.f.call(t,e),t[e])}},1290:function(t,e){function i(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}t.exports=i},1310:function(t,e){function i(t){return null!=t&&"object"==typeof t}t.exports=i},1368:function(t,e,i){var r=i("da03"),n=function(){var t=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function s(t){return!!n&&n in t}t.exports=s},1495:function(t,e,i){var r=i("86cc"),n=i("cb7c"),s=i("0d58");t.exports=i("9e1e")?Object.defineProperties:function(t,e){n(t);var i,a=s(e),o=a.length,l=0;while(o>l)r.f(t,i=a[l++],e[i]);return t}},"1a8c":function(t,e){function i(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}t.exports=i},"1c3c":function(t,e,i){var r=i("9e69"),n=i("2474"),s=i("9638"),a=i("a2be"),o=i("edfa"),l=i("ac41"),h=1,c=2,u="[object Boolean]",f="[object Date]",d="[object Error]",p="[object Map]",_="[object Number]",g="[object RegExp]",m="[object Set]",v="[object String]",y="[object Symbol]",b="[object ArrayBuffer]",x="[object DataView]",w=r?r.prototype:void 0,k=w?w.valueOf:void 0;function A(t,e,i,r,w,A,S){switch(i){case x:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case b:return!(t.byteLength!=e.byteLength||!A(new n(t),new n(e)));case u:case f:case _:return s(+t,+e);case d:return t.name==e.name&&t.message==e.message;case g:case v:return t==e+"";case p:var O=o;case m:var M=r&h;if(O||(O=l),t.size!=e.size&&!M)return!1;var C=S.get(t);if(C)return C==e;r|=c,S.set(t,e);var T=a(O(t),O(e),r,w,A,S);return S["delete"](t),T;case y:if(k)return k.call(t)==k.call(e)}return!1}t.exports=A},"1cec":function(t,e,i){var r=i("0b07"),n=i("2b3e"),s=r(n,"Promise");t.exports=s},"1efc":function(t,e){function i(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}t.exports=i},"1fc8":function(t,e,i){var r=i("4245");function n(t,e){var i=r(this,t),n=i.size;return i.set(t,e),this.size+=i.size==n?0:1,this}t.exports=n},"230e":function(t,e,i){var r=i("d3f4"),n=i("7726").document,s=r(n)&&r(n.createElement);t.exports=function(t){return s?n.createElement(t):{}}},2350:function(t,e){function i(t,e){var i=t[1]||"",n=t[3];if(!n)return i;if(e&&"function"===typeof btoa){var s=r(n),a=n.sources.map((function(t){return"/*# sourceURL="+n.sourceRoot+t+" */"}));return[i].concat(a).concat([s]).join("\n")}return[i].join("\n")}function r(t){var e=btoa(unescape(encodeURIComponent(JSON.stringify(t)))),i="sourceMappingURL=data:application/json;charset=utf-8;base64,"+e;return"/*# "+i+" */"}t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var r=i(e,t);return e[2]?"@media "+e[2]+"{"+r+"}":r})).join("")},e.i=function(t,i){"string"===typeof t&&(t=[[null,t,""]]);for(var r={},n=0;n<this.length;n++){var s=this[n][0];"number"===typeof s&&(r[s]=!0)}for(n=0;n<t.length;n++){var a=t[n];"number"===typeof a[0]&&r[a[0]]||(i&&!a[2]?a[2]=i:i&&(a[2]="("+a[2]+") and ("+i+")"),e.push(a))}},e}},2474:function(t,e,i){var r=i("2b3e"),n=r.Uint8Array;t.exports=n},2478:function(t,e,i){var r=i("4245");function n(t){return r(this,t).get(t)}t.exports=n},"251f":function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,".w-100{width:100%}.vue-dat-gui .slider{height:25px;display:block;position:relative;cursor:ew-resize;border:1px solid #1a1a1a;background-color:#303030;background-image:-webkit-gradient(linear,left top,right top,from(#2fa1d6),to(#2fa1d6));background-image:linear-gradient(90deg,#2fa1d6,#2fa1d6);background-size:0 100%;background-repeat:no-repeat}",""])},2524:function(t,e,i){var r=i("6044"),n="__lodash_hash_undefined__";function s(t,e){var i=this.__data__;return this.size+=this.has(t)?0:1,i[t]=r&&void 0===e?n:e,this}t.exports=s},"253c":function(t,e,i){var r=i("3729"),n=i("1310"),s="[object Arguments]";function a(t){return n(t)&&r(t)==s}t.exports=a},"28c9":function(t,e){function i(){this.__data__=[],this.size=0}t.exports=i},"29f3":function(t,e){var i=Object.prototype,r=i.toString;function n(t){return r.call(t)}t.exports=n},"2aba":function(t,e,i){var r=i("7726"),n=i("32e9"),s=i("69a8"),a=i("ca5a")("src"),o=i("fa5b"),l="toString",h=(""+o).split(l);i("8378").inspectSource=function(t){return o.call(t)},(t.exports=function(t,e,i,o){var l="function"==typeof i;l&&(s(i,"name")||n(i,"name",e)),t[e]!==i&&(l&&(s(i,a)||n(i,a,t[e]?""+t[e]:h.join(String(e)))),t===r?t[e]=i:o?t[e]?t[e]=i:n(t,e,i):(delete t[e],n(t,e,i)))})(Function.prototype,l,(function(){return"function"==typeof this&&this[a]||o.call(this)}))},"2aeb":function(t,e,i){var r=i("cb7c"),n=i("1495"),s=i("e11e"),a=i("613b")("IE_PROTO"),o=function(){},l="prototype",h=function(){var t,e=i("230e")("iframe"),r=s.length,n="<",a=">";e.style.display="none",i("fab2").appendChild(e),e.src="javascript:",t=e.contentWindow.document,t.open(),t.write(n+"script"+a+"document.F=Object"+n+"/script"+a),t.close(),h=t.F;while(r--)delete h[l][s[r]];return h()};t.exports=Object.create||function(t,e){var i;return null!==t?(o[l]=r(t),i=new o,o[l]=null,i[a]=t):i=h(),void 0===e?i:n(i,e)}},"2b3e":function(t,e,i){var r=i("585a"),n="object"==typeof self&&self&&self.Object===Object&&self,s=r||n||Function("return this")();t.exports=s},"2d00":function(t,e){t.exports=!1},"2d7c":function(t,e){function i(t,e){var i=-1,r=null==t?0:t.length,n=0,s=[];while(++i<r){var a=t[i];e(a,i,t)&&(s[n++]=a)}return s}t.exports=i},"2d95":function(t,e){var i={}.toString;t.exports=function(t){return i.call(t).slice(8,-1)}},"2fcc":function(t,e){function i(t){var e=this.__data__,i=e["delete"](t);return this.size=e.size,i}t.exports=i},"30c9":function(t,e,i){var r=i("9520"),n=i("b218");function s(t){return null!=t&&n(t.length)&&!r(t)}t.exports=s},"32e9":function(t,e,i){var r=i("86cc"),n=i("4630");t.exports=i("9e1e")?function(t,e,i){return r.f(t,e,n(1,i))}:function(t,e,i){return t[e]=i,t}},"32f4":function(t,e,i){var r=i("2d7c"),n=i("d327"),s=Object.prototype,a=s.propertyIsEnumerable,o=Object.getOwnPropertySymbols,l=o?function(t){return null==t?[]:(t=Object(t),r(o(t),(function(e){return a.call(t,e)})))}:n;t.exports=l},"34ac":function(t,e,i){var r=i("9520"),n=i("1368"),s=i("1a8c"),a=i("dc57"),o=/[\\^$.*+?()[\]{}|]/g,l=/^\[object .+?Constructor\]$/,h=Function.prototype,c=Object.prototype,u=h.toString,f=c.hasOwnProperty,d=RegExp("^"+u.call(f).replace(o,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function p(t){if(!s(t)||n(t))return!1;var e=r(t)?d:l;return e.test(a(t))}t.exports=p},3698:function(t,e){function i(t,e){return null==t?void 0:t[e]}t.exports=i},3729:function(t,e,i){var r=i("9e69"),n=i("00fd"),s=i("29f3"),a="[object Null]",o="[object Undefined]",l=r?r.toStringTag:void 0;function h(t){return null==t?void 0===t?o:a:l&&l in Object(t)?n(t):s(t)}t.exports=h},"39ff":function(t,e,i){var r=i("0b07"),n=i("2b3e"),s=r(n,"WeakMap");t.exports=s},"408c":function(t,e,i){var r=i("2b3e"),n=function(){return r.Date.now()};t.exports=n},"40b3":function(t,e,i){var r=i("251f");"string"===typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);var n=i("499e").default;n("c94d2718",r,!0,{sourceMap:!1,shadowMode:!1})},4245:function(t,e,i){var r=i("1290");function n(t,e){var i=t.__data__;return r(e)?i["string"==typeof e?"string":"hash"]:i.map}t.exports=n},4284:function(t,e){function i(t,e){var i=-1,r=null==t?0:t.length;while(++i<r)if(e(t[i],i,t))return!0;return!1}t.exports=i},"42a2":function(t,e,i){var r=i("b5a7"),n=i("79bc"),s=i("1cec"),a=i("c869"),o=i("39ff"),l=i("3729"),h=i("dc57"),c="[object Map]",u="[object Object]",f="[object Promise]",d="[object Set]",p="[object WeakMap]",_="[object DataView]",g=h(r),m=h(n),v=h(s),y=h(a),b=h(o),x=l;(r&&x(new r(new ArrayBuffer(1)))!=_||n&&x(new n)!=c||s&&x(s.resolve())!=f||a&&x(new a)!=d||o&&x(new o)!=p)&&(x=function(t){var e=l(t),i=e==u?t.constructor:void 0,r=i?h(i):"";if(r)switch(r){case g:return _;case m:return c;case v:return f;case y:return d;case b:return p}return e}),t.exports=x},4588:function(t,e){var i=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:i)(t)}},4630:function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},"499e":function(t,e,i){"use strict";function r(t,e){for(var i=[],r={},n=0;n<e.length;n++){var s=e[n],a=s[0],o=s[1],l=s[2],h=s[3],c={id:t+":"+n,css:o,media:l,sourceMap:h};r[a]?r[a].parts.push(c):i.push(r[a]={id:a,parts:[c]})}return i}i.r(e),i.d(e,"default",(function(){return p}));var n="undefined"!==typeof document;if("undefined"!==typeof DEBUG&&DEBUG&&!n)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var s={},a=n&&(document.head||document.getElementsByTagName("head")[0]),o=null,l=0,h=!1,c=function(){},u=null,f="data-vue-ssr-id",d="undefined"!==typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function p(t,e,i,n){h=i,u=n||{};var a=r(t,e);return _(a),function(e){for(var i=[],n=0;n<a.length;n++){var o=a[n],l=s[o.id];l.refs--,i.push(l)}e?(a=r(t,e),_(a)):a=[];for(n=0;n<i.length;n++){l=i[n];if(0===l.refs){for(var h=0;h<l.parts.length;h++)l.parts[h]();delete s[l.id]}}}}function _(t){for(var e=0;e<t.length;e++){var i=t[e],r=s[i.id];if(r){r.refs++;for(var n=0;n<r.parts.length;n++)r.parts[n](i.parts[n]);for(;n<i.parts.length;n++)r.parts.push(m(i.parts[n]));r.parts.length>i.parts.length&&(r.parts.length=i.parts.length)}else{var a=[];for(n=0;n<i.parts.length;n++)a.push(m(i.parts[n]));s[i.id]={id:i.id,refs:1,parts:a}}}}function g(){var t=document.createElement("style");return t.type="text/css",a.appendChild(t),t}function m(t){var e,i,r=document.querySelector("style["+f+'~="'+t.id+'"]');if(r){if(h)return c;r.parentNode.removeChild(r)}if(d){var n=l++;r=o||(o=g()),e=y.bind(null,r,n,!1),i=y.bind(null,r,n,!0)}else r=g(),e=b.bind(null,r),i=function(){r.parentNode.removeChild(r)};return e(t),function(r){if(r){if(r.css===t.css&&r.media===t.media&&r.sourceMap===t.sourceMap)return;e(t=r)}else i()}}var v=function(){var t=[];return function(e,i){return t[e]=i,t.filter(Boolean).join("\n")}}();function y(t,e,i,r){var n=i?"":r.css;if(t.styleSheet)t.styleSheet.cssText=v(e,n);else{var s=document.createTextNode(n),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(s,a[e]):t.appendChild(s)}}function b(t,e){var i=e.css,r=e.media,n=e.sourceMap;if(r&&t.setAttribute("media",r),u.ssrId&&t.setAttribute(f,e.id),n&&(i+="\n/*# sourceURL="+n.sources[0]+" */",i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */"),t.styleSheet)t.styleSheet.cssText=i;else{while(t.firstChild)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(i))}}},"49f4":function(t,e,i){var r=i("6044");function n(){this.__data__=r?r(null):{},this.size=0}t.exports=n},"50d8":function(t,e){function i(t,e){var i=-1,r=Array(t);while(++i<t)r[i]=e(i);return r}t.exports=i},"52a7":function(t,e){e.f={}.propertyIsEnumerable},5537:function(t,e,i){var r=i("8378"),n=i("7726"),s="__core-js_shared__",a=n[s]||(n[s]={});(t.exports=function(t,e){return a[t]||(a[t]=void 0!==e?e:{})})("versions",[]).push({version:r.version,mode:i("2d00")?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},"55a3":function(t,e){function i(t){return this.__data__.has(t)}t.exports=i},"57a5":function(t,e,i){var r=i("91e9"),n=r(Object.keys,Object);t.exports=n},"585a":function(t,e,i){(function(e){var i="object"==typeof e&&e&&e.Object===Object&&e;t.exports=i}).call(this,i("c8ba"))},"5ca1":function(t,e,i){var r=i("7726"),n=i("8378"),s=i("32e9"),a=i("2aba"),o=i("9b43"),l="prototype",h=function(t,e,i){var c,u,f,d,p=t&h.F,_=t&h.G,g=t&h.S,m=t&h.P,v=t&h.B,y=_?r:g?r[e]||(r[e]={}):(r[e]||{})[l],b=_?n:n[e]||(n[e]={}),x=b[l]||(b[l]={});for(c in _&&(i=e),i)u=!p&&y&&void 0!==y[c],f=(u?y:i)[c],d=v&&u?o(f,r):m&&"function"==typeof f?o(Function.call,f):f,y&&a(y,c,f,t&h.U),b[c]!=f&&s(b,c,d),m&&x[c]!=f&&(x[c]=f)};r.core=n,h.F=1,h.G=2,h.S=4,h.P=8,h.B=16,h.W=32,h.U=64,h.R=128,t.exports=h},"5dbc":function(t,e,i){var r=i("d3f4"),n=i("8b97").set;t.exports=function(t,e,i){var s,a=e.constructor;return a!==i&&"function"==typeof a&&(s=a.prototype)!==i.prototype&&r(s)&&n&&n(t,s),t}},"5e2e":function(t,e,i){var r=i("28c9"),n=i("69d5"),s=i("b4c0"),a=i("fba5"),o=i("67ca");function l(t){var e=-1,i=null==t?0:t.length;this.clear();while(++e<i){var r=t[e];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype["delete"]=n,l.prototype.get=s,l.prototype.has=a,l.prototype.set=o,t.exports=l},6044:function(t,e,i){var r=i("0b07"),n=r(Object,"create");t.exports=n},"613b":function(t,e,i){var r=i("5537")("keys"),n=i("ca5a");t.exports=function(t){return r[t]||(r[t]=n(t))}},"626a":function(t,e,i){var r=i("2d95");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},"62e4":function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},"63ea":function(t,e,i){var r=i("c05f");function n(t,e){return r(t,e)}t.exports=n},6747:function(t,e){var i=Array.isArray;t.exports=i},"67ca":function(t,e,i){var r=i("cb5a");function n(t,e){var i=this.__data__,n=r(i,t);return n<0?(++this.size,i.push([t,e])):i[n][1]=e,this}t.exports=n},6821:function(t,e,i){var r=i("626a"),n=i("be13");t.exports=function(t){return r(n(t))}},"69a8":function(t,e){var i={}.hasOwnProperty;t.exports=function(t,e){return i.call(t,e)}},"69d5":function(t,e,i){var r=i("cb5a"),n=Array.prototype,s=n.splice;function a(t){var e=this.__data__,i=r(e,t);if(i<0)return!1;var n=e.length-1;return i==n?e.pop():s.call(e,i,1),--this.size,!0}t.exports=a},"6a99":function(t,e,i){var r=i("d3f4");t.exports=function(t,e){if(!r(t))return t;var i,n;if(e&&"function"==typeof(i=t.toString)&&!r(n=i.call(t)))return n;if("function"==typeof(i=t.valueOf)&&!r(n=i.call(t)))return n;if(!e&&"function"==typeof(i=t.toString)&&!r(n=i.call(t)))return n;throw TypeError("Can't convert object to primitive value")}},"6cc6":function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,".w-100{width:100%}.vue-dat-gui{position:fixed;top:0;right:20px;width:245px;font-size:12px;font-family:sans-serif;color:#eee}.vue-dat-gui.closed ul{display:none}.vue-dat-gui .toggle-button{text-align:center;line-height:19px;height:20px;cursor:pointer;background-color:#1a1a1a}.vue-dat-gui .toggle-button:hover{background-color:#272727}.vue-dat-gui .group{overflow:hidden}.vue-dat-gui .group ul{margin:0;padding:0}.vue-dat-gui .group li:not(.folder){cursor:auto;height:27px;line-height:27px;overflow:hidden;padding:0 4px 0 5px;border-bottom:1px solid #272727}.vue-dat-gui .group.group--main>ul{max-height:50vh;overflow-y:auto}.vue-dat-gui .group.group--main>ul::-webkit-scrollbar{width:5px;background:#1a1a1a}.vue-dat-gui .group.group--main>ul::-webkit-scrollbar-corner{height:0;display:none}.vue-dat-gui .group.group--main>ul::-webkit-scrollbar-thumb{border-radius:5px;background:#676767}.vue-dat-gui .control-item{background-color:#1a1a1a;border-left:5px solid}.vue-dat-gui .control-item.boolean{border-left-color:#806787}.vue-dat-gui .control-item.boolean .control{text-align:center}.vue-dat-gui .control-item.button{border-left-color:#e61d5f}.vue-dat-gui .control-item.number{border-left-color:#2fa1d6}.vue-dat-gui .control-item.select{border-left-color:#f4d450}.vue-dat-gui .control-item.string{border-left-color:#1ed36f}.vue-dat-gui .control-item.color{border-left-color:#1a1a1a}.vue-dat-gui .control-item.boolean:hover,.vue-dat-gui .control-item.button:hover{background:#111}.vue-dat-gui .control-item.boolean label,.vue-dat-gui .control-item.button label{cursor:pointer}.vue-dat-gui .control-item label{display:-webkit-box;display:-ms-flexbox;display:flex;padding:0 0 0 5px}.vue-dat-gui .control-item .label-text{width:40%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;text-align:left}.vue-dat-gui .control-item .control{float:left;width:60%}.vue-dat-gui .control-item .control>input[type=number],.vue-dat-gui .control-item .control>input[type=text]{background:#303030;border:1px solid #1a1a1a;border-radius:0;width:100%;padding:4px;margin:0;outline:none;font-size:inherit}.vue-dat-gui .control-item .control>input[type=number]::-ms-clear,.vue-dat-gui .control-item .control>input[type=text]::-ms-clear{display:none}.vue-dat-gui .control-item .control>input[type=number]:hover,.vue-dat-gui .control-item .control>input[type=text]:hover{background:#3c3c3c}.vue-dat-gui .control-item .control>input[type=number]:focus,.vue-dat-gui .control-item .control>input[type=text]:focus{background:#494949;color:#fff}.vue-dat-gui .control-item .control>input[type=text]{color:#1ed36f}.vue-dat-gui .control-item .control>input[type=number]{color:#2fa1d6}.vue-dat-gui .control-item .control:hover .selector,.vue-dat-gui .control-item .selector.drag{display:block}",""])},"6d57":function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,".w-100{width:100%}.vue-dat-gui .control-item.color input[type=text]{text-align:center}.vue-dat-gui .control-item.color .control>div{position:absolute;right:0;width:200px;z-index:1}",""])},"6e6b":function(t,e){var i=NaN,r="[object Symbol]",n=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,o=/^0o[0-7]+$/i,l=parseInt,h=Object.prototype,c=h.toString;function u(t,e,i){return t===t&&(void 0!==i&&(t=t<=i?t:i),void 0!==e&&(t=t>=e?t:e)),t}function f(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function d(t){return!!t&&"object"==typeof t}function p(t){return"symbol"==typeof t||d(t)&&c.call(t)==r}function _(t){if("number"==typeof t)return t;if(p(t))return i;if(f(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=f(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(n,"");var r=a.test(t);return r||o.test(t)?l(t.slice(2),r?2:8):s.test(t)?i:+t}function g(t,e,i){return void 0===i&&(i=e,e=void 0),void 0!==i&&(i=_(i),i=i===i?i:0),void 0!==e&&(e=_(e),e=e===e?e:0),u(_(t),e,i)}t.exports=g},"6fcd":function(t,e,i){var r=i("50d8"),n=i("d370"),s=i("6747"),a=i("0d24"),o=i("c098"),l=i("73ac"),h=Object.prototype,c=h.hasOwnProperty;function u(t,e){var i=s(t),h=!i&&n(t),u=!i&&!h&&a(t),f=!i&&!h&&!u&&l(t),d=i||h||u||f,p=d?r(t.length,String):[],_=p.length;for(var g in t)!e&&!c.call(t,g)||d&&("length"==g||u&&("offset"==g||"parent"==g)||f&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||o(g,_))||p.push(g);return p}t.exports=u},"73ac":function(t,e,i){var r=i("743f"),n=i("b047f"),s=i("99d3"),a=s&&s.isTypedArray,o=a?n(a):r;t.exports=o},"743f":function(t,e,i){var r=i("3729"),n=i("b218"),s=i("1310"),a="[object Arguments]",o="[object Array]",l="[object Boolean]",h="[object Date]",c="[object Error]",u="[object Function]",f="[object Map]",d="[object Number]",p="[object Object]",_="[object RegExp]",g="[object Set]",m="[object String]",v="[object WeakMap]",y="[object ArrayBuffer]",b="[object DataView]",x="[object Float32Array]",w="[object Float64Array]",k="[object Int8Array]",A="[object Int16Array]",S="[object Int32Array]",O="[object Uint8Array]",M="[object Uint8ClampedArray]",C="[object Uint16Array]",T="[object Uint32Array]",j={};function E(t){return s(t)&&n(t.length)&&!!j[r(t)]}j[x]=j[w]=j[k]=j[A]=j[S]=j[O]=j[M]=j[C]=j[T]=!0,j[a]=j[o]=j[y]=j[l]=j[b]=j[h]=j[c]=j[u]=j[f]=j[d]=j[p]=j[_]=j[g]=j[m]=j[v]=!1,t.exports=E},7726:function(t,e){var i=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=i)},"77f1":function(t,e,i){var r=i("4588"),n=Math.max,s=Math.min;t.exports=function(t,e){return t=r(t),t<0?n(t+e,0):s(t,e)}},"79bc":function(t,e,i){var r=i("0b07"),n=i("2b3e"),s=r(n,"Map");t.exports=s},"79e5":function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},"7a48":function(t,e,i){var r=i("6044"),n=Object.prototype,s=n.hasOwnProperty;function a(t){var e=this.__data__;return r?void 0!==e[t]:s.call(e,t)}t.exports=a},"7b83":function(t,e,i){var r=i("7c64"),n=i("93ed"),s=i("2478"),a=i("a524"),o=i("1fc8");function l(t){var e=-1,i=null==t?0:t.length;this.clear();while(++e<i){var r=t[e];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype["delete"]=n,l.prototype.get=s,l.prototype.has=a,l.prototype.set=o,t.exports=l},"7b97":function(t,e,i){var r=i("7e64"),n=i("a2be"),s=i("1c3c"),a=i("b1e5"),o=i("42a2"),l=i("6747"),h=i("0d24"),c=i("73ac"),u=1,f="[object Arguments]",d="[object Array]",p="[object Object]",_=Object.prototype,g=_.hasOwnProperty;function m(t,e,i,_,m,v){var y=l(t),b=l(e),x=y?d:o(t),w=b?d:o(e);x=x==f?p:x,w=w==f?p:w;var k=x==p,A=w==p,S=x==w;if(S&&h(t)){if(!h(e))return!1;y=!0,k=!1}if(S&&!k)return v||(v=new r),y||c(t)?n(t,e,i,_,m,v):s(t,e,x,i,_,m,v);if(!(i&u)){var O=k&&g.call(t,"__wrapped__"),M=A&&g.call(e,"__wrapped__");if(O||M){var C=O?t.value():t,T=M?e.value():e;return v||(v=new r),m(C,T,i,_,v)}}return!!S&&(v||(v=new r),a(t,e,i,_,m,v))}t.exports=m},"7c64":function(t,e,i){var r=i("e24b"),n=i("5e2e"),s=i("79bc");function a(){this.size=0,this.__data__={hash:new r,map:new(s||n),string:new r}}t.exports=a},"7d1f":function(t,e,i){var r=i("087d"),n=i("6747");function s(t,e,i){var s=e(t);return n(t)?s:r(s,i(t))}t.exports=s},"7e64":function(t,e,i){var r=i("5e2e"),n=i("efb6"),s=i("2fcc"),a=i("802a"),o=i("55a3"),l=i("d02c");function h(t){var e=this.__data__=new r(t);this.size=e.size}h.prototype.clear=n,h.prototype["delete"]=s,h.prototype.get=a,h.prototype.has=o,h.prototype.set=l,t.exports=h},"7ed2":function(t,e){var i="__lodash_hash_undefined__";function r(t){return this.__data__.set(t,i),this}t.exports=r},"7f7f":function(t,e,i){var r=i("86cc").f,n=Function.prototype,s=/^\s*function ([^ (]*)/,a="name";a in n||i("9e1e")&&r(n,a,{configurable:!0,get:function(){try{return(""+this).match(s)[1]}catch(t){return""}}})},"802a":function(t,e){function i(t){return this.__data__.get(t)}t.exports=i},8378:function(t,e){var i=t.exports={version:"2.6.5"};"number"==typeof __e&&(__e=i)},8384:function(t,e){function i(t,e,i){return t===t&&(void 0!==i&&(t=t<=i?t:i),void 0!==e&&(t=t>=e?t:e)),t}t.exports=i},"83a0":function(t,e,i){var r=i("6cc6");"string"===typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);var n=i("499e").default;n("0540ec32",r,!0,{sourceMap:!1,shadowMode:!1})},"86cc":function(t,e,i){var r=i("cb7c"),n=i("c69a"),s=i("6a99"),a=Object.defineProperty;e.f=i("9e1e")?Object.defineProperty:function(t,e,i){if(r(t),e=s(e,!0),r(i),n)try{return a(t,e,i)}catch(o){}if("get"in i||"set"in i)throw TypeError("Accessors not supported!");return"value"in i&&(t[e]=i.value),t}},"8b97":function(t,e,i){var r=i("d3f4"),n=i("cb7c"),s=function(t,e){if(n(t),!r(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,r){try{r=i("9b43")(Function.call,i("11e9").f(Object.prototype,"__proto__").set,2),r(t,[]),e=!(t instanceof Array)}catch(n){e=!0}return function(t,i){return s(t,i),e?t.__proto__=i:r(t,i),t}}({},!1):void 0),check:s}},9093:function(t,e,i){var r=i("ce10"),n=i("e11e").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,n)}},"90c4":function(t,e,i){var r=i("fe0f");"string"===typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);var n=i("499e").default;n("31b8b88d",r,!0,{sourceMap:!1,shadowMode:!1})},"91e9":function(t,e){function i(t,e){return function(i){return t(e(i))}}t.exports=i},9260:function(t,e,i){"use strict";var r=i("83a0"),n=i.n(r);n.a},"93ed":function(t,e,i){var r=i("4245");function n(t){var e=r(this,t)["delete"](t);return this.size-=e?1:0,e}t.exports=n},9520:function(t,e,i){var r=i("3729"),n=i("1a8c"),s="[object AsyncFunction]",a="[object Function]",o="[object GeneratorFunction]",l="[object Proxy]";function h(t){if(!n(t))return!1;var e=r(t);return e==a||e==o||e==s||e==l}t.exports=h},9638:function(t,e){function i(t,e){return t===e||t!==t&&e!==e}t.exports=i},"99d3":function(t,e,i){(function(t){var r=i("585a"),n=e&&!e.nodeType&&e,s=n&&"object"==typeof t&&t&&!t.nodeType&&t,a=s&&s.exports===n,o=a&&r.process,l=function(){try{var t=s&&s.require&&s.require("util").types;return t||o&&o.binding&&o.binding("util")}catch(e){}}();t.exports=l}).call(this,i("62e4")(t))},"9b43":function(t,e,i){var r=i("d8e8");t.exports=function(t,e,i){if(r(t),void 0===e)return t;switch(i){case 1:return function(i){return t.call(e,i)};case 2:return function(i,r){return t.call(e,i,r)};case 3:return function(i,r,n){return t.call(e,i,r,n)}}return function(){return t.apply(e,arguments)}}},"9def":function(t,e,i){var r=i("4588"),n=Math.min;t.exports=function(t){return t>0?n(r(t),9007199254740991):0}},"9e1e":function(t,e,i){t.exports=!i("79e5")((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},"9e69":function(t,e,i){var r=i("2b3e"),n=r.Symbol;t.exports=n},a2be:function(t,e,i){var r=i("d612"),n=i("4284"),s=i("c584"),a=1,o=2;function l(t,e,i,l,h,c){var u=i&a,f=t.length,d=e.length;if(f!=d&&!(u&&d>f))return!1;var p=c.get(t);if(p&&c.get(e))return p==e;var _=-1,g=!0,m=i&o?new r:void 0;c.set(t,e),c.set(e,t);while(++_<f){var v=t[_],y=e[_];if(l)var b=u?l(y,v,_,e,t,c):l(v,y,_,t,e,c);if(void 0!==b){if(b)continue;g=!1;break}if(m){if(!n(e,(function(t,e){if(!s(m,e)&&(v===t||h(v,t,i,l,c)))return m.push(e)}))){g=!1;break}}else if(v!==y&&!h(v,y,i,l,c)){g=!1;break}}return c["delete"](t),c["delete"](e),g}t.exports=l},a524:function(t,e,i){var r=i("4245");function n(t){return r(this,t).has(t)}t.exports=n},a76a:function(t,e,i){"use strict";var r=i("90c4"),n=i.n(r);n.a},a93b:function(t,e,i){var r=i("f7e7");"string"===typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);var n=i("499e").default;n("2c254fba",r,!0,{sourceMap:!1,shadowMode:!1})},a994:function(t,e,i){var r=i("7d1f"),n=i("32f4"),s=i("ec69");function a(t){return r(t,s,n)}t.exports=a},aa77:function(t,e,i){var r=i("5ca1"),n=i("be13"),s=i("79e5"),a=i("fdef"),o="["+a+"]",l="​",h=RegExp("^"+o+o+"*"),c=RegExp(o+o+"*$"),u=function(t,e,i){var n={},o=s((function(){return!!a[t]()||l[t]()!=l})),h=n[t]=o?e(f):a[t];i&&(n[i]=h),r(r.P+r.F*o,"String",n)},f=u.trim=function(t,e){return t=String(n(t)),1&e&&(t=t.replace(h,"")),2&e&&(t=t.replace(c,"")),t};t.exports=u},ac41:function(t,e){function i(t){var e=-1,i=Array(t.size);return t.forEach((function(t){i[++e]=t})),i}t.exports=i},b047:function(t,e,i){var r=i("1a8c"),n=i("408c"),s=i("b4b0"),a="Expected a function",o=Math.max,l=Math.min;function h(t,e,i){var h,c,u,f,d,p,_=0,g=!1,m=!1,v=!0;if("function"!=typeof t)throw new TypeError(a);function y(e){var i=h,r=c;return h=c=void 0,_=e,f=t.apply(r,i),f}function b(t){return _=t,d=setTimeout(k,e),g?y(t):f}function x(t){var i=t-p,r=t-_,n=e-i;return m?l(n,u-r):n}function w(t){var i=t-p,r=t-_;return void 0===p||i>=e||i<0||m&&r>=u}function k(){var t=n();if(w(t))return A(t);d=setTimeout(k,x(t))}function A(t){return d=void 0,v&&h?y(t):(h=c=void 0,f)}function S(){void 0!==d&&clearTimeout(d),_=0,h=p=c=d=void 0}function O(){return void 0===d?f:A(n())}function M(){var t=n(),i=w(t);if(h=arguments,c=this,p=t,i){if(void 0===d)return b(p);if(m)return d=setTimeout(k,e),y(p)}return void 0===d&&(d=setTimeout(k,e)),f}return e=s(e)||0,r(i)&&(g=!!i.leading,m="maxWait"in i,u=m?o(s(i.maxWait)||0,e):u,v="trailing"in i?!!i.trailing:v),M.cancel=S,M.flush=O,M}t.exports=h},b047f:function(t,e){function i(t){return function(e){return t(e)}}t.exports=i},b1e5:function(t,e,i){var r=i("a994"),n=1,s=Object.prototype,a=s.hasOwnProperty;function o(t,e,i,s,o,l){var h=i&n,c=r(t),u=c.length,f=r(e),d=f.length;if(u!=d&&!h)return!1;var p=u;while(p--){var _=c[p];if(!(h?_ in e:a.call(e,_)))return!1}var g=l.get(t);if(g&&l.get(e))return g==e;var m=!0;l.set(t,e),l.set(e,t);var v=h;while(++p<u){_=c[p];var y=t[_],b=e[_];if(s)var x=h?s(b,y,_,e,t,l):s(y,b,_,t,e,l);if(!(void 0===x?y===b||o(y,b,i,s,l):x)){m=!1;break}v||(v="constructor"==_)}if(m&&!v){var w=t.constructor,k=e.constructor;w==k||!("constructor"in t)||!("constructor"in e)||"function"==typeof w&&w instanceof w&&"function"==typeof k&&k instanceof k||(m=!1)}return l["delete"](t),l["delete"](e),m}t.exports=o},b218:function(t,e){var i=9007199254740991;function r(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=i}t.exports=r},b4b0:function(t,e,i){var r=i("1a8c"),n=i("ffd6"),s=NaN,a=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,h=/^0o[0-7]+$/i,c=parseInt;function u(t){if("number"==typeof t)return t;if(n(t))return s;if(r(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=r(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(a,"");var i=l.test(t);return i||h.test(t)?c(t.slice(2),i?2:8):o.test(t)?s:+t}t.exports=u},b4c0:function(t,e,i){var r=i("cb5a");function n(t){var e=this.__data__,i=r(e,t);return i<0?void 0:e[i][1]}t.exports=n},b5a7:function(t,e,i){var r=i("0b07"),n=i("2b3e"),s=r(n,"DataView");t.exports=s},b95f:function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,".vue-dat-gui .control-item.number .control{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex}.vue-dat-gui .control-item.number .control .slider{-webkit-box-flex:3;-ms-flex:3;flex:3}.vue-dat-gui .control-item.number .control .input{-webkit-box-flex:1;-ms-flex:1;flex:1}.vue-dat-gui .control-item.number input[type=number]{-moz-appearance:textfield}.vue-dat-gui .control-item.number input[type=number]::-webkit-inner-spin-button,.vue-dat-gui .control-item.number input[type=number]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}",""])},bbc0:function(t,e,i){var r=i("6044"),n="__lodash_hash_undefined__",s=Object.prototype,a=s.hasOwnProperty;function o(t){var e=this.__data__;if(r){var i=e[t];return i===n?void 0:i}return a.call(e,t)?e[t]:void 0}t.exports=o},be13:function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},c05f:function(t,e,i){var r=i("7b97"),n=i("1310");function s(t,e,i,a,o){return t===e||(null==t||null==e||!n(t)&&!n(e)?t!==t&&e!==e:r(t,e,i,a,s,o))}t.exports=s},c098:function(t,e){var i=9007199254740991,r=/^(?:0|[1-9]\d*)$/;function n(t,e){var n=typeof t;return e=null==e?i:e,!!e&&("number"==n||"symbol"!=n&&r.test(t))&&t>-1&&t%1==0&&t<e}t.exports=n},c366:function(t,e,i){var r=i("6821"),n=i("9def"),s=i("77f1");t.exports=function(t){return function(e,i,a){var o,l=r(e),h=n(l.length),c=s(a,h);if(t&&i!=i){while(h>c)if(o=l[c++],o!=o)return!0}else for(;h>c;c++)if((t||c in l)&&l[c]===i)return t||c||0;return!t&&-1}}},c584:function(t,e){function i(t,e){return t.has(e)}t.exports=i},c5f6:function(t,e,i){"use strict";var r=i("7726"),n=i("69a8"),s=i("2d95"),a=i("5dbc"),o=i("6a99"),l=i("79e5"),h=i("9093").f,c=i("11e9").f,u=i("86cc").f,f=i("aa77").trim,d="Number",p=r[d],_=p,g=p.prototype,m=s(i("2aeb")(g))==d,v="trim"in String.prototype,y=function(t){var e=o(t,!1);if("string"==typeof e&&e.length>2){e=v?e.trim():f(e,3);var i,r,n,s=e.charCodeAt(0);if(43===s||45===s){if(i=e.charCodeAt(2),88===i||120===i)return NaN}else if(48===s){switch(e.charCodeAt(1)){case 66:case 98:r=2,n=49;break;case 79:case 111:r=8,n=55;break;default:return+e}for(var a,l=e.slice(2),h=0,c=l.length;h<c;h++)if(a=l.charCodeAt(h),a<48||a>n)return NaN;return parseInt(l,r)}}return+e};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function(t){var e=arguments.length<1?0:t,i=this;return i instanceof p&&(m?l((function(){g.valueOf.call(i)})):s(i)!=d)?a(new _(y(e)),i,p):y(e)};for(var b,x=i("9e1e")?h(_):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),w=0;x.length>w;w++)n(_,b=x[w])&&!n(p,b)&&u(p,b,c(_,b));p.prototype=g,g.constructor=p,i("2aba")(r,d,p)}},c69a:function(t,e,i){t.exports=!i("9e1e")&&!i("79e5")((function(){return 7!=Object.defineProperty(i("230e")("div"),"a",{get:function(){return 7}}).a}))},c869:function(t,e,i){var r=i("0b07"),n=i("2b3e"),s=r(n,"Set");t.exports=s},c8ba:function(t,e){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(r){"object"===typeof window&&(i=window)}t.exports=i},ca50:function(t,e,i){"use strict";var r=i("40b3"),n=i.n(r);n.a},ca5a:function(t,e){var i=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++i+r).toString(36))}},cb5a:function(t,e,i){var r=i("9638");function n(t,e){var i=t.length;while(i--)if(r(t[i][0],e))return i;return-1}t.exports=n},cb7c:function(t,e,i){var r=i("d3f4");t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},ce10:function(t,e,i){var r=i("69a8"),n=i("6821"),s=i("c366")(!1),a=i("613b")("IE_PROTO");t.exports=function(t,e){var i,o=n(t),l=0,h=[];for(i in o)i!=a&&r(o,i)&&h.push(i);while(e.length>l)r(o,i=e[l++])&&(~s(h,i)||h.push(i));return h}},d02c:function(t,e,i){var r=i("5e2e"),n=i("79bc"),s=i("7b83"),a=200;function o(t,e){var i=this.__data__;if(i instanceof r){var o=i.__data__;if(!n||o.length<a-1)return o.push([t,e]),this.size=++i.size,this;i=this.__data__=new s(o)}return i.set(t,e),this.size=i.size,this}t.exports=o},d171:function(t,e,i){"use strict";var r=i("db9a"),n=i.n(r);n.a},d327:function(t,e){function i(){return[]}t.exports=i},d370:function(t,e,i){var r=i("253c"),n=i("1310"),s=Object.prototype,a=s.hasOwnProperty,o=s.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(t){return n(t)&&a.call(t,"callee")&&!o.call(t,"callee")};t.exports=l},d3f4:function(t,e){t.exports=function(t){return"object"===typeof t?null!==t:"function"===typeof t}},d612:function(t,e,i){var r=i("7b83"),n=i("7ed2"),s=i("dc0f");function a(t){var e=-1,i=null==t?0:t.length;this.__data__=new r;while(++e<i)this.add(t[e])}a.prototype.add=a.prototype.push=n,a.prototype.has=s,t.exports=a},d698:function(t,e,i){"use strict";var r=i("0112"),n=i.n(r);n.a},d8e8:function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},da03:function(t,e,i){var r=i("2b3e"),n=r["__core-js_shared__"];t.exports=n},db9a:function(t,e,i){var r=i("6d57");"string"===typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);var n=i("499e").default;n("017fc4e7",r,!0,{sourceMap:!1,shadowMode:!1})},dc0f:function(t,e){function i(t){return this.__data__.has(t)}t.exports=i},dc57:function(t,e){var i=Function.prototype,r=i.toString;function n(t){if(null!=t){try{return r.call(t)}catch(e){}try{return t+""}catch(e){}}return""}t.exports=n},e11e:function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},e24b:function(t,e,i){var r=i("49f4"),n=i("1efc"),s=i("bbc0"),a=i("7a48"),o=i("2524");function l(t){var e=-1,i=null==t?0:t.length;this.clear();while(++e<i){var r=t[e];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype["delete"]=n,l.prototype.get=s,l.prototype.has=a,l.prototype.set=o,t.exports=l},eac5:function(t,e){var i=Object.prototype;function r(t){var e=t&&t.constructor,r="function"==typeof e&&e.prototype||i;return t===r}t.exports=r},ec69:function(t,e,i){var r=i("6fcd"),n=i("03dd"),s=i("30c9");function a(t){return s(t)?r(t):n(t)}t.exports=a},edfa:function(t,e){function i(t){var e=-1,i=Array(t.size);return t.forEach((function(t,r){i[++e]=[r,t]})),i}t.exports=i},efb6:function(t,e,i){var r=i("5e2e");function n(){this.__data__=new r,this.size=0}t.exports=n},f678:function(t,e,i){var r=i("8384"),n=i("b4b0");function s(t,e,i){return void 0===i&&(i=e,e=void 0),void 0!==i&&(i=n(i),i=i===i?i:0),void 0!==e&&(e=n(e),e=e===e?e:0),r(n(t),e,i)}t.exports=s},f6fd:function(t,e){(function(t){var e="currentScript",i=t.getElementsByTagName("script");e in t||Object.defineProperty(t,e,{get:function(){try{throw new Error}catch(r){var t,e=(/.*at [^\(]*\((.*):.+:.+\)$/gi.exec(r.stack)||[!1])[1];for(t in i)if(i[t].src==e||"interactive"==i[t].readyState)return i[t];return null}}})})(document)},f7e7:function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,".cp__wrapper{width:250px;margin:0;background:#fff;border-radius:2px;-webkit-box-shadow:0 0 2px rgba(0,0,0,.3),0 4px 8px rgba(0,0,0,.3);box-shadow:0 0 2px rgba(0,0,0,.3),0 4px 8px rgba(0,0,0,.3);font-family:Menlo,Microsoft Yahei,sans-serif;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.cp__v-ctrl{position:relative}.cp__thumb{position:absolute;width:12px;height:12px;top:0;border-radius:50%;margin-top:-1px;-webkit-transform:translateX(-50%);transform:translateX(-50%);background-color:#f8f8f8;-webkit-box-shadow:0 1px 4px 0 rgba(0,0,0,.368627);box-shadow:0 1px 4px 0 rgba(0,0,0,.368627);cursor:default}.cp__saturation{position:relative;width:100%;padding-bottom:55%;border-radius:2px 2px 0 0;overflow:hidden}.cp__saturation>div{position:absolute;top:0;left:0;right:0;bottom:0;margin:0}.cp__saturation>.msk-white{background:-webkit-gradient(linear,left top,right top,from(#fff),to(hsla(0,0%,100%,0)));background:linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.cp__saturation>.msk-black{background:-webkit-gradient(linear,left bottom,left top,from(#000),to(transparent));background:linear-gradient(0deg,#000,transparent)}.cp__saturation>.cp__thumb{background-color:transparent;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);-webkit-box-shadow:0 0 0 1.5px #fff,inset 0 0 1px 1px rgba(0,0,0,.3),0 0 1px 2px rgba(0,0,0,.4);box-shadow:0 0 0 1.5px #fff,inset 0 0 1px 1px rgba(0,0,0,.3),0 0 1px 2px rgba(0,0,0,.4)}.cp__ctrl-pane{position:relative;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box;padding:16px 16px 12px}.cp__ctrl-pane>div{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.cp__tracks{-webkit-box-flex:1;-ms-flex:1 0 0px;flex:1 0 0}.cp__ctrl-bar{height:10px}.cp__ctrl-hue{background:-webkit-gradient(linear,right top,left top,from(red),color-stop(17%,#ff0),color-stop(33%,#0f0),color-stop(50%,#0ff),color-stop(67%,#00f),color-stop(83%,#f0f),to(red));background:linear-gradient(-90deg,red,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.cp__ctrl-alpha{margin-top:8px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAMUlEQVQ4T2NkYGAQYcAP3uCTZhw1gGGYhAGBZIA/nYDCgBDAm9BGDWAAJyRCgLaBCAAgXwixzAS0pgAAAABJRU5ErkJggg==) 0}.cp__preview{position:relative;width:28px;height:28px;margin-right:5px;overflow:hidden;border-radius:50%;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAMUlEQVQ4T2NkYGAQYcAP3uCTZhw1gGGYhAGBZIA/nYDCgBDAm9BGDWAAJyRCgLaBCAAgXwixzAS0pgAAAABJRU5ErkJggg==) 50%}.cp__preview>div{position:absolute;left:0;top:0;width:100%;height:100%;border-radius:50%;border:1px solid transparent;-webkit-box-sizing:border-box;box-sizing:border-box}.cp__fm-fields{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-ms-flex:1;flex:1}.cp__fm-fields>div{padding-left:6px;-webkit-box-flex:1;-ms-flex:1 0 0px;flex:1 0 0}.cp__fm-fields input{width:100%;height:22px;font-size:11px;text-align:center;color:#333;border-radius:2px;border:none;-webkit-box-shadow:#dadada 0 0 0 1px inset;box-shadow:inset 0 0 0 1px #dadada;-webkit-transition:-webkit-box-shadow .2s ease;transition:-webkit-box-shadow .2s ease;transition:box-shadow .2s ease;transition:box-shadow .2s ease,-webkit-box-shadow .2s ease;-moz-appearance:textfield}.cp__fm-fields input:focus{outline:0;-webkit-box-shadow:#007dff 0 0 0 1px inset;box-shadow:inset 0 0 0 1px #007dff}.cp__fm-fields input::-webkit-inner-spin-button,.cp__fm-fields input::-webkit-outer-spin-button{-webkit-appearance:none!important;margin:0}.cp__fm-fields span{display:block;margin-top:12px;text-transform:uppercase;font-size:11px;line-height:11px;color:#969696;text-align:center}.cp__fm-switcher{position:relative;width:32px;text-align:right}.cp__fm-switcher>div{position:relative;margin-right:-4px;margin-top:12px;cursor:pointer}.cp__fm-switcher>div>svg{width:24px;height:24px;border-radius:5px;background:transparent;border:1px solid transparent}.cp__fm-switcher>div>svg:hover{border-color:#eee;background:#eee}",""])},fa5b:function(t,e,i){t.exports=i("5537")("native-function-to-string",Function.toString)},fab2:function(t,e,i){var r=i("7726").document;t.exports=r&&r.documentElement},fb15:function(t,e,i){"use strict";var r;(i.r(e),"undefined"!==typeof window)&&(i("f6fd"),(r=window.document.currentScript)&&(r=r.src.match(/(.+\/)[^/]+\.js(\?.*)?$/))&&(i.p=r[1]));i("7f7f");var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("li",{staticClass:"control-item boolean"},[i("label",{ref:"label"},[i("span",{staticClass:"label-text"},[t._v(t._s(t.label))]),i("div",{staticClass:"control"},[i("input",{attrs:{type:"checkbox"},domProps:{checked:t.currentValue},on:{change:t.handleChange}})])])])},s=[],a={name:"DatBoolean",props:{checked:Boolean,label:String},model:{prop:"checked",event:"change"},data:function(){return{currentValue:this.checked}},watch:{checked:function(t){this.currentValue=t}},methods:{handleChange:function(){this.currentValue=!this.currentValue,this.$emit("change",this.currentValue)}}},o=a;function l(t,e,i,r,n,s,a,o){var l,h="function"===typeof t?t.options:t;if(e&&(h.render=e,h.staticRenderFns=i,h._compiled=!0),r&&(h.functional=!0),s&&(h._scopeId="data-v-"+s),a?(l=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},h._ssrRegister=l):n&&(l=o?function(){n.call(this,this.$root.$options.shadowRoot)}:n),l)if(h.functional){h._injectStyles=l;var c=h.render;h.render=function(t,e){return l.call(e),c(t,e)}}else{var u=h.beforeCreate;h.beforeCreate=u?[].concat(u,l):[l]}return{exports:t,options:h}}var h=l(o,n,s,!1,null,null,null),c=h.exports,u=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("li",{staticClass:"control-item button"},[i("label",{ref:"label",staticClass:"w-100",on:{click:t.handleClick}},[t._v("\n    "+t._s(t.label)+"\n  ")])])},f=[],d={name:"DatButton",props:{label:String},methods:{handleClick:function(t){this.$emit("click",t)}}},p=d,_=l(p,u,f,!1,null,null,null),g=_.exports,m=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("li",{staticClass:"control-item color",style:{"border-left-color":t.currentColor},on:{mouseleave:t.onMouseLeave}},[i("label",[i("span",{staticClass:"label-text"},[t._v(t._s(t.label))]),i("div",{staticClass:"control",on:{mouseover:t.onMouseOver}},[i("input",{ref:"inputColor",style:{"background-color":t.currentColor,color:t.inputColor},attrs:{type:"text",readonly:""},domProps:{value:t.currentColor}}),i("color-picker",{directives:[{name:"show",rawName:"v-show",value:t.showColorPicker,expression:"showColorPicker"}],staticClass:"color-picker",attrs:{color:t.currentColor},on:{change:t.onChange}})],1)])])},v=[],y=i("0f32"),b=i.n(y),x=i("f678"),w=i.n(x),k=i("63ea"),A=i.n(k),S=i("b047"),O=i.n(S),M=function(t,e,i,r,n,s,a,o){if(!t){var l;if(void 0===e)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var h=[i,r,n,s,a,o],c=0;l=new Error(e.replace(/%s/g,(function(){return h[c++]}))),l.name="Invariant Violation"}throw l.framesToPop=1,l}},C=M,T=Object.getOwnPropertySymbols,j=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable;function R(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function F(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},i=0;i<10;i++)e["_"+String.fromCharCode(i)]=i;var r=Object.getOwnPropertyNames(e).map((function(t){return e[t]}));if("0123456789"!==r.join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(t){n[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(s){return!1}}var P=F()?Object.assign:function(t,e){for(var i,r,n=arguments,s=R(t),a=1;a<arguments.length;a++){for(var o in i=Object(n[a]),i)j.call(i,o)&&(s[o]=i[o]);if(T){r=T(i);for(var l=0;l<r.length;l++)E.call(i,r[l])&&(s[r[l]]=i[r[l]])}}return s},L=/-?\d+(\.\d+)?%?/g;function N(t){return t.match(L)}var I=N,B=Object.freeze({default:I,__moduleExports:I});function V(t,e,i){return Math.min(Math.max(t,e),i)}var z=V,U=Object.freeze({default:z,__moduleExports:z}),D=B&&I||B,$=U&&z||U,Y=D,X=$;function G(t,e){switch(t=parseFloat(t),e){case 0:return X(t,0,360);case 1:case 2:return X(t,0,100);case 3:return X(t,0,1)}}function H(t){return Y(t).map(G)}var W=H,q=Object.freeze({default:W,__moduleExports:W});function K(t){for(var e="#",i=1;i<t.length;i++){var r=t.charAt(i);e+=r+r}return e}function J(t){4!==t.length&&5!==t.length||(t=K(t));var e=[parseInt(t.substring(1,3),16),parseInt(t.substring(3,5),16),parseInt(t.substring(5,7),16)];if(9===t.length){var i=parseFloat((parseInt(t.substring(7,9),16)/255).toFixed(2));e.push(i)}return e}var Q=J,Z=Object.freeze({default:Q,__moduleExports:Q}),tt=D,et=$;function it(t,e){return e<3?-1!=t.indexOf("%")?Math.round(255*et(parseInt(t,10),0,100)/100):et(parseInt(t,10),0,255):et(parseFloat(t),0,1)}function rt(t){return tt(t).map(it)}var nt=rt,st=Object.freeze({default:nt,__moduleExports:nt});function at(t){var e,i,r,n,s,a=t[0]/360,o=t[1]/100,l=t[2]/100;if(0==o)return s=255*l,[s,s,s];i=l<.5?l*(1+o):l+o-l*o,e=2*l-i,n=[0,0,0];for(var h=0;h<3;h++)r=a+1/3*-(h-1),r<0&&r++,r>1&&r--,s=6*r<1?e+6*(i-e)*r:2*r<1?i:3*r<2?e+(i-e)*(2/3-r)*6:e,n[h]=255*s;return n}var ot=at,lt=q&&W||q,ht=Z&&Q||Z,ct=st&&nt||st,ut=lt,ft=ht,dt=ct,pt=ot;function _t(t){var e=ut(t),i=pt(e);return 4===e.length&&i.push(e[3]),i}var gt={"#":ft,hsl:_t,rgb:dt};function mt(t){for(var e in gt)if(0===t.indexOf(e))return gt[e](t)}mt.rgb=dt,mt.hsl=ut,mt.hex=ft;var vt=mt;function yt(t){var e,i,r,n=t[0],s=t[1],a=t[2],o=Math.min(n,s,a),l=Math.max(n,s,a),h=l-o;return i=0==l?0:h/l*1e3/10,l==o?e=0:n==l?e=(s-a)/h:s==l?e=2+(a-n)/h:a==l&&(e=4+(n-s)/h),e=Math.min(60*e,360),e<0&&(e+=360),r=l/255*1e3/10,[e,i,r]}var bt=yt,xt=$;function wt(t){var e=Math.round(xt(t,0,255)),i=e.toString(16);return 1==i.length?"0"+i:i}function kt(t){var e=4===t.length?wt(255*t[3]):"";return"#"+wt(t[0])+wt(t[1])+wt(t[2])+e}var At=kt;function St(t){var e,i,r=t[0],n=t[1]/100,s=t[2]/100;return i=(2-n)*s,e=n*s,e/=i<=1?i:2-i,e=e||0,i/=2,[r,100*e,100*i]}var Ot=St;function Mt(t){var e=t[0]/60,i=t[1]/100,r=t[2]/100,n=Math.floor(e)%6,s=e-Math.floor(e),a=255*r*(1-i),o=255*r*(1-i*s),l=255*r*(1-i*(1-s));r*=255;switch(n){case 0:return[r,l,a];case 1:return[o,r,a];case 2:return[a,r,l];case 3:return[a,o,r];case 4:return[l,a,r];case 5:return[r,a,o]}}var Ct=Mt,Tt=function(t,e){var i=0|e;return i>0?parseFloat(t.toFixed(i)):t},jt={name:"v-ctrl",abstract:!0,props:{direction:{type:String,default:"h",validator:function(t){return["v","h","vh","hv"].indexOf(t)>-1}},throttle:{type:Number,default:80},precision:{type:Number}},methods:{msdown:function(t){t.preventDefault(),document.addEventListener("mousemove",this.msmove),document.addEventListener("mouseup",this.msup),this.next(t)},msmove:function(t){t.preventDefault(),this.next(t)},msup:function(t){this.next(t),document.removeEventListener("mousemove",this.msmove),document.removeEventListener("mouseup",this.msup)},notify:function(t){!1===A()(this.memo,t)&&(this.memo=t,this.$emit("change",t))},next:function(t){void 0===t&&(t={});var e=t.clientX;void 0===e&&(e=0);var i=t.clientY;void 0===i&&(i=0);var r=this,n=r.direction,s=r.adjust,a=this.$el.getBoundingClientRect(),o=a.left,l=a.width,h=e-o,c=s(h/l);if("h"===n)return this.notify(c);var u=a.top,f=a.height,d=i-u,p=s(d/f);if("v"===n)return this.notify(p);this.notify([c,p])},adjust:function(t){return Tt(w()(t,0,1),this.precision)}},render:function(t){return this.$slots.default[0]},created:function(){var t=this,e=t.msdown,i=t.msmove;this.msdown=e.bind(this),this.msmove=b()(i.bind(this),this.throttle),this.memo=null},mounted:function(){this.$el.addEventListener("mousedown",this.msdown)},destroyed:function(){this.$el.removeEventListener("mousedown",this.msdown)},install:function(){Vue.component(jt.name,jt)}};"undefined"!==typeof window&&window.Vue&&Vue.use(jt);var Et={VueCtrlComponent:jt},Rt=Object.freeze({rgba:["r","g","b","a"],hsla:["h","s","l","a"],hex:["hex"]}),Ft={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"cp__wrapper"},[i("v-ctrl",{attrs:{direction:"vh",precision:2,throttle:80},on:{change:t.onSaturationChange}},[i("div",{staticClass:"cp__v-ctrl cp__saturation"},[i("div",{staticClass:"msk-hue",style:t.styles.saturationPane}),t._v(" "),i("div",{staticClass:"msk-white"}),t._v(" "),i("div",{staticClass:"msk-black"}),t._v(" "),i("p",{staticClass:"cp__thumb",style:t.styles.saturationThumb})])]),t._v(" "),i("div",{staticClass:"cp__ctrl-pane"},[i("div",[i("div",{staticClass:"cp__preview"},[i("div",{style:t.styles.preview})]),t._v(" "),i("div",{staticClass:"cp__tracks"},[i("v-ctrl",{attrs:{direction:"h",precision:2,throttle:80},on:{change:t.onHueChange}},[i("div",{staticClass:"cp__v-ctrl cp__ctrl-bar cp__ctrl-hue"},[i("div",{staticClass:"cp__thumb",style:t.styles.hueThumb})])]),t._v(" "),i("v-ctrl",{attrs:{direction:"h",precision:2,throttle:80},on:{change:t.onAlphaChange}},[i("div",{staticClass:"cp__v-ctrl cp__ctrl-alpha"},[i("div",{staticClass:"cp__thumb",style:t.styles.alphaThumb}),t._v(" "),i("div",{staticClass:"cp__ctrl-bar",style:t.styles.alphaTrack})])])],1)]),t._v(" "),i("div",{staticStyle:{"margin-top":"10px"}},[i("div",{staticClass:"cp__fm-fields"},t._l(t.colorModes[t.currentMode],(function(e){return i("div",{key:e},[i("div",{staticStyle:{position:"relative"}},[i("input",{attrs:{type:t.constrains[e].type,maxlength:t.constrains[e].maxlength},domProps:{value:t.colorModel[e]},on:{change:function(i){t.handleInput(e,i)}}}),t._v(" "),i("span",[t._v(t._s(e))])])])}))),t._v(" "),i("div",{staticClass:"cp__fm-switcher"},[i("div",{on:{click:function(e){t.changecurrentMode()}}},[i("svg",{attrs:{viewBox:"0 0 24 24"}},[i("path",{attrs:{fill:"#333",d:"M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z"}}),t._v(" "),i("path",{attrs:{fill:"#333",d:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15Z"}})])])])])])],1)},staticRenderFns:[],name:"color-picker",props:{color:{type:String,default:"#ff0000"}},components:{"v-ctrl":Et.VueCtrlComponent},data:function(){var t=this,e=t.color,i={type:"number",maxlength:3},r={type:"string",maxlength:4};return Object.assign({},this.digestProp(e),{currentMode:Lt(e),colorModes:Rt,colorModel:{hex:"",r:"",g:"",b:"",h:"",s:"",l:"",a:""},constrains:{r:i,g:i,b:i,h:i,s:r,l:r,a:{type:"number",maxlength:4},hex:{type:"string",maxlength:9}}})},watch:{color:{immediate:!0,handler:function(t,e){t!==e&&P(this,this.digestProp(t))}},rgba:{immediate:!0,handler:function(t,e){""+t!==""+e&&this.emitChange()}}},computed:{hsva:function(){var t=this,e=t.hue,i=t.alpha,r=t.saturation,n=r.x,s=r.y;return[360*e,100*n,100*(1-s),i]},rgba:function(){var t=this,e=t.alpha,i=t.hsva,r=Ct(i),n=r[0],s=r[1],a=r[2];return[Math.round(n),Math.round(s),Math.round(a),e]},hsla:function(){var t=this,e=t.alpha,i=t.hsva,r=Ot(i),n=r[0],s=r[1],a=r[2];return[Math.round(n),Math.round(s)+"%",Math.round(a)+"%",e]},hex:function(){return At(this.rgba)},previewBorderColor:function(){var t=this.rgba,e=t[0],i=t[1],r=t[2];return(e+i+r)/3>235?"rgba(160,160,160,0.8)":"transparent"},styles:function(){var t=this,e=t.rgba,i=t.alpha,r=t.hue,n=t.saturation,s=e.slice(0,3).join(", "),a=ot([360*r,100,50]).map((function(t){return Math.round(t)})).join(", ");return{preview:{backgroundColor:"rgba("+e.join(", ")+")",borderColor:this.previewBorderColor},saturationPane:{backgroundColor:"rgb("+a+")"},saturationThumb:{left:Pt(n.x),top:Pt(n.y)},alphaTrack:{backgroundImage:"linear-gradient(to right, rgba("+s+", 0) 0%, rgb("+s+") 100%)"},alphaThumb:{left:Pt(i)},hueThumb:{left:Pt(1-r)}}}},methods:{digestProp:function(t){var e=vt(t),i=null==e[3]?1:e[3],r=bt(e),n=r[0],s=r[1],a=r[2],o=parseFloat(i.toFixed(2));return{alpha:o,hue:n/360,saturation:{x:s/100,y:1-a/100}}},onSaturationChange:function(t){var e=t[0],i=t[1];this.saturation={x:e,y:i}},onHueChange:function(t){this.hue=1-t},onAlphaChange:function(t){this.alpha=parseFloat(t.toFixed(2))},emitChange:function(){var t=this,e=t.alpha,i=t.hex,r=t.rgba,n=t.hsla,s=Nt(1===e?i.slice(0,7):i);this.$emit("change",{rgba:r,hsla:n,hex:s});var a=n[0],o=n[1],l=n[2],h=r[0],c=r[1],u=r[2];P(this.colorModel,{r:h,g:c,b:u,h:a,s:o,l:l,a:e,hex:s})},changecurrentMode:function(){var t=Object.keys(this.colorModes),e=t.indexOf(this.currentMode);this.currentMode=t[(e+1)%t.length]},handleInput:function(t,e){var i=this,r=i.currentMode,n=i.colorModel,s=e.target.value,a=Number(s),o=!1;switch(t){case"a":n[t]===a||isNaN(a)||(n[t]=w()(a,0,1),o=!0);break;case"r":case"g":case"b":n[t]===a||isNaN(a)||(n[t]=0|w()(a,0,255),o=!0);break;case"h":n[t]===a||isNaN(a)||(n[t]=0|w()(a,0,360),o=!0);break;case"s":case"l":"%"===s.slice(-1)&&n[t]!==s&&(a=parseFloat(s),n[t]=(0|w()(a,0,360))+"%",o=!0);break;case"hex":"#"===s[0]&&n[t]!==s&&vt(s).every((function(t){return!isNaN(t)}))&&(n[t]=Nt(s),o=!0);break}if(o){var l=n.h,h=n.s,c=n.l,u=n.r,f=n.g,d=n.b,p=n.a,_=n.hex,g=_;"rgba"===r?g="rgba("+[u,f,d,p]+")":"hsla"===r&&(g="hsla("+[l,h,c,p]+")"),P(this,this.digestProp(g))}}},created:function(){this.handleInput=O()(this.handleInput.bind(this),50)}};function Pt(t,e){void 0===e&&(e=3);var i=(100*t).toPrecision(0|e);return i+"%"}function Lt(t){return"#"===t[0]?"hex":0===t.indexOf("rgb")?"rgba":0===t.indexOf("hsl")?"hsla":void C(!1,t+" is not valid color value!")}function Nt(t){return t.replace(/#([0-9a-f])\1([0-9a-f])\2([0-9a-f])\3([0-9a-f]?)\4$/,"#$1$2$3$4")}Ft.install=function(t){t.config.devtools=!1,t.component(Ft.name,Ft)};var It=Ft,Bt=(i("a93b"),{name:"DatColor",props:{color:{required:!0},label:String},model:{prop:"color",event:"change"},components:{ColorPicker:It},data:function(){return{currentColor:this.color,showColorPicker:!1}},computed:{inputColor:function(){if(7!==this.color.length||"#"!==this.color[0])return"black";var t=parseInt(this.currentColor.substr(1,2),16),e=parseInt(this.currentColor.substr(3,2),16),i=parseInt(this.currentColor.substr(5,2),16),r=(299*t+587*e+114*i)/1e3;return r>=128?"black":"white"}},methods:{onChange:function(t){this.currentColor=t.hex,this.$emit("change",this.currentColor)},onMouseOver:function(){this.showColorPicker=!0,window.addEventListener("keydown",this.onKeyDown)},onMouseLeave:function(){this.showColorPicker=!1,window.removeEventListener("keydown",this.onKeyDown)},onKeyDown:function(t){"Enter"!==t.key&&13!==t.keyCode||(this.showColorPicker=!1)}}}),Vt=Bt,zt=(i("d171"),l(Vt,m,v,!1,null,null,null)),Ut=zt.exports,Dt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("li",{class:["folder",{closed:t.close}]},[i("div",{ref:"label",staticClass:"group"},[i("div",{staticClass:"text",on:{click:t.handleClick}},[t._v("\n          "+t._s(t.label)+"\n      ")]),i("ul",[t._t("default")],2)])])},$t=[],Yt={name:"DatFolder",props:{label:String,closed:Boolean},data:function(){return{close:this.closed}},methods:{handleClick:function(){this.close=!this.close}}},Xt=Yt,Gt=(i("a76a"),l(Xt,Dt,$t,!1,null,null,null)),Ht=Gt.exports,Wt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("li",{staticClass:"control-item number"},[i("label",{ref:"label"},[i("span",{staticClass:"label-text"},[t._v(t._s(t.label))]),i("div",{staticClass:"control"},[i("slider",{directives:[{name:"show",rawName:"v-show",value:t.hasSlider,expression:"hasSlider"}],staticClass:"slider",attrs:{min:t.minValue,max:t.maxValue,value:t.currentValue},on:{updateState:t.sanitizeNumber}}),i("input",{directives:[{name:"model",rawName:"v-model",value:t.currentValue,expression:"currentValue"}],ref:"input",staticClass:"input",attrs:{type:"number",min:t.minValue,max:t.maxValue,step:t.stepValue},domProps:{value:t.currentValue},on:{change:t.handleChange,input:function(e){e.target.composing||(t.currentValue=e.target.value)}}})],1)])])},qt=[],Kt=(i("fca0"),i("c5f6"),i("09e4")),Jt=i.n(Kt),Qt=i("6e6b"),Zt=i.n(Qt),te=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("span",{ref:"slider",staticClass:"slider",style:{width:t.width+"px","background-size":t.bgWidth+"% 100%"},on:{mousedown:t.handleMouseDown}})},ee=[],ie={name:"Slider",props:{value:[Number,String],min:Number,max:Number,width:Number},data:function(){return{currentValue:Jt()(this.value)||0}},watch:{value:function(t){this.currentValue=Jt()(t)}},computed:{bgWidth:function(){return Zt()(100*(this.currentValue-this.min)/(this.max-this.min),0,100)}},methods:{handleMouseDown:function(t){this.updateState(t.pageX),window.addEventListener("mousemove",this.handleMouseMove),window.addEventListener("mouseup",this.handleMouseUp)},handleMouseMove:function(t){this.updateState(t.pageX)},handleMouseUp:function(t){this.updateState(t.pageX),window.removeEventListener("mousemove",this.handleMouseMove),window.removeEventListener("mouseup",this.handleMouseUp)},updateState:function(t){var e=this.$refs.slider.getBoundingClientRect(),i=t-e.left,r=e.right-e.left,n=this.min+Zt()(i/r,0,1)*(this.max-this.min);this.$emit("updateState",n)}}},re=ie,ne=(i("ca50"),l(re,te,ee,!1,null,null,null)),se=ne.exports,ae={name:"DatNumber",props:{showSlider:{type:Boolean,default:!0},min:Number,max:Number,step:Number,value:{type:[Number,String],required:!0},label:String},model:{prop:"value",event:"change"},components:{Slider:se},data:function(){var t="number"===typeof this.min?this.min:Number.NEGATIVE_INFINITY,e="number"===typeof this.max?this.max:Number.POSITIVE_INFINITY;if(t>e){var i=[e,t];t=i[0],e=i[1]}return{currentValue:Jt()(this.value),minValue:t,maxValue:e}},computed:{hasSlider:function(){return this.showSlider&&Number.isFinite(this.minValue)&&Number.isFinite(this.maxValue)},stepValue:function(){if(!this.step){var t=this.maxValue-this.minValue;return Math.pow(10,Math.floor(Math.log(Math.abs(t))/Math.LN10))/10}return Jt()(this.step)}},watch:{value:function(t){this.currentValue=Jt()(t)}},methods:{sanitizeNumber:function(t){var e=[this.minValue,this.maxValue,this.stepValue],i=e[0],r=e[1],n=e[2],s=Zt()(Jt()(t),i,r);0!==n&&Number.isFinite(n)&&(s=Math.round(s/n)*n),this.currentValue=s,this.$emit("change",s)},handleChange:function(t){this.sanitizeNumber(t.target.value)}}},oe=ae,le=(i("d698"),l(oe,Wt,qt,!1,null,null,null)),he=le.exports,ce=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("li",{staticClass:"control-item select"},[i("label",{ref:"label"},[i("span",{staticClass:"label-text"},[t._v(t._s(t.label))]),i("div",{staticClass:"control"},[i("select",{staticClass:"w-100",domProps:{value:t.currentValue},on:{change:t.handleChange}},t._l(t.items,(function(e){return i("option",{key:e.value,domProps:{value:e.value}},[t._v("\n          "+t._s(e.name)+"\n        ")])})),0)])])])},ue=[],fe={name:"DatSelect",props:{value:[String,Number],items:Array,label:String},model:{prop:"value",event:"change"},data:function(){return{currentValue:this.value||""}},watch:{value:function(t){this.currentValue=t||""}},methods:{handleChange:function(t){this.currentValue=t.target.value,this.$emit("change",t.target.value)}}},de=fe,pe=l(de,ce,ue,!1,null,null,null),_e=pe.exports,ge=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("li",{staticClass:"control-item string"},[i("label",{ref:"label"},[i("span",{staticClass:"label-text"},[t._v(t._s(t.label))]),i("div",{staticClass:"control"},[i("input",{attrs:{type:"text"},domProps:{value:t.currentValue},on:{input:t.handleChange}})])])])},me=[],ve={name:"DatString",props:{value:String,label:String},model:{prop:"value",event:"change"},data:function(){return{currentValue:this.value||""}},watch:{value:function(t){this.currentValue=t}},methods:{handleChange:function(t){this.currentValue=t.target.value,this.$emit("change",this.currentValue)}}},ye=ve,be=l(ye,ge,me,!1,null,null,null),xe=be.exports,we=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:["vue-dat-gui",{closed:t.isClosed}]},[i("div",{staticClass:"group group--main"},["top"===t.closePosition?i("div",{staticClass:"toggle-button",on:{click:t.toggleOpen}},[t._v(t._s(t.title))]):t._e(),i("ul",[t._t("default")],2),"bottom"===t.closePosition?i("div",{staticClass:"toggle-button",on:{click:t.toggleOpen}},[t._v("\n      "+t._s(t.title)+"\n    ")]):t._e()])])},ke=[],Ae={name:"DatGui",props:{openText:{type:String,default:"Open Controls"},closeText:{type:String,default:"Close Controls"},closePosition:{type:String,default:"bottom"},closed:{type:Boolean,default:!1}},data:function(){return{isClosed:this.closed}},computed:{title:function(){return this.isClosed?this.openText:this.closeText}},methods:{toggleOpen:function(){this.isClosed=!this.isClosed}}},Se=Ae,Oe=(i("9260"),l(Se,we,ke,!1,null,null,null)),Me=Oe.exports,Ce=[c,g,Ut,Ht,he,_e,xe,Me],Te={install:function(t){Ce.map((function(e){return t.component(e.name,e)}))}};"undefined"!==typeof window&&window.Vue&&window.Vue.use(Te);var je=Te;e["default"]=je},fba5:function(t,e,i){var r=i("cb5a");function n(t){return r(this.__data__,t)>-1}t.exports=n},fca0:function(t,e,i){var r=i("5ca1"),n=i("7726").isFinite;r(r.S,"Number",{isFinite:function(t){return"number"==typeof t&&n(t)}})},fdef:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},fe0f:function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,".w-100{width:100%}.vue-dat-gui li.folder .text{font-weight:700;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;padding:5px 5px 5px 16px;background:#000 url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlI+hKgFxoCgAOw==) 6px 48% no-repeat;text-align:left;border-bottom:1px solid hsla(0,0%,100%,.2)}.vue-dat-gui li.folder ul{margin-left:4px;width:calc(100% - 4px)}.vue-dat-gui li.folder.closed .title{background:#000 url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlGIWqMCbWAEAOw==) 6px 48% no-repeat}.vue-dat-gui li.folder.closed ul{display:none}",""])},ffd6:function(t,e,i){var r=i("3729"),n=i("1310"),s="[object Symbol]";function a(t){return"symbol"==typeof t||n(t)&&r(t)==s}t.exports=a}})["default"]},"24fb":function(t,e,i){"use strict";function r(t,e){var i=t[1]||"",r=t[3];if(!r)return i;if(e&&"function"===typeof btoa){var s=n(r),a=r.sources.map((function(t){return"/*# sourceURL=".concat(r.sourceRoot||"").concat(t," */")}));return[i].concat(a).concat([s]).join("\n")}return[i].join("\n")}function n(t){var e=btoa(unescape(encodeURIComponent(JSON.stringify(t)))),i="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(e);return"/*# ".concat(i," */")}t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var i=r(e,t);return e[2]?"@media ".concat(e[2]," {").concat(i,"}"):i})).join("")},e.i=function(t,i,r){"string"===typeof t&&(t=[[null,t,""]]);var n={};if(r)for(var s=0;s<this.length;s++){var a=this[s][0];null!=a&&(n[a]=!0)}for(var o=0;o<t.length;o++){var l=[].concat(t[o]);r&&n[l[0]]||(i&&(l[2]?l[2]="".concat(i," and ").concat(l[2]):l[2]=i),e.push(l))}},e}},2991:function(t,e,i){"use strict";i.r(e);var r=i("3343");for(var n in r)["default"].indexOf(n)<0&&function(t){i.d(e,t,(function(){return r[t]}))}(n)},3343:function(t,e,i){var r=i("f861");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);var n=i("35d6").default;t.exports.__inject__=function(t){n("118d8786",r,t)}},"35d6":function(t,e,i){"use strict";function r(t,e){for(var i=[],r={},n=0;n<e.length;n++){var s=e[n],a=s[0],o=s[1],l=s[2],h=s[3],c={id:t+":"+n,css:o,media:l,sourceMap:h};r[a]?r[a].parts.push(c):i.push(r[a]={id:a,parts:[c]})}return i}function n(t,e,i){var n=r(t,e);s(n,i)}function s(t,e){const i=e._injectedStyles||(e._injectedStyles={});for(var r=0;r<t.length;r++){var n=t[r],s=i[n.id];if(!s){for(var a=0;a<n.parts.length;a++)o(n.parts[a],e);i[n.id]=!0}}}function a(t){var e=document.createElement("style");return e.type="text/css",t.appendChild(e),e}function o(t,e){var i=a(e),r=t.css,n=t.media,s=t.sourceMap;if(n&&i.setAttribute("media",n),s&&(r+="\n/*# sourceURL="+s.sources[0]+" */",r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(s))))+" */"),i.styleSheet)i.styleSheet.cssText=r;else{while(i.firstChild)i.removeChild(i.firstChild);i.appendChild(document.createTextNode(r))}}i.r(e),i.d(e,"default",(function(){return n}))},"5a74":function(t,e,i){"use strict";if(i.r(e),"undefined"!==typeof window){var r=window.document.currentScript;if(Object({NODE_ENV:"production",BASE_URL:"/vue/components/"}).NEED_CURRENTSCRIPT_POLYFILL){var n=i("8875");r=n(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:n})}var s=r&&r.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);s&&(i.p=s[1])}var a=i("8bbf"),o=i.n(a);const l=/-(\w)/g,h=t=>t.replace(l,(t,e)=>e?e.toUpperCase():""),c=/\B([A-Z])/g,u=t=>t.replace(c,"-$1").toLowerCase();function f(t){const e={};return t.forEach(t=>{e[t]=void 0}),e}function d(t,e,i){t[e]=[].concat(t[e]||[]),t[e].unshift(i)}function p(t,e){if(t){const i=t.$options[e]||[];i.forEach(e=>{e.call(t)})}}function _(t,e){return new CustomEvent(t,{bubbles:!1,cancelable:!1,detail:e})}const g=t=>/function Boolean/.test(String(t)),m=t=>/function Number/.test(String(t));function v(t,e,{type:i}={}){if(g(i))return"true"===t||"false"===t?"true"===t:""===t||t===e||null!=t;if(m(i)){const e=parseFloat(t,10);return isNaN(e)?t:e}return t}function y(t,e){const i=[];for(let r=0,n=e.length;r<n;r++)i.push(b(t,e[r]));return i}function b(t,e){if(3===e.nodeType)return e.data.trim()?e.data:null;if(1===e.nodeType){const i={attrs:x(e),domProps:{innerHTML:e.innerHTML}};return i.attrs.slot&&(i.slot=i.attrs.slot,delete i.attrs.slot),t(e.tagName,i)}return null}function x(t){const e={};for(let i=0,r=t.attributes.length;i<r;i++){const r=t.attributes[i];e[r.nodeName]=r.nodeValue}return e}function w(t,e){const i="function"===typeof e&&!e.cid;let r,n,s,a=!1;function o(t){if(a)return;const e="function"===typeof t?t.options:t,i=Array.isArray(e.props)?e.props:Object.keys(e.props||{});r=i.map(u),n=i.map(h);const o=Array.isArray(e.props)?{}:e.props||{};s=n.reduce((t,e,r)=>(t[e]=o[i[r]],t),{}),d(e,"beforeCreate",(function(){const t=this.$emit;this.$emit=(e,...i)=>(this.$root.$options.customElement.dispatchEvent(_(e,i)),t.call(this,e,...i))})),d(e,"created",(function(){n.forEach(t=>{this.$root.props[t]=this[t]})})),n.forEach(t=>{Object.defineProperty(c.prototype,t,{get(){return this._wrapper.props[t]},set(e){this._wrapper.props[t]=e},enumerable:!1,configurable:!0})}),a=!0}function l(t,e){const i=h(e),r=t.hasAttribute(e)?t.getAttribute(e):void 0;t._wrapper.props[i]=v(r,e,s[i])}class c extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"});const i=this._wrapper=new t({name:"shadow-root",customElement:this,shadowRoot:this.shadowRoot,data(){return{props:{},slotChildren:[]}},render(t){return t(e,{ref:"inner",props:this.props},this.slotChildren)}}),r=new MutationObserver(t=>{let e=!1;for(let i=0;i<t.length;i++){const r=t[i];a&&"attributes"===r.type&&r.target===this?l(this,r.attributeName):e=!0}e&&(i.slotChildren=Object.freeze(y(i.$createElement,this.childNodes)))});r.observe(this,{childList:!0,subtree:!0,characterData:!0,attributes:!0})}get vueComponent(){return this._wrapper.$refs.inner}connectedCallback(){const t=this._wrapper;if(t._isMounted)p(this.vueComponent,"activated");else{const i=()=>{t.props=f(n),r.forEach(t=>{l(this,t)})};a?i():e().then(t=>{(t.__esModule||"Module"===t[Symbol.toStringTag])&&(t=t.default),o(t),i()}),t.slotChildren=Object.freeze(y(t.$createElement,this.childNodes)),t.$mount(),this.shadowRoot.appendChild(t.$el)}}disconnectedCallback(){p(this.vueComponent,"deactivated")}}return i||o(e),c}var k=w;i("24fb"),i("35d6");function A(t,e,i,r,n,s,a,o){var l,h="function"===typeof t?t.options:t;if(e&&(h.render=e,h.staticRenderFns=i,h._compiled=!0),r&&(h.functional=!0),s&&(h._scopeId="data-v-"+s),a?(l=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},h._ssrRegister=l):n&&(l=o?function(){n.call(this,(h.functional?this.parent:this).$root.$options.shadowRoot)}:n),l)if(h.functional){h._injectStyles=l;var c=h.render;h.render=function(t,e){return l.call(e),c(t,e)}}else{var u=h.beforeCreate;h.beforeCreate=u?[].concat(u,l):[l]}return{exports:t,options:h}}var S=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"home"},[i("dat-gui",{attrs:{closeText:"Close controls",openText:"Open controls",closePosition:"bottom"}},[i("dat-number",{attrs:{"show-slider":"",min:0,max:5,step:.001,label:"x_good"},model:{value:t.x_good,callback:function(e){t.x_good=e},expression:"x_good"}}),i("dat-number",{attrs:{"show-slider":"",min:-5,max:1,step:1,label:"x_var (log)"},model:{value:t.x_var_log,callback:function(e){t.x_var_log=e},expression:"x_var_log"}})],1),i("button",{on:{click:t.step}},[t._v("Step")]),i("button",{on:{click:t.run}},[t._v("Run")]),i("button",{on:{click:t.reset}},[t._v("Reset")]),i("button",{on:{click:t.draw}},[t._v("Draw")]),i("div",{attrs:{id:"draw-shapes"}}),i("pre",{staticClass:"output"},[t._v("solution: "+t._s(Math.pow(4.5,1/3))+"\nx_var: "+t._s(t.x_var)+"\nx_good: "+t._s(t.x_good)+"\ncost_good: "+t._s(t.cost(t.x_good))+"\nx_log: "+t._s(t.x_log))])],1)},O=[],M=i("2247"),C=i.n(M),T=i("f077");function j(){var t=0,e=0;while(0===t)t=Math.random();while(0===e)e=Math.random();return Math.sqrt(-2*Math.log(t))*Math.cos(2*Math.PI*e)}o.a.use(C.a);var E={data(){return{x_good:3,r_good:1e99,x_var:.1,x_log:[]}},mounted(){let t=document.getElementById("draw-shapes"),e={width:600,height:100},i=new T["a"](e).appendTo(t);i.scene._matrix.manual=!0,i.scene._matrix.translate(0,i.height).scale(1,-1),this.two=i,window.mytwo=i,this.draw()},computed:{x_var_log:{get(){return Math.log10(this.x_var)},set(t){this.x_var=Math.pow(10,t)}}},methods:{reset(){this.x_good=3,this.x_log=[],this.draw()},run(){console.log("run"),this.x_good=this.optimize(this.x_good,this.x_var),this.draw()},cost(t){return 20*t*t+1/t*180},optimize(t,e=.1){let i=1e99;for(let r=0;r<50;r++){let r=t+e*j(),n=this.cost(r);n<i&&(t=r,i=n,this.x_log.push(t))}return t},step(){let t=this.x_good+this.x_var*j(),e=this.cost(t);e<this.r_good&&(this.x_good=t,this.r_good=e,this.x_log.push(t))},draw(){const t=this.two;t.clear();let e=this.x_log.map((e,i)=>{let r=t.makeCircle(5*i,15*e,2);return r.fill="#FF8000",r.linewidth=0,r});t.makeLine(0,15*this.x_good,600,15*this.x_good);t.makeGroup(...e);t.update()}}},R=E;function F(t){var e=i("2991");e.__inject__&&e.__inject__(t)}var P=A(R,S,O,!1,F,null,null,!0),L=P.exports;window.customElements.define("exp-04",k(o.a,L))},8875:function(t,e,i){var r,n,s;(function(i,a){n=[],r=a,s="function"===typeof r?r.apply(e,n):r,void 0===s||(t.exports=s)})("undefined"!==typeof self&&self,(function(){function t(){var e=Object.getOwnPropertyDescriptor(document,"currentScript");if(!e&&"currentScript"in document&&document.currentScript)return document.currentScript;if(e&&e.get!==t&&document.currentScript)return document.currentScript;try{throw new Error}catch(d){var i,r,n,s=/.*at [^(]*\((.*):(.+):(.+)\)$/gi,a=/@([^@]*):(\d+):(\d+)\s*$/gi,o=s.exec(d.stack)||a.exec(d.stack),l=o&&o[1]||!1,h=o&&o[2]||!1,c=document.location.href.replace(document.location.hash,""),u=document.getElementsByTagName("script");l===c&&(i=document.documentElement.outerHTML,r=new RegExp("(?:[^\\n]+?\\n){0,"+(h-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),n=i.replace(r,"$1").trim());for(var f=0;f<u.length;f++){if("interactive"===u[f].readyState)return u[f];if(u[f].src===l)return u[f];if(l===c&&u[f].innerHTML&&u[f].innerHTML.trim()===n)return u[f]}return null}}return t}))},"8bbf":function(t,e){t.exports=Vue},c8ba:function(t,e){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(r){"object"===typeof window&&(i=window)}t.exports=i},f077:function(t,e,i){"use strict";(function(t){i.d(e,"a",(function(){return Ve}));var r,n={move:"M",line:"L",curve:"C",arc:"A",close:"Z"};"undefined"!==typeof window?r=window:"undefined"!==typeof t?r=t:"undefined"!==typeof self&&(r=self);var s,a=r,o=2*Math.PI,l=.5*Math.PI,h=function(t,e,i,r,n,s){var a;return arguments.length<=1?(a=t.a,e=t.b,i=t.c,r=t.d,n=t.e,s=t.f):a=t,{translateX:n,translateY:s,scaleX:Math.sqrt(a*a+e*e),scaleY:Math.sqrt(i*i+r*r),rotation:180*Math.atan2(e,a)/Math.PI}},c=function(t){s=t},u=function(t,e){e=e&&e.identity()||new s;var i=t,r=[];while(i&&i._matrix)r.push(i._matrix),i=i.parent;r.reverse();for(var n=0;n<r.length;n++){var a=r[n],o=a.elements;e.multiply(o[0],o[1],o[2],o[3],o[4],o[5],o[6],o[7],o[8],o[9])}return e},f=function(t,e,i){return i*(e-t)+t},d=[2,4,8,16,32,64,128,256,512,1024,2048,4096],p=function(t){var e=0;while(d[e]&&d[e]<t)e++;return d[e]},_=function(t,e){while(t<0)t+=e;return t%e},g=a.Float32Array||Array,m=Math.floor,v=function(t){return m(1e6*t)/1e6},y=Object.freeze({__proto__:null,decomposeMatrix:h,getComputedMatrix:u,getPoT:p,setMatrix:c,lerp:f,mod:_,NumArray:g,toFixed:v,TWO_PI:o,HALF_PI:l}),b=Array.prototype.slice,x=function(t){if(null===t||void 0===t)return!1;var e=t.length;return"number"==typeof e&&e>=0&&e<4294967296},w={isNaN:function(t){return"number"===typeof t&&t!==+t},isElement:function(t){return!(!t||1!==t.nodeType)},isObject:function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},extend:function(t){for(var e=b.call(arguments,1),i=0;i<e.length;i++){var r=e[i];for(var n in r)t[n]=r[n]}return t},defaults:function(t){for(var e=b.call(arguments,1),i=0;i<e.length;i++){var r=e[i];for(var n in r)void 0===t[n]&&(t[n]=r[n])}return t},each:function(t,e,i){for(var r=i||this,n=!x(t)&&Object.keys(t),s=(n||t).length,a=0;a<s;a++){var o=n?n[a]:a;e.call(r,t[o],o,t)}return t},performance:a.performance&&a.performance.now?a.performance:Date},k={on:A,off:S,trigger:function(t){var e=this;if(!e._events)return e;var i=Array.prototype.slice.call(arguments,1),r=e._events[t];return r&&O(e,r,i),e},listen:function(t,e,i){var r=this;if(t){var n=function(){i.apply(r,arguments)};n.obj=t,n.name=e,n.handler=i,t.on(e,n)}return r},ignore:function(t,e,i){var r=this;return t.off(e,i),r},Types:{play:"play",pause:"pause",update:"update",render:"render",resize:"resize",change:"change",remove:"remove",insert:"insert",order:"order",load:"load"}};function A(t,e){var i=this;i._events||(i._events={});var r=i._events[t]||(i._events[t]=[]);return r.push(e),i}function S(t,e){var i=this;if(!i._events)return i;if(!t&&!e)return i._events={},i;for(var r=t?[t]:Object.keys(i._events),n=0,s=r.length;n<s;n++){t=r[n];var a=i._events[t];if(a){var o=[];if(e)for(var l=0,h=a.length;l<h;l++){var c=a[l];c=c.handler?c.handler:c,e!==c&&o.push(c)}i._events[t]=o}}return i}function O(t,e,i){var r;switch(i.length){case 0:r=function(r){e[r].call(t,i[0])};break;case 1:r=function(r){e[r].call(t,i[0],i[1])};break;case 2:r=function(r){e[r].call(t,i[0],i[1],i[2])};break;case 3:r=function(r){e[r].call(t,i[0],i[1],i[2],i[3])};break;default:r=function(r){e[r].apply(t,i)}}for(var n=0;n<e.length;n++)r(n)}function M(t,e){this.x=t||0,this.y=e||0}k.bind=A,k.unbind=S,w.extend(M,{zero:new M,add:function(t,e){return new M(t.x+e.x,t.y+e.y)},sub:function(t,e){return new M(t.x-e.x,t.y-e.y)},subtract:function(t,e){return M.sub(t,e)},ratioBetween:function(t,e){return(t.x*e.x+t.y*e.y)/(t.length()*e.length())},angleBetween:function(t,e){var i,r;return arguments.length>=4?(i=arguments[0]-arguments[2],r=arguments[1]-arguments[3],Math.atan2(r,i)):(i=t.x-e.x,r=t.y-e.y,Math.atan2(r,i))},distanceBetween:function(t,e){return Math.sqrt(M.distanceBetweenSquared(t,e))},distanceBetweenSquared:function(t,e){var i=t.x-e.x,r=t.y-e.y;return i*i+r*r},MakeObservable:function(t){t.bind=t.on=function(){return this._bound||(this._x=this.x,this._y=this.y,Object.defineProperty(this,"x",T),Object.defineProperty(this,"y",j),w.extend(this,C),this._bound=!0),k.bind.apply(this,arguments),this}}}),w.extend(M.prototype,k,{constructor:M,set:function(t,e){return this.x=t,this.y=e,this},copy:function(t){return this.x=t.x,this.y=t.y,this},clear:function(){return this.x=0,this.y=0,this},clone:function(){return new M(this.x,this.y)},add:function(t,e){return arguments.length<=0||(arguments.length<=1?"number"===typeof t?(this.x+=t,this.y+=t):t&&"number"===typeof t.x&&"number"===typeof t.y&&(this.x+=t.x,this.y+=t.y):(this.x+=t,this.y+=e)),this},addSelf:function(t){return this.add.apply(this,arguments)},sub:function(t,e){return arguments.length<=0||(arguments.length<=1?"number"===typeof t?(this.x-=t,this.y-=t):t&&"number"===typeof t.x&&"number"===typeof t.y&&(this.x-=t.x,this.y-=t.y):(this.x-=t,this.y-=e)),this},subtract:function(){return this.sub.apply(this,arguments)},subSelf:function(t){return this.sub.apply(this,arguments)},subtractSelf:function(t){return this.sub.apply(this,arguments)},multiply:function(t,e){return arguments.length<=0||(arguments.length<=1?"number"===typeof t?(this.x*=t,this.y*=t):t&&"number"===typeof t.x&&"number"===typeof t.y&&(this.x*=t.x,this.y*=t.y):(this.x*=t,this.y*=e)),this},multiplySelf:function(t){return this.multiply.apply(this,arguments)},multiplyScalar:function(t){return this.multiply(t)},divide:function(t,e){return arguments.length<=0||(arguments.length<=1?"number"===typeof t?(this.x/=t,this.y/=t):t&&"number"===typeof t.x&&"number"===typeof t.y&&(this.x/=t.x,this.y/=t.y):(this.x/=t,this.y/=e),w.isNaN(this.x)&&(this.x=0),w.isNaN(this.y)&&(this.y=0)),this},divideSelf:function(t){return this.divide.apply(this,arguments)},divideScalar:function(t){return this.divide(t)},negate:function(){return this.multiply(-1)},dot:function(t){return this.x*t.x+this.y*t.y},length:function(){return Math.sqrt(this.lengthSquared())},lengthSquared:function(){return this.x*this.x+this.y*this.y},normalize:function(){return this.divideScalar(this.length())},distanceTo:function(t){return Math.sqrt(this.distanceToSquared(t))},distanceToSquared:function(t){var e=this.x-t.x,i=this.y-t.y;return e*e+i*i},setLength:function(t){return this.normalize().multiplyScalar(t)},equals:function(t,e){return e="undefined"===typeof e?1e-4:e,this.distanceTo(t)<e},lerp:function(t,e){var i=(t.x-this.x)*e+this.x,r=(t.y-this.y)*e+this.y;return this.set(i,r)},isZero:function(t){return t="undefined"===typeof t?1e-4:t,this.length()<t},toString:function(){return this.x+", "+this.y},toObject:function(){return{x:this.x,y:this.y}},rotate:function(t){var e=Math.cos(t),i=Math.sin(t);return this.x=this.x*e-this.y*i,this.y=this.x*i+this.y*e,this}});var C={constructor:M,set:function(t,e){return this._x=t,this._y=e,this.trigger(k.Types.change)},copy:function(t){return this._x=t.x,this._y=t.y,this.trigger(k.Types.change)},clear:function(){return this._x=0,this._y=0,this.trigger(k.Types.change)},clone:function(){return new M(this._x,this._y)},add:function(t,e){return arguments.length<=0?this:(arguments.length<=1?"number"===typeof t?(this._x+=t,this._y+=t):t&&"number"===typeof t.x&&"number"===typeof t.y&&(this._x+=t.x,this._y+=t.y):(this._x+=t,this._y+=e),this.trigger(k.Types.change))},sub:function(t,e){return arguments.length<=0?this:(arguments.length<=1?"number"===typeof t?(this._x-=t,this._y-=t):t&&"number"===typeof t.x&&"number"===typeof t.y&&(this._x-=t.x,this._y-=t.y):(this._x-=t,this._y-=e),this.trigger(k.Types.change))},multiply:function(t,e){return arguments.length<=0?this:(arguments.length<=1?"number"===typeof t?(this._x*=t,this._y*=t):t&&"number"===typeof t.x&&"number"===typeof t.y&&(this._x*=t.x,this._y*=t.y):(this._x*=t,this._y*=e),this.trigger(k.Types.change))},divide:function(t,e){return arguments.length<=0?this:(arguments.length<=1?"number"===typeof t?(this._x/=t,this._y/=t):t&&"number"===typeof t.x&&"number"===typeof t.y&&(this._x/=t.x,this._y/=t.y):(this._x/=t,this._y/=e),w.isNaN(this._x)&&(this._x=0),w.isNaN(this._y)&&(this._y=0),this.trigger(k.Types.change))},dot:function(t){return this._x*t.x+this._y*t.y},lengthSquared:function(){return this._x*this._x+this._y*this._y},distanceToSquared:function(t){var e=this._x-t.x,i=this._y-t.y;return e*e+i*i},lerp:function(t,e){var i=(t.x-this._x)*e+this._x,r=(t.y-this._y)*e+this._y;return this.set(i,r)},toString:function(){return this._x+", "+this._y},toObject:function(){return{x:this._x,y:this._y}},rotate:function(t){var e=Math.cos(t),i=Math.sin(t);return this._x=this._x*e-this._y*i,this._y=this._x*i+this._y*e,this}},T={enumerable:!0,get:function(){return this._x},set:function(t){this._x=t,this.trigger(k.Types.change,"x")}},j={enumerable:!0,get:function(){return this._y},set:function(t){this._y=t,this.trigger(k.Types.change,"y")}};function E(t,e,i,r,s,a,o){M.call(this,t,e),this._broadcast=function(){this.trigger(k.Types.change)}.bind(this),this._command=o||n.move,this._relative=!0;var l="number"===typeof i,h="number"===typeof r,c="number"===typeof s,u="number"===typeof a;(l||h||c||u)&&E.AppendCurveProperties(this),l&&(this.controls.left.x=i),h&&(this.controls.left.y=r),c&&(this.controls.right.x=s),u&&(this.controls.right.y=a)}M.MakeObservable(M.prototype),w.extend(E,{AppendCurveProperties:function(t){t.relative=!0,t.controls={},t.controls.left=new M(0,0),t.controls.right=new M(0,0)},MakeObservable:function(t){Object.defineProperty(t,"command",{enumerable:!0,get:function(){return this._command},set:function(t){this._command=t,this._command!==n.curve||w.isObject(this.controls)||E.AppendCurveProperties(this),this.trigger(k.Types.change)}}),Object.defineProperty(t,"relative",{enumerable:!0,get:function(){return this._relative},set:function(t){this._relative!=t&&(this._relative=!!t,this.trigger(k.Types.change))}}),w.extend(t,M.prototype,R),t.bind=t.on=function(){var t=this._bound;M.prototype.bind.apply(this,arguments),t||w.extend(this,R)}}});var R={constructor:E,listen:function(){return w.isObject(this.controls)||E.AppendCurveProperties(this),this.controls.left.bind(k.Types.change,this._broadcast),this.controls.right.bind(k.Types.change,this._broadcast),this},ignore:function(){return this.controls.left.unbind(k.Types.change,this._broadcast),this.controls.right.unbind(k.Types.change,this._broadcast),this},copy:function(t){return this.x=t.x,this.y=t.y,"string"===typeof t.command&&(this.command=t.command),w.isObject(t.controls)&&(w.isObject(this.controls)||E.AppendCurveProperties(this),this.controls.left.copy(t.controls.left),this.controls.right.copy(t.controls.right)),"boolean"===typeof t.relative&&(this.relative=t.relative),this.command===n.arc&&(this.rx=t.rx,this.ry=t.ry,this.xAxisRotation=t.xAxisRotation,this.largeArcFlag=t.largeArcFlag,this.sweepFlag=t.sweepFlag),this},clone:function(){var t=this.controls,e=new E(this.x,this.y,t&&t.left.x,t&&t.left.y,t&&t.right.x,t&&t.right.y,this.command);return e.relative=this._relative,e},toObject:function(){var t={x:this.x,y:this.y};return this._command&&(t.command=this._command),this._relative&&(t.relative=this._relative),this.controls&&(t.controls={left:this.controls.left.toObject(),right:this.controls.right.toObject()}),t},toString:function(){return this.controls?[this._x,this._y,this.controls.left.x,this.controls.left.y,this.controls.right.x,this.controls.right.y,this._command,this._relative?1:0].join(", "):[this._x,this._y].join(", ")}};E.MakeObservable(E.prototype);var F=0,P={nextFrameID:null,Types:{webgl:"WebGLRenderer",svg:"SVGRenderer",canvas:"CanvasRenderer"},Version:"v0.7.13",PublishDate:"2021-12-15T21:23:06.163Z",Identifier:"two-",Resolution:12,AutoCalculateImportedMatrices:!0,Instances:[],uniqueId:function(){return F++}},L={CollinearityEpsilon:Math.pow(10,-30),RecursionLimit:16,CuspLimit:0,Tolerance:{distance:.25,angle:0,epsilon:Number.EPSILON},abscissas:[[.5773502691896257],[0,.7745966692414834],[.33998104358485626,.8611363115940526],[0,.5384693101056831,.906179845938664],[.2386191860831969,.6612093864662645,.932469514203152],[0,.4058451513773972,.7415311855993945,.9491079123427585],[.1834346424956498,.525532409916329,.7966664774136267,.9602898564975363],[0,.3242534234038089,.6133714327005904,.8360311073266358,.9681602395076261],[.14887433898163122,.4333953941292472,.6794095682990244,.8650633666889845,.9739065285171717],[0,.26954315595234496,.5190961292068118,.7301520055740494,.8870625997680953,.978228658146057],[.1252334085114689,.3678314989981802,.5873179542866175,.7699026741943047,.9041172563704749,.9815606342467192],[0,.2304583159551348,.44849275103644687,.6423493394403402,.8015780907333099,.9175983992229779,.9841830547185881],[.10805494870734367,.31911236892788974,.5152486363581541,.6872929048116855,.827201315069765,.9284348836635735,.9862838086968123],[0,.20119409399743451,.3941513470775634,.5709721726085388,.7244177313601701,.8482065834104272,.937273392400706,.9879925180204854],[.09501250983763744,.2816035507792589,.45801677765722737,.6178762444026438,.755404408355003,.8656312023878318,.9445750230732326,.9894009349916499]],weights:[[1],[.8888888888888888,.5555555555555556],[.6521451548625461,.34785484513745385],[.5688888888888889,.47862867049936647,.23692688505618908],[.46791393457269104,.3607615730481386,.17132449237917036],[.4179591836734694,.3818300505051189,.27970539148927664,.1294849661688697],[.362683783378362,.31370664587788727,.22238103445337448,.10122853629037626],[.3302393550012598,.31234707704000286,.26061069640293544,.1806481606948574,.08127438836157441],[.29552422471475287,.26926671930999635,.21908636251598204,.1494513491505806,.06667134430868814],[.2729250867779006,.26280454451024665,.23319376459199048,.18629021092773426,.1255803694649046,.05566856711617366],[.24914704581340277,.2334925365383548,.20316742672306592,.16007832854334622,.10693932599531843,.04717533638651183],[.2325515532308739,.22628318026289723,.2078160475368885,.17814598076194574,.13887351021978725,.09212149983772845,.04048400476531588],[.2152638534631578,.2051984637212956,.18553839747793782,.15720316715819355,.12151857068790319,.08015808715976021,.03511946033175186],[.2025782419255613,.19843148532711158,.1861610000155622,.16626920581699392,.13957067792615432,.10715922046717194,.07036604748810812,.03075324199611727],[.1894506104550685,.18260341504492358,.16915651939500254,.14959598881657674,.12462897125553388,.09515851168249279,.062253523938647894,.027152459411754096]]},N=function(t,e,i,r,n){var s=1-t;return s*s*s*e+3*s*s*t*i+3*s*t*t*r+t*t*t*n},I=function(t,e,i,r,n,s,a,o,l){l=l||L.RecursionLimit;var h=l+1;if(Math.abs(t-a)<.001&&Math.abs(e-o)<.001)return[new E(a,o)];for(var c=[],u=0;u<h;u++){var f=u/h,d=N(f,t,i,n,a),p=N(f,e,r,s,o);c.push(new E(d,p))}return c},B=function(t,e,i,r,n,s,a,o,l){if(t===i&&e===r&&n===a&&s===o){var h=a-t,c=o-e;return Math.sqrt(h*h+c*c)}var u=9*(i-n)+3*(a-t),f=6*(t+n)-12*i,d=3*(i-t),p=9*(r-s)+3*(o-e),_=6*(e+s)-12*r,g=3*(r-e),m=function(t){var e=(u*t+f)*t+d,i=(p*t+_)*t+g;return Math.sqrt(e*e+i*i)};return z(m,0,1,l||L.RecursionLimit)},V=function(t,e,i,r,n,s,a,o){for(var l,h,c,u,f,d,p,_,g=[],m=[[],[]],v=0;v<2;++v)if(0==v?(h=6*t-12*i+6*n,l=-3*t+9*i-9*n+3*a,c=3*i-3*t):(h=6*e-12*r+6*s,l=-3*e+9*r-9*s+3*o,c=3*r-3*e),Math.abs(l)<1e-12){if(Math.abs(h)<1e-12)continue;u=-c/h,0<u&&u<1&&g.push(u)}else p=h*h-4*c*l,_=Math.sqrt(p),p<0||(f=(-h+_)/(2*l),0<f&&f<1&&g.push(f),d=(-h-_)/(2*l),0<d&&d<1&&g.push(d));var y,b=g.length,x=b;while(b--)u=g[b],y=1-u,m[0][b]=y*y*y*t+3*y*y*u*i+3*y*u*u*n+u*u*u*a,m[1][b]=y*y*y*e+3*y*y*u*r+3*y*u*u*s+u*u*u*o;return m[0][x]=t,m[1][x]=e,m[0][x+1]=a,m[1][x+1]=o,m[0].length=m[1].length=x+2,{min:{x:Math.min.apply(0,m[0]),y:Math.min.apply(0,m[1])},max:{x:Math.max.apply(0,m[0]),y:Math.max.apply(0,m[1])}}},z=function(t,e,i,r){var n=L.abscissas[r-2],s=L.weights[r-2],a=.5*(i-e),o=a+e,l=0,h=r+1>>1,c=1&r?s[l++]*t(o):0;while(l<h){var u=a*n[l];c+=s[l++]*(t(o+u)+t(o-u))}return a*c},U=function(t,e){for(var i=t.length,r=i-1,s=0;s<i;s++){var a=t[s];w.isObject(a.controls)||E.AppendCurveProperties(a);var o=e?_(s-1,i):Math.max(s-1,0),l=e?_(s+1,i):Math.min(s+1,r),h=t[o],c=a,u=t[l];D(h,c,u),c.command=0===s?n.move:n.curve}},D=function(t,e,i){var r=M.angleBetween(t,e),n=M.angleBetween(i,e),s=M.distanceBetween(t,e),a=M.distanceBetween(i,e),o=(r+n)/2;return s<1e-4||a<1e-4?("boolean"!==typeof e.relative||e.relative||(e.controls.left.copy(e),e.controls.right.copy(e)),e):(s*=.33,a*=.33,n<r?o+=l:o-=l,e.controls.left.x=Math.cos(o)*s,e.controls.left.y=Math.sin(o)*s,o-=Math.PI,e.controls.right.x=Math.cos(o)*a,e.controls.right.y=Math.sin(o)*a,"boolean"!==typeof e.relative||e.relative||(e.controls.left.x+=e.x,e.controls.left.y+=e.y,e.controls.right.x+=e.x,e.controls.right.y+=e.y),e)},$=function(t,e,i){return new M(2*t.x-(e.x+t.x)-(i?t.x:0),2*t.y-(e.y+t.y)-(i?t.y:0))},Y=function(t,e,i,r,s,a,o){for(var l=P.Resolution,h=0;h<l;h++){var c=(h+1)/l;o&&(c=1-c);var u=c*a+s,f=i*Math.cos(u),d=r*Math.sin(u),p=new E(f,d);E.AppendCurveProperties(p),p.command=n.line}},X=Object.freeze({__proto__:null,Curve:L,getComponentOnCubicBezier:N,subdivide:I,getCurveLength:B,getCurveBoundingBox:V,integrate:z,getCurveFromPoints:U,getControlPoints:D,getReflection:$,getAnchorsFromArcData:Y}),G=a.devicePixelRatio||1,H=function(t){return t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1},W=function(t){return G/H(t)},q=Math.cos,K=Math.sin,J=Math.tan,Q=[];function Z(t,e,i,r,n,s){this.elements=new g(9);var a=t;Array.isArray(a)||(a=Array.prototype.slice.call(arguments)),this.identity(),a.length>0&&this.set(a)}function tt(){this.renderer={},this._renderer.flagMatrix=tt.FlagMatrix.bind(this),this.isShape=!0,this.id=P.Identifier+P.uniqueId(),this.classList=[],this.matrix=new Z,this.translation=new M,this.rotation=0,this.scale=1,this.skewX=0,this.skewY=0}function et(){Array.call(this),arguments[0]&&Array.isArray(arguments[0])?arguments[0].length>0&&Array.prototype.push.apply(this,arguments[0]):arguments.length>0&&Array.prototype.push.apply(this,arguments)}function it(t){et.apply(this,arguments),Object.defineProperty(this,"_events",{value:{},enumerable:!1}),this.ids={},this.attach(Array.isArray(t)?t:Array.prototype.slice.call(arguments)),this.on(k.Types.insert,this.attach),this.on(k.Types.remove,this.detach)}c(Z),w.extend(Z,{Identity:[1,0,0,0,1,0,0,0,1],Multiply:function(t,e,i){if(e.length<=3){var r,n,s,a=t,o=e[0]||0,l=e[1]||0,h=e[2]||0;return r=a[0]*o+a[1]*l+a[2]*h,n=a[3]*o+a[4]*l+a[5]*h,s=a[6]*o+a[7]*l+a[8]*h,{x:r,y:n,z:s}}var c=t[0],u=t[1],f=t[2],d=t[3],p=t[4],_=t[5],m=t[6],v=t[7],y=t[8],b=e[0],x=e[1],w=e[2],k=e[3],A=e[4],S=e[5],O=e[6],M=e[7],C=e[8];return i=i||new g(9),i[0]=c*b+u*k+f*O,i[1]=c*x+u*A+f*M,i[2]=c*w+u*S+f*C,i[3]=d*b+p*k+_*O,i[4]=d*x+p*A+_*M,i[5]=d*w+p*S+_*C,i[6]=m*b+v*k+y*O,i[7]=m*x+v*A+y*M,i[8]=m*w+v*S+y*C,i}}),w.extend(Z.prototype,k,{constructor:Z,manual:!1,set:function(t,e,i,r,n,s,a,o,l){var h;return"undefined"===typeof e&&(h=t,t=h[0],e=h[1],i=h[2],r=h[3],n=h[4],s=h[5],a=h[6],o=h[7],l=h[8]),this.elements[0]=t,this.elements[1]=e,this.elements[2]=i,this.elements[3]=r,this.elements[4]=n,this.elements[5]=s,this.elements[6]=a,this.elements[7]=o,this.elements[8]=l,this.trigger(k.Types.change)},copy:function(t){return this.elements[0]=t.elements[0],this.elements[1]=t.elements[1],this.elements[2]=t.elements[2],this.elements[3]=t.elements[3],this.elements[4]=t.elements[4],this.elements[5]=t.elements[5],this.elements[6]=t.elements[6],this.elements[7]=t.elements[7],this.elements[8]=t.elements[8],this.manual=t.manual,this.trigger(k.Types.change)},identity:function(){return this.elements[0]=Z.Identity[0],this.elements[1]=Z.Identity[1],this.elements[2]=Z.Identity[2],this.elements[3]=Z.Identity[3],this.elements[4]=Z.Identity[4],this.elements[5]=Z.Identity[5],this.elements[6]=Z.Identity[6],this.elements[7]=Z.Identity[7],this.elements[8]=Z.Identity[8],this.trigger(k.Types.change)},multiply:function(t,e,i,r,n,s,a,o,l){if("undefined"===typeof e)return this.elements[0]*=t,this.elements[1]*=t,this.elements[2]*=t,this.elements[3]*=t,this.elements[4]*=t,this.elements[5]*=t,this.elements[6]*=t,this.elements[7]*=t,this.elements[8]*=t,this.trigger(k.Types.change);var h,c,u;if("undefined"===typeof r)return t=t||0,e=e||0,i=i||0,n=this.elements,h=n[0]*t+n[1]*e+n[2]*i,c=n[3]*t+n[4]*e+n[5]*i,u=n[6]*t+n[7]*e+n[8]*i,{x:h,y:c,z:u};var f=this.elements,d=[t,e,i,r,n,s,a,o,l],p=f[0],_=f[1],g=f[2],m=f[3],v=f[4],y=f[5],b=f[6],x=f[7],w=f[8],A=d[0],S=d[1],O=d[2],M=d[3],C=d[4],T=d[5],j=d[6],E=d[7],R=d[8];return this.elements[0]=p*A+_*M+g*j,this.elements[1]=p*S+_*C+g*E,this.elements[2]=p*O+_*T+g*R,this.elements[3]=m*A+v*M+y*j,this.elements[4]=m*S+v*C+y*E,this.elements[5]=m*O+v*T+y*R,this.elements[6]=b*A+x*M+w*j,this.elements[7]=b*S+x*C+w*E,this.elements[8]=b*O+x*T+w*R,this.trigger(k.Types.change)},inverse:function(t){var e=this.elements;t=t||new Z;var i=e[0],r=e[1],n=e[2],s=e[3],a=e[4],o=e[5],l=e[6],h=e[7],c=e[8],u=c*a-o*h,f=-c*s+o*l,d=h*s-a*l,p=i*u+r*f+n*d;return p?(p=1/p,t.elements[0]=u*p,t.elements[1]=(-c*r+n*h)*p,t.elements[2]=(o*r-n*a)*p,t.elements[3]=f*p,t.elements[4]=(c*i-n*l)*p,t.elements[5]=(-o*i+n*s)*p,t.elements[6]=d*p,t.elements[7]=(-h*i+r*l)*p,t.elements[8]=(a*i-r*s)*p,t):null},scale:function(t,e){var i=arguments.length;return i<=1&&(e=t),this.multiply(t,0,0,0,e,0,0,0,1)},rotate:function(t){var e=q(t),i=K(t);return this.multiply(e,-i,0,i,e,0,0,0,1)},translate:function(t,e){return this.multiply(1,0,t,0,1,e,0,0,1)},skewX:function(t){var e=J(t);return this.multiply(1,e,0,0,1,0,0,0,1)},skewY:function(t){var e=J(t);return this.multiply(1,0,0,e,1,0,0,0,1)},toString:function(t){return Q.length=0,this.toTransformArray(t,Q),Q.map(v).join(" ")},toTransformArray:function(t,e){var i=this.elements,r=!!e,n=i[0],s=i[1],a=i[2],o=i[3],l=i[4],h=i[5];if(t){var c=i[6],u=i[7],f=i[8];return r?(e[0]=n,e[1]=o,e[2]=c,e[3]=s,e[4]=l,e[5]=u,e[6]=a,e[7]=h,void(e[8]=f)):[n,o,c,s,l,u,a,h,f]}return r?(e[0]=n,e[1]=o,e[2]=s,e[3]=l,e[4]=a,void(e[5]=h)):[n,o,s,l,a,h]},toArray:function(t,e){var i=this.elements,r=!!e,n=i[0],s=i[1],a=i[2],o=i[3],l=i[4],h=i[5];if(t){var c=i[6],u=i[7],f=i[8];return r?(e[0]=n,e[1]=s,e[2]=a,e[3]=o,e[4]=l,e[5]=h,e[6]=c,e[7]=u,void(e[8]=f)):[n,s,a,o,l,h,c,u,f]}return r?(e[0]=n,e[1]=s,e[2]=a,e[3]=o,e[4]=l,void(e[5]=h)):[n,s,a,o,l,h]},toObject:function(){return{elements:this.toArray(!0),manual:!!this.manual}},clone:function(){return(new Z).copy(this)}}),w.extend(tt,{FlagMatrix:function(){this._flagMatrix=!0},MakeObservable:function(t){var e={enumerable:!1,get:function(){return this._translation},set:function(t){this._translation&&this._translation.unbind(k.Types.change,this._renderer.flagMatrix),this._translation=t,this._translation.bind(k.Types.change,this._renderer.flagMatrix),tt.FlagMatrix.call(this)}};Object.defineProperty(t,"translation",e),Object.defineProperty(t,"position",e),Object.defineProperty(t,"rotation",{enumerable:!0,get:function(){return this._rotation},set:function(t){this._rotation=t,this._flagMatrix=!0}}),Object.defineProperty(t,"scale",{enumerable:!0,get:function(){return this._scale},set:function(t){this._scale instanceof M&&this._scale.unbind(k.Types.change,this._renderer.flagMatrix),this._scale=t,this._scale instanceof M&&this._scale.bind(k.Types.change,this._renderer.flagMatrix),this._flagMatrix=!0,this._flagScale=!0}}),Object.defineProperty(t,"skewX",{enumerable:!0,get:function(){return this._skewX},set:function(t){this._skewX=t,this._flagMatrix=!0}}),Object.defineProperty(t,"skewY",{enumerable:!0,get:function(){return this._skewY},set:function(t){this._skewY=t,this._flagMatrix=!0}}),Object.defineProperty(t,"matrix",{enumerable:!0,get:function(){return this._matrix},set:function(t){this._matrix=t,this._flagMatrix=!0}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return this._id},set:function(t){var e=this._id;t!==this._id&&(this._id=t,this._flagId=!0,this.parent&&(delete this.parent.children.ids[e],this.parent.children.ids[this._id]=this))}}),Object.defineProperty(t,"className",{enumerable:!0,get:function(){return this._className},set:function(t){if(this._flagClassName=this._className!==t,this._flagClassName){for(var e=this._className.split(/\s+?/),i=t.split(/\s+?/),r=0;r<e.length;r++){var n=e[r],s=Array.prototype.indexOf.call(this.classList,n);s>=0&&this.classList.splice(s,1)}this.classList=this.classList.concat(i)}this._className=t}}),Object.defineProperty(t,"renderer",{enumerable:!1,get:function(){return this._renderer},set:function(t){this._renderer=t}})}}),w.extend(tt.prototype,k,{constructor:tt,_flagId:!0,_flagMatrix:!0,_flagScale:!1,_flagClassName:!1,_id:"",_translation:null,_rotation:0,_scale:1,_skewX:0,_skewY:0,_className:"",addTo:function(t){return t.add(this),this},clone:function(t){var e=new tt;return e.translation.copy(this.translation),e.rotation=this.rotation,e.scale=this.scale,e.skewX=this.skewX,e.skewY=this.skewY,this.matrix.manual&&e.matrix.copy(this.matrix),t&&t.add(e),e._update()},_update:function(t){return!this._matrix.manual&&this._flagMatrix&&(this._matrix.identity().translate(this.translation.x,this.translation.y),this._scale instanceof M?this._matrix.scale(this._scale.x,this._scale.y):this._matrix.scale(this._scale),this._matrix.rotate(this.rotation),this._matrix.skewX(this.skewX),this._matrix.skewY(this.skewY)),t&&this.parent&&this.parent._update&&this.parent._update(),this},flagReset:function(){return this._flagId=this._flagMatrix=this._flagScale=this._flagClassName=!1,this}}),tt.MakeObservable(tt.prototype),et.prototype=new Array,w.extend(et.prototype,k,{constructor:et,pop:function(){var t=Array.prototype.pop.apply(this,arguments);return this.trigger(k.Types.remove,[t]),t},shift:function(){var t=Array.prototype.shift.apply(this,arguments);return this.trigger(k.Types.remove,[t]),t},push:function(){var t=Array.prototype.push.apply(this,arguments);return this.trigger(k.Types.insert,arguments),t},unshift:function(){var t=Array.prototype.unshift.apply(this,arguments);return this.trigger(k.Types.insert,arguments),t},splice:function(){var t,e=Array.prototype.splice.apply(this,arguments);return this.trigger(k.Types.remove,e),arguments.length>2&&(t=this.slice(arguments[0],arguments[0]+arguments.length-2),this.trigger(k.Types.insert,t),this.trigger(k.Types.order)),e},sort:function(){return Array.prototype.sort.apply(this,arguments),this.trigger(k.Types.order),this},reverse:function(){return Array.prototype.reverse.apply(this,arguments),this.trigger(k.Types.order),this},indexOf:function(){return Array.prototype.indexOf.apply(this,arguments)}}),it.prototype=new et,w.extend(it.prototype,{constructor:it,attach:function(t){for(var e=0;e<t.length;e++){var i=t[e];i&&i.id&&(this.ids[i.id]=i)}return this},detach:function(t){for(var e=0;e<t.length;e++)delete this.ids[t[e].id];return this}});var rt=Math.min,nt=Math.max;function st(t){tt.call(this),this._renderer.type="group",this.additions=[],this.subtractions=[],this.children=Array.isArray(t)?t:Array.prototype.slice.call(arguments)}function at(t,e){var i,r=t.parent;function n(){e.subtractions.length>0&&(i=Array.prototype.indexOf.call(e.subtractions,t),i>=0&&e.subtractions.splice(i,1)),e.additions.length>0&&(i=Array.prototype.indexOf.call(e.additions,t),i>=0&&e.additions.splice(i,1)),t.parent=e,e.additions.push(t),e._flagAdditions=!0}function s(){i=Array.prototype.indexOf.call(r.additions,t),i>=0&&r.additions.splice(i,1),i=Array.prototype.indexOf.call(r.subtractions,t),i<0&&(r.subtractions.push(t),r._flagSubtractions=!0)}r!==e?(r&&r.children.ids[t.id]&&(i=Array.prototype.indexOf.call(r.children,t),r.children.splice(i,1),s()),e?n():(s(),r._flagAdditions&&0===r.additions.length&&(r._flagAdditions=!1),r._flagSubtractions&&0===r.subtractions.length&&(r._flagSubtractions=!1),delete t.parent)):n()}w.extend(st,{Children:it,InsertChildren:function(t){for(var e=0;e<t.length;e++)at.call(this,t[e],this)},RemoveChildren:function(t){for(var e=0;e<t.length;e++)at.call(this,t[e])},OrderChildren:function(t){this._flagOrder=!0},Properties:["fill","stroke","linewidth","cap","join","miter","closed","curved","automatic"],MakeObservable:function(t){var e=st.Properties;Object.defineProperty(t,"visible",{enumerable:!0,get:function(){return this._visible},set:function(t){this._flagVisible=this._visible!==t||this._flagVisible,this._visible=t}}),Object.defineProperty(t,"opacity",{enumerable:!0,get:function(){return this._opacity},set:function(t){this._flagOpacity=this._opacity!==t||this._flagOpacity,this._opacity=t}}),Object.defineProperty(t,"beginning",{enumerable:!0,get:function(){return this._beginning},set:function(t){this._flagBeginning=this._beginning!==t||this._flagBeginning,this._beginning=t}}),Object.defineProperty(t,"ending",{enumerable:!0,get:function(){return this._ending},set:function(t){this._flagEnding=this._ending!==t||this._flagEnding,this._ending=t}}),Object.defineProperty(t,"length",{enumerable:!0,get:function(){if(this._flagLength||this._length<=0){if(this._length=0,!this.children)return this._length;for(var t=0;t<this.children.length;t++){var e=this.children[t];this._length+=e.length}}return this._length}}),tt.MakeObservable(t),st.MakeGetterSetters(t,e),Object.defineProperty(t,"children",{enumerable:!0,get:function(){return this._children},set:function(t){var e=st.InsertChildren.bind(this),i=st.RemoveChildren.bind(this),r=st.OrderChildren.bind(this);this._children&&(this._children.unbind(),this._children.length>0&&i(this._children)),this._children=new it(t),this._children.bind(k.Types.insert,e),this._children.bind(k.Types.remove,i),this._children.bind(k.Types.order,r),t.length>0&&e(t)}}),Object.defineProperty(t,"mask",{enumerable:!0,get:function(){return this._mask},set:function(t){this._mask&&(this._mask.clip=!1),this._mask=t,this._flagMask=!0,t&&!t.clip&&(t.clip=!0)}})},MakeGetterSetters:function(t,e){Array.isArray(e)||(e=[e]),w.each(e,(function(e){st.MakeGetterSetter(t,e)}))},MakeGetterSetter:function(t,e){var i="_"+e;Object.defineProperty(t,e,{enumerable:!0,get:function(){return this[i]},set:function(t){this[i]=t;for(var r=0;r<this.children.length;r++){var n=this.children[r];n[e]=t}}})}}),w.extend(st.prototype,tt.prototype,{constructor:st,_flagAdditions:!1,_flagSubtractions:!1,_flagOrder:!1,_flagOpacity:!0,_flagBeginning:!1,_flagEnding:!1,_flagLength:!1,_flagMask:!1,_fill:"#fff",_stroke:"#000",_linewidth:1,_opacity:1,_visible:!0,_cap:"round",_join:"round",_miter:4,_closed:!0,_curved:!1,_automatic:!0,_beginning:0,_ending:1,_length:0,_mask:null,clone:function(t){var e=new st,i=this.children.map((function(t){return t.clone()}));return e.add(i),e.opacity=this.opacity,this.mask&&(e.mask=this.mask),e.translation.copy(this.translation),e.rotation=this.rotation,e.scale=this.scale,e.className=this.className,this.matrix.manual&&e.matrix.copy(this.matrix),t&&t.add(e),e._update()},toObject:function(){var t={children:[],translation:this.translation.toObject(),rotation:this.rotation,scale:this.scale instanceof M?this.scale.toObject():this.scale,opacity:this.opacity,className:this.className,mask:this.mask?this.mask.toObject():null};return this.matrix.manual&&(t.matrix=this.matrix.toObject()),w.each(this.children,(function(e,i){t.children[i]=e.toObject()}),this),t},corner:function(){for(var t=this.getBoundingClientRect(!0),e=0;e<this.children.length;e++){var i=this.children[e];i.translation.x-=t.left,i.translation.y-=t.top}return this.mask&&(this.mask.translation.x-=t.left,this.mask.translation.y-=t.top),this},center:function(){for(var t=this.getBoundingClientRect(!0),e=t.left+t.width/2-this.translation.x,i=t.top+t.height/2-this.translation.y,r=0;r<this.children.length;r++){var n=this.children[r];n.isShape&&(n.translation.x-=e,n.translation.y-=i)}return this.mask&&(this.mask.translation.x-=e,this.mask.translation.y-=i),this},getById:function(t){var e=null;function i(r){if(r.id===t)return r;if(r.children)for(var n=0;n<r.children.length;n++)if(e=i(r.children[n]),e)return e;return null}return i(this)},getByClassName:function(t){var e=[];function i(r){if(Array.prototype.indexOf.call(r.classList,t)>=0&&e.push(r),r.children)for(var n=0;n<r.children.length;n++){var s=r.children[n];i(s)}return e}return i(this)},getByType:function(t){var e=[];function i(r){if(r instanceof t&&e.push(r),r.children)for(var n=0;n<r.children.length;n++){var s=r.children[n];i(s)}return e}return i(this)},add:function(t){t=t instanceof Array?t.slice():Array.prototype.slice.call(arguments);for(var e=0;e<t.length;e++){var i=t[e];if(i&&i.id){var r=Array.prototype.indexOf.call(this.children,i);r>=0&&this.children.splice(r,1),this.children.push(i)}}return this},remove:function(t){var e=arguments.length,i=this.parent;if(e<=0&&i)return i.remove(this),this;t=t instanceof Array?t.slice():Array.prototype.slice.call(arguments);for(var r=0;r<t.length;r++){var n=t[r];if(n&&this.children.ids[n.id]){var s=this.children.indexOf(n);s>=0&&this.children.splice(s,1)}}return this},getBoundingClientRect:function(t){var e,i,r,n,s,a,o,l,h,c;this._update(!0);var f=1/0,d=-1/0,p=1/0,_=-1/0,g=/texture|gradient/i;i=t?this._matrix:u(this);for(var m=0;m<this.children.length;m++){var v=this.children[m];v.visible&&!g.test(v._renderer.type)&&(e=v.getBoundingClientRect(t),o="number"!==typeof e.top||w.isNaN(e.top)||!isFinite(e.top),l="number"!==typeof e.left||w.isNaN(e.left)||!isFinite(e.left),h="number"!==typeof e.right||w.isNaN(e.right)||!isFinite(e.right),c="number"!==typeof e.bottom||w.isNaN(e.bottom)||!isFinite(e.bottom),o||l||h||c||(p=rt(e.top,p),f=rt(e.left,f),d=nt(e.right,d),_=nt(e.bottom,_)))}return t&&(r=i.multiply(f,p,1),n=i.multiply(f,_,1),s=i.multiply(d,p,1),a=i.multiply(d,_,1),p=rt(r.y,n.y,s.y,a.y),f=rt(r.x,n.x,s.x,a.x),d=nt(r.x,n.x,s.x,a.x),_=nt(r.y,n.y,s.y,a.y)),{top:p,left:f,right:d,bottom:_,width:d-f,height:_-p}},noFill:function(){return this.children.forEach((function(t){t.noFill()})),this},noStroke:function(){return this.children.forEach((function(t){t.noStroke()})),this},subdivide:function(){var t=arguments;return this.children.forEach((function(e){e.subdivide.apply(e,t)})),this},_update:function(){var t,e,i;if(this._flagBeginning||this._flagEnding){var r=Math.min(this._beginning,this._ending),n=Math.max(this._beginning,this._ending),s=this.length,a=0,o=r*s,l=n*s;for(t=0;t<this.children.length;t++)i=this.children[t],e=i.length,o>a+e?(i.beginning=1,i.ending=1):l<a?(i.beginning=0,i.ending=0):o>a&&o<a+e?(i.beginning=(o-a)/e,i.ending=1):l>a&&l<a+e?(i.beginning=0,i.ending=(l-a)/e):(i.beginning=0,i.ending=1),a+=e}return tt.prototype._update.apply(this,arguments)},flagReset:function(){return this._flagAdditions&&(this.additions.length=0,this._flagAdditions=!1),this._flagSubtractions&&(this.subtractions.length=0,this._flagSubtractions=!1),this._flagOrder=this._flagMask=this._flagOpacity=this._flagBeginning=this._flagEnding=!1,tt.prototype.flagReset.call(this),this}}),st.MakeObservable(st.prototype);var ot=new Z,lt=[],ht=Math.max,ct=Math.min,ut=Math.abs,ft=Math.sin,dt=Math.cos,pt=Math.acos,_t=Math.sqrt,gt=function(t){return 1==t[0]&&0==t[3]&&0==t[1]&&1==t[4]&&0==t[2]&&0==t[5]},mt={isHidden:/(undefined|none|transparent)/i,alignments:{left:"start",middle:"center",right:"end"},shim:function(t,e){return t.tagName=t.nodeName=e||"canvas",t.nodeType=1,t.getAttribute=function(t){return this[t]},t.setAttribute=function(t,e){return this[t]=e,this},t},group:{renderChild:function(t){mt[t._renderer.type].render.call(t,this.ctx,!0,this.clip)},render:function(t){if(!this._visible)return this;this._update();var e=this._matrix.elements,i=this.parent;this._renderer.opacity=this._opacity*(i&&i._renderer?i._renderer.opacity:1);var r=this._mask,n=gt(e),s=!n||!!r;if(this._renderer.context||(this._renderer.context={}),this._renderer.context.ctx=t,s&&(t.save(),n||t.transform(e[0],e[3],e[1],e[4],e[2],e[5])),r&&mt[r._renderer.type].render.call(r,t,!0),this._opacity>0&&0!==this._scale)for(var a=0;a<this.children.length;a++){var o=this.children[a];mt[o._renderer.type].render.call(o,t)}return s&&t.restore(),this.flagReset()}},path:{render:function(t,e,i){var r,s,a,o,l,h,c,u,f,d,p,g,m,v,y,b,x,w,k,A,S,O,C,T,j,E,R,F,P,L,N,I,B,V;if(V=this.parent&&this.parent._renderer?this.parent._renderer.opacity:1,P=this._mask,L=this._clip,l=this._opacity*(V||1),h=this._visible,!e&&(!h||L||0===l))return this;this._update(),r=this._matrix.elements,s=this._stroke,a=this._linewidth,o=this._fill,c=this._cap,u=this._join,f=this._miter,d=this._closed,p=this._renderer.vertices,g=p.length,m=g-1,N=gt(r),B=this.dashes,N||(t.save(),t.transform(r[0],r[3],r[1],r[4],r[2],r[5])),P&&mt[P._renderer.type].render.call(P,t,!0),o&&("string"===typeof o?t.fillStyle=o:(mt[o._renderer.type].render.call(o,t,this),t.fillStyle=o._renderer.effect)),s&&("string"===typeof s?t.strokeStyle=s:(mt[s._renderer.type].render.call(s,t,this),t.strokeStyle=s._renderer.effect),a&&(t.lineWidth=a),f&&(t.miterLimit=f),u&&(t.lineJoin=u),!d&&c&&(t.lineCap=c)),"number"===typeof l&&(t.globalAlpha=l),B&&B.length>0&&(t.lineDashOffset=B.offset||0,t.setLineDash(B)),t.beginPath();for(var z=0;z<g;z++)switch(b=p[z],R=b.x,F=b.y,b.command){case n.close:t.closePath();break;case n.arc:var U=b.rx,D=b.ry,$=b.xAxisRotation,Y=b.largeArcFlag,X=b.sweepFlag;v=d?_(z-1,g):ht(z-1,0),y=p[v];var G=y.x,H=y.y;mt.renderSvgArcCommand(t,G,H,U,D,Y,X,$,R,F);break;case n.curve:v=d?_(z-1,g):Math.max(z-1,0),y=p[v],C=y.controls&&y.controls.right||M.zero,T=b.controls&&b.controls.left||M.zero,y._relative?(S=C.x+y.x,O=C.y+y.y):(S=C.x,O=C.y),b._relative?(k=T.x+b.x,A=T.y+b.y):(k=T.x,A=T.y),t.bezierCurveTo(S,O,k,A,R,F),z>=m&&d&&(x=w,j=b.controls&&b.controls.right||M.zero,E=x.controls&&x.controls.left||M.zero,b._relative?(S=j.x+b.x,O=j.y+b.y):(S=j.x,O=j.y),x._relative?(k=E.x+x.x,A=E.y+x.y):(k=E.x,A=E.y),R=x.x,F=x.y,t.bezierCurveTo(S,O,k,A,R,F));break;case n.line:t.lineTo(R,F);break;case n.move:w=b,t.moveTo(R,F);break}return d&&t.closePath(),L||i||(mt.isHidden.test(o)||(I=o._renderer&&o._renderer.offset,I&&(t.save(),t.translate(-o._renderer.offset.x,-o._renderer.offset.y),t.scale(o._renderer.scale.x,o._renderer.scale.y)),t.fill(),I&&t.restore()),mt.isHidden.test(s)||(I=s._renderer&&s._renderer.offset,I&&(t.save(),t.translate(-s._renderer.offset.x,-s._renderer.offset.y),t.scale(s._renderer.scale.x,s._renderer.scale.y),t.lineWidth=a/s._renderer.scale.x),t.stroke(),I&&t.restore())),N||t.restore(),L&&!i&&t.clip(),B&&B.length>0&&t.setLineDash(lt),this.flagReset()}},points:{render:function(t,e,i){var r,n,s,a,l,c,f,d,p,_,g,m,v,y,b,x;if(x=this.parent&&this.parent._renderer?this.parent._renderer.opacity:1,l=this._opacity*(x||1),c=this._visible,!e&&(!c||0===l))return this;this._update(),r=this._matrix.elements,n=this._stroke,s=this._linewidth,a=this._fill,d=this._renderer.collection,p=d.length,v=gt(r),b=this.dashes,f=this._size,v||(t.save(),t.transform(r[0],r[3],r[1],r[4],r[2],r[5])),a&&("string"===typeof a?t.fillStyle=a:(mt[a._renderer.type].render.call(a,t,this),t.fillStyle=a._renderer.effect)),n&&("string"===typeof n?t.strokeStyle=n:(mt[n._renderer.type].render.call(n,t,this),t.strokeStyle=n._renderer.effect),s&&(t.lineWidth=s)),"number"===typeof l&&(t.globalAlpha=l),b&&b.length>0&&(t.lineDashOffset=b.offset||0,t.setLineDash(b)),t.beginPath();var w,k=.5*f;this._sizeAttenuation||(u(this,ot),w=ot.elements,w=h(w[0],w[3],w[1],w[4],w[2],w[5]),k/=Math.max(w.scaleX,w.scaleY));for(var A=0;A<p;A++)_=d[A],g=_.x,m=_.y,t.moveTo(g+k,m),t.arc(g,m,k,0,o);return i||(mt.isHidden.test(a)||(y=a._renderer&&a._renderer.offset,y&&(t.save(),t.translate(-a._renderer.offset.x,-a._renderer.offset.y),t.scale(a._renderer.scale.x,a._renderer.scale.y)),t.fill(),y&&t.restore()),mt.isHidden.test(n)||(y=n._renderer&&n._renderer.offset,y&&(t.save(),t.translate(-n._renderer.offset.x,-n._renderer.offset.y),t.scale(n._renderer.scale.x,n._renderer.scale.y),t.lineWidth=s/n._renderer.scale.x),t.stroke(),y&&t.restore())),v||t.restore(),b&&b.length>0&&t.setLineDash(lt),this.flagReset()}},text:{render:function(t,e,i){var r=this.parent&&this.parent._renderer?this.parent._renderer.opacity:1,n=this._opacity*r,s=this._visible,a=this._mask,o=this._clip;if(!e&&(!s||o||0===n))return this;this._update();var l,h,c,u,f,d,p,_,g,m,v,y=this._matrix.elements,b=this._stroke,x=this._linewidth,w=this._fill,k=this._decoration,A=gt(y),S=w._renderer&&w._renderer.offset&&b._renderer&&b._renderer.offset,O=this.dashes,M=mt.alignments[this._alignment]||this._alignment,C=this._baseline;if(A||(t.save(),t.transform(y[0],y[3],y[1],y[4],y[2],y[5])),a&&mt[a._renderer.type].render.call(a,t,!0),S||(t.font=[this._style,this._weight,this._size+"px/"+this._leading+"px",this._family].join(" ")),t.textAlign=M,t.textBaseline=C,w&&("string"===typeof w?t.fillStyle=w:(mt[w._renderer.type].render.call(w,t,this),t.fillStyle=w._renderer.effect)),b&&("string"===typeof b?t.strokeStyle=b:(mt[b._renderer.type].render.call(b,t,this),t.strokeStyle=b._renderer.effect),x&&(t.lineWidth=x)),"number"===typeof n&&(t.globalAlpha=n),O&&O.length>0&&(t.lineDashOffset=O.offset||0,t.setLineDash(O)),o||i||(mt.isHidden.test(w)||(w._renderer&&w._renderer.offset?(d=w._renderer.scale.x,p=w._renderer.scale.y,t.save(),t.translate(-w._renderer.offset.x,-w._renderer.offset.y),t.scale(d,p),l=this._size/w._renderer.scale.y,h=this._leading/w._renderer.scale.y,t.font=[this._style,this._weight,l+"px/",h+"px",this._family].join(" "),c=w._renderer.offset.x/w._renderer.scale.x,u=w._renderer.offset.y/w._renderer.scale.y,t.fillText(this.value,c,u),t.restore()):t.fillText(this.value,0,0)),mt.isHidden.test(b)||(b._renderer&&b._renderer.offset?(d=b._renderer.scale.x,p=b._renderer.scale.y,t.save(),t.translate(-b._renderer.offset.x,-b._renderer.offset.y),t.scale(d,p),l=this._size/b._renderer.scale.y,h=this._leading/b._renderer.scale.y,t.font=[this._style,this._weight,l+"px/",h+"px",this._family].join(" "),c=b._renderer.offset.x/b._renderer.scale.x,u=b._renderer.offset.y/b._renderer.scale.y,f=x/b._renderer.scale.x,t.lineWidth=f,t.strokeText(this.value,c,u),t.restore()):t.strokeText(this.value,0,0))),/(underline|strikethrough)/i.test(k)){var T=t.measureText(this.value),j=1;switch(k){case"underline":g=T.actualBoundingBoxAscent,v=T.actualBoundingBoxAscent;break;case"strikethrough":g=0,v=0,j=.5;break}switch(C){case"top":g+=this._size*j,v+=this._size*j;break;case"baseline":case"bottom":g-=this._size*j,v-=this._size*j;break}switch(M){case"left":case"start":_=0,m=T.width;break;case"right":case"end":_=-T.width,m=0;break;default:_=-T.width/2,m=T.width/2}t.lineWidth=Math.max(Math.floor(this._size/15),1),t.strokeStyle=t.fillStyle,t.beginPath(),t.moveTo(_,g),t.lineTo(m,v),t.stroke()}return A||t.restore(),o&&!i&&t.clip(),O&&O.length>0&&t.setLineDash(lt),this.flagReset()}},"linear-gradient":{render:function(t,e){if(this._update(),!this._renderer.effect||this._flagEndPoints||this._flagStops||this._flagUnits){var i,r=this.left._x,n=this.left._y,s=this.right._x,a=this.right._y;/objectBoundingBox/i.test(this._units)&&(i=e.getBoundingClientRect(!0),r=(r-.5)*i.width,n=(n-.5)*i.height,s=(s-.5)*i.width,a=(a-.5)*i.height),this._renderer.effect=t.createLinearGradient(r,n,s,a);for(var o=0;o<this.stops.length;o++){var l=this.stops[o];this._renderer.effect.addColorStop(l._offset,l._color)}}return this.flagReset()}},"radial-gradient":{render:function(t,e){if(this._update(),!this._renderer.effect||this._flagCenter||this._flagFocal||this._flagRadius||this._flagStops||this._flagUnits){var i,r=this.center._x,n=this.center._y,s=this.focal._x,a=this.focal._y;/objectBoundingBox/i.test(this._units)&&(i=e.getBoundingClientRect(!0),r=(r-.5)*i.width,n=(n-.5)*i.height,s=(s-.5)*i.width,a=(a-.5)*i.height),this._renderer.effect=t.createRadialGradient(r,n,0,s,a,this._radius);for(var o=0;o<this.stops.length;o++){var l=this.stops[o];this._renderer.effect.addColorStop(l._offset,l._color)}}return this.flagReset()}},texture:{render:function(t){this._update();var e=this.image;return(!this._renderer.effect||(this._flagLoaded||this._flagImage||this._flagVideo||this._flagRepeat)&&this.loaded)&&(this._renderer.effect=t.createPattern(this.image,this._repeat)),(this._flagOffset||this._flagLoaded||this._flagScale)&&(this._renderer.offset instanceof M||(this._renderer.offset=new M),this._renderer.offset.x=-this._offset.x,this._renderer.offset.y=-this._offset.y,e&&(this._renderer.offset.x+=e.width/2,this._renderer.offset.y+=e.height/2,this._scale instanceof M?(this._renderer.offset.x*=this._scale.x,this._renderer.offset.y*=this._scale.y):(this._renderer.offset.x*=this._scale,this._renderer.offset.y*=this._scale))),(this._flagScale||this._flagLoaded)&&(this._renderer.scale instanceof M||(this._renderer.scale=new M),this._scale instanceof M?this._renderer.scale.copy(this._scale):this._renderer.scale.set(this._scale,this._scale)),this.flagReset()}},renderSvgArcCommand:function(t,e,i,r,n,s,a,l,h,c){l=l*Math.PI/180,r=ut(r),n=ut(n);var u=(e-h)/2,f=(i-c)/2,d=dt(l)*u+ft(l)*f,p=-ft(l)*u+dt(l)*f,_=r*r,g=n*n,m=d*d,v=p*p,y=m/_+v/g;if(y>1){var b=_t(y);r*=b,n*=b,_=r*r,g=n*n}var x=_*v+g*m,w=(_*g-x)/x,k=_t(ht(0,w));s===a&&(k=-k);var A=k*r*p/n,S=-k*n*d/r,O=dt(l)*A-ft(l)*S+(e+h)/2,M=ft(l)*A+dt(l)*S+(i+c)/2,C=bt(1,0,(d-A)/r,(p-S)/n),T=bt((d-A)/r,(p-S)/n,(-d-A)/r,(-p-S)/n)%o,j=C+T,E=0===a;yt(t,O,M,r,n,C,j,E,l)}};function vt(t){var e=!1!==t.smoothing;this.domElement=t.domElement||document.createElement("canvas"),this.ctx=this.domElement.getContext("2d"),this.overdraw=t.overdraw||!1,"undefined"!==typeof this.ctx.imageSmoothingEnabled&&(this.ctx.imageSmoothingEnabled=e),this.scene=new st,this.scene.parent=this}function yt(t,e,i,r,n,s,a,l,h){var c=L.Tolerance.epsilon,u=a-s,f=Math.abs(u)<c;u=_(u,o),u<c&&(u=f?0:o),!0!==l||f||(u===o?u=-o:u-=o);for(var d=0;d<P.Resolution;d++){var p=d/(P.Resolution-1),g=s+p*u,m=e+r*Math.cos(g),v=i+n*Math.sin(g);if(0!==h){var y=Math.cos(h),b=Math.sin(h),x=m-e,w=v-i;m=x*y-w*b+e,v=x*b+w*y+i}t.lineTo(m,v)}}function bt(t,e,i,r){var n=t*i+e*r,s=_t(t*t+e*e)*_t(i*i+r*r),a=pt(ht(-1,ct(1,n/s)));return t*r-e*i<0&&(a=-a),a}w.extend(vt,{Utils:mt}),w.extend(vt.prototype,k,{constructor:vt,setSize:function(t,e,i){return this.width=t,this.height=e,this.ratio="undefined"===typeof i?W(this.ctx):i,this.domElement.width=t*this.ratio,this.domElement.height=e*this.ratio,this.domElement.style&&w.extend(this.domElement.style,{width:t+"px",height:e+"px"}),this.trigger(k.Types.resize,t,e,i)},render:function(){var t=1===this.ratio;return t||(this.ctx.save(),this.ctx.scale(this.ratio,this.ratio)),this.overdraw||this.ctx.clearRect(0,0,this.width,this.height),mt.group.render.call(this.scene,this.ctx),t||this.ctx.restore(),this}});var xt={Image:null,isHeadless:!1,shim:function(t,e){return vt.Utils.shim(t),"undefined"!==typeof e&&(xt.Image=e),xt.isHeadless=!0,t}},wt={hasEventListeners:"function"===typeof a.addEventListener,bind:function(t,e,i,r){return this.hasEventListeners?t.addEventListener(e,i,!!r):t.attachEvent("on"+e,i),wt},unbind:function(t,e,i,r){return wt.hasEventListeners?t.removeEventListeners(e,i,!!r):t.detachEvent("on"+e,i),wt},getRequestAnimationFrame:function(){var t,e=0,i=["ms","moz","webkit","o"],r=a.requestAnimationFrame;if(!r){for(var n=0;n<i.length;n++)r=a[i[n]+"RequestAnimationFrame"]||r,t=a[i[n]+"CancelAnimationFrame"]||a[i[n]+"CancelRequestAnimationFrame"]||t;r=r||function(t,i){var r=(new Date).getTime(),n=Math.max(0,16-(r-e)),s=a.setTimeout((function(){t(r+n)}),n);return e=r+n,s}}return r}},kt=a.document?a.document.createElement("div"):{};function At(t){this.name="Two.js",this.message=t}kt.id="help-two-load",Object.defineProperty(wt,"temp",{enumerable:!0,get:function(){return w.isElement(kt)&&!a.document.head.contains(kt)&&(w.extend(kt.style,{display:"none"}),a.document.head.appendChild(kt)),kt}}),At.prototype=new Error,w.extend(At.prototype,{constructor:At});var St,Ot=function(t){var e=this,i="_"+t,r="_flag"+t.charAt(0).toUpperCase()+t.slice(1);Object.defineProperty(e,t,{enumerable:!0,get:function(){return this[i]},set:function(t){this[i]=t,this[r]=!0}})};function Mt(){this.map={}}function Ct(t,e,i){this.renderer={},this._renderer.type="stop",this.offset="number"===typeof t?t:Ct.Index<=0?0:1,this.opacity="number"===typeof i?i:1,this.color="string"===typeof e?e:Ct.Index<=0?"#fff":"#000",Ct.Index=(Ct.Index+1)%2}function Tt(t){this.renderer={},this._renderer.type="gradient",this.id=P.Identifier+P.uniqueId(),this.classList=[],this._renderer.flagStops=Tt.FlagStops.bind(this),this._renderer.bindStops=Tt.BindStops.bind(this),this._renderer.unbindStops=Tt.UnbindStops.bind(this),this.spread="pad",this.units="objectBoundingBox",t&&(this.stops=t)}function jt(t,e,i,r,n){Tt.call(this,n),this._renderer.type="linear-gradient";var s=jt.FlagEndPoints.bind(this);this.left=(new M).bind(k.Types.change,s),this.right=(new M).bind(k.Types.change,s),"number"===typeof t&&(this.left.x=t),"number"===typeof e&&(this.left.y=e),"number"===typeof i&&(this.right.x=i),"number"===typeof r&&(this.right.y=r)}function Et(t,e,i,r,n,s){Tt.call(this,r),this._renderer.type="radial-gradient",this.center=(new M).bind(k.Types.change,function(){this._flagCenter=!0}.bind(this)),this.radius="number"===typeof i?i:20,this.focal=(new M).bind(k.Types.change,function(){this._flagFocal=!0}.bind(this)),"number"===typeof t&&(this.center.x=t),"number"===typeof e&&(this.center.y=e),this.focal.copy(this.center),"number"===typeof n&&(this.focal.x=n),"number"===typeof s&&(this.focal.y=s)}w.extend(Mt.prototype,{constructor:Mt,add:function(t,e){return this.map[t]=e,this},remove:function(t){return delete this.map[t],this},get:function(t){return this.map[t]},contains:function(t){return t in this.map}}),w.extend(Ct,{Index:0,Properties:["offset","opacity","color"],MakeObservable:function(t){w.each(Ct.Properties,(function(t){var e=this,i="_"+t,r="_flag"+t.charAt(0).toUpperCase()+t.slice(1);Object.defineProperty(e,t,{enumerable:!0,get:function(){return this[i]},set:function(t){this[i]=t,this[r]=!0,this.parent&&(this.parent._flagStops=!0)}})}),t),Object.defineProperty(t,"renderer",{enumerable:!1,get:function(){return this._renderer},set:function(t){this._renderer=t}})}}),w.extend(Ct.prototype,k,{constructor:Ct,clone:function(){var t=new Ct;return w.each(Ct.Properties,(function(e){t[e]=this[e]}),this),t},toObject:function(){var t={};return w.each(Ct.Properties,(function(e){t[e]=this[e]}),this),t},flagReset:function(){return this._flagOffset=this._flagColor=this._flagOpacity=!1,this}}),Ct.MakeObservable(Ct.prototype),w.extend(Tt,{Stop:Ct,Properties:["spread","units"],MakeObservable:function(t){w.each(Tt.Properties,Ot,t),Object.defineProperty(t,"stops",{enumerable:!0,get:function(){return this._stops},set:function(t){var e=this._renderer.bindStops,i=this._renderer.unbindStops;this._stops&&this._stops.unbind(k.Types.insert,e).unbind(k.Types.remove,i),this._stops=new et((t||[]).slice(0)),this._stops.bind(k.Types.insert,e).bind(k.Types.remove,i),e(this._stops)}}),Object.defineProperty(t,"renderer",{enumerable:!1,get:function(){return this._renderer},set:function(t){this._renderer=t}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return this._id},set:function(t){this._id=t}})},FlagStops:function(){this._flagStops=!0},BindStops:function(t){var e=t.length;while(e--)t[e].bind(k.Types.change,this._renderer.flagStops),t[e].parent=this;this._renderer.flagStops()},UnbindStops:function(t){var e=t.length;while(e--)t[e].unbind(k.Types.change,this._renderer.flagStops),delete t[e].parent;this._renderer.flagStops()}}),w.extend(Tt.prototype,k,{constructor:Tt,_flagId:!1,_flagStops:!1,_flagSpread:!1,_flagUnits:!1,_id:"",_spread:"",_units:"",clone:function(t){var e=this.stops.map((function(t){return t.clone()})),i=new Tt(e);return w.each(Tt.Properties,(function(t){i[t]=this[t]}),this),t&&t.add(i),i},toObject:function(){var t={stops:this.stops.map((function(t){return t.toObject()}))};return w.each(Tt.Properties,(function(e){t[e]=this[e]}),this),t},_update:function(){return(this._flagSpread||this._flagStops)&&this.trigger(k.Types.change),this},flagReset:function(){return this._flagSpread=this._flagUnits=this._flagStops=!1,this}}),Tt.MakeObservable(Tt.prototype),w.extend(jt,{Stop:Ct,MakeObservable:function(t){Tt.MakeObservable(t)},FlagEndPoints:function(){this._flagEndPoints=!0}}),w.extend(jt.prototype,Tt.prototype,{constructor:jt,_flagEndPoints:!1,clone:function(t){var e=this.stops.map((function(t){return t.clone()})),i=new jt(this.left._x,this.left._y,this.right._x,this.right._y,e);return w.each(Tt.Properties,(function(t){i[t]=this[t]}),this),t&&t.add(i),i},toObject:function(){var t=Tt.prototype.toObject.call(this);return t.left=this.left.toObject(),t.right=this.right.toObject(),t},_update:function(){return(this._flagEndPoints||this._flagSpread||this._flagStops)&&this.trigger(k.Types.change),this},flagReset:function(){return this._flagEndPoints=!1,Tt.prototype.flagReset.call(this),this}}),jt.MakeObservable(jt.prototype),w.extend(Et,{Stop:Ct,Properties:["radius"],MakeObservable:function(t){Tt.MakeObservable(t),w.each(Et.Properties,Ot,t)}}),w.extend(Et.prototype,Tt.prototype,{constructor:Et,_flagRadius:!1,_flagCenter:!1,_flagFocal:!1,clone:function(t){var e=this.stops.map((function(t){return t.clone()})),i=new Et(this.center._x,this.center._y,this._radius,e,this.focal._x,this.focal._y);return w.each(Tt.Properties.concat(Et.Properties),(function(t){i[t]=this[t]}),this),t&&t.add(i),i},toObject:function(){var t=Tt.prototype.toObject.call(this);return w.each(Et.Properties,(function(e){t[e]=this[e]}),this),t.center=this.center.toObject(),t.focal=this.focal.toObject(),t},_update:function(){return(this._flagRadius||this._flatCenter||this._flagFocal||this._flagSpread||this._flagStops)&&this.trigger(k.Types.change),this},flagReset:function(){return this._flagRadius=this._flagCenter=this._flagFocal=!1,Tt.prototype.flagReset.call(this),this}}),Et.MakeObservable(Et.prototype);var Rt={video:/\.(mp4|webm|ogg)$/i,image:/\.(jpe?g|png|gif|tiff|webp)$/i,effect:/texture|gradient/i};function Ft(t,e){if(this.renderer={},this._renderer.type="texture",this._renderer.flagOffset=Ft.FlagOffset.bind(this),this._renderer.flagScale=Ft.FlagScale.bind(this),this.id=P.Identifier+P.uniqueId(),this.classList=[],this.loaded=!1,this.repeat="no-repeat",this.offset=new M,"function"===typeof e){var i=function(){this.unbind(k.Types.load,i),"function"===typeof e&&e()}.bind(this);this.bind(k.Types.load,i)}if("string"===typeof t)this.src=t;else if("object"===typeof t){var r=Object.prototype.toString.call(t);"[object HTMLImageElement]"!==r&&"[object HTMLCanvasElement]"!==r&&"[object HTMLVideoElement]"!==r&&"[object Image]"!==r||(this.image=t)}this._update()}a.document&&(St=document.createElement("a")),w.extend(Ft,{Properties:["id","src","loaded","repeat"],RegularExpressions:Rt,ImageRegistry:new Mt,getAbsoluteURL:function(t){return St?(St.href=t,St.href):t},loadHeadlessBuffer:function(t,e){t.image.onload=e,t.image.src=t.src},getTag:function(t){return t&&t.nodeName&&t.nodeName.toLowerCase()||"img"},getImage:function(t){var e,i=Ft.getAbsoluteURL(t);return Ft.ImageRegistry.contains(i)?Ft.ImageRegistry.get(i):(xt.Image?(e=new xt.Image,vt.Utils.shim(e,"img")):a.document?e=Rt.video.test(i)?document.createElement("video"):document.createElement("img"):console.warn("Two.js: no prototypical image defined for Two.Texture"),e.crossOrigin="anonymous",e)},Register:{canvas:function(t,e){t._src="#"+t.id,Ft.ImageRegistry.add(t.src,t.image),"function"===typeof e&&e()},img:function(t,e){var i=t.image,r=function(t){!xt.isHeadless&&i.removeEventListener&&"function"===typeof i.removeEventListener&&(i.removeEventListener("load",r,!1),i.removeEventListener("error",n,!1)),"function"===typeof e&&e()},n=function(e){throw xt.isHeadless||"function"!==typeof i.removeEventListener||(i.removeEventListener("load",r,!1),i.removeEventListener("error",n,!1)),new At("unable to load "+t.src)};"number"===typeof i.width&&i.width>0&&"number"===typeof i.height&&i.height>0?r():xt.isHeadless||"function"!==typeof i.addEventListener||(i.addEventListener("load",r,!1),i.addEventListener("error",n,!1)),t._src=Ft.getAbsoluteURL(t._src),!xt.isHeadless&&i&&i.getAttribute("two-src")||(xt.isHeadless||i.setAttribute("two-src",t.src),Ft.ImageRegistry.add(t.src,i),xt.isHeadless?Ft.loadHeadlessBuffer(t,r):t.image.src=t.src)},video:function(t,e){if(xt.isHeadless)throw new At("video textures are not implemented in headless environments.");var i=function(n){t.image.removeEventListener("canplaythrough",i,!1),t.image.removeEventListener("error",r,!1),t.image.width=t.image.videoWidth,t.image.height=t.image.videoHeight,"function"===typeof e&&e()},r=function(e){throw t.image.removeEventListener("canplaythrough",i,!1),t.image.removeEventListener("error",r,!1),new At("unable to load "+t.src)};t._src=Ft.getAbsoluteURL(t._src),t.image.getAttribute("two-src")||(t.image.setAttribute("two-src",t.src),Ft.ImageRegistry.add(t.src,t.image)),t.image.readyState>=4?i():(t.image.addEventListener("canplaythrough",i,!1),t.image.addEventListener("error",r,!1),t.image.src=t.src,t.image.load())}},load:function(t,e){var i=t.image,r=Ft.getTag(i);t._flagImage&&(/canvas/i.test(r)?Ft.Register.canvas(t,e):(t._src=!xt.isHeadless&&i.getAttribute("two-src")||i.src,Ft.Register[r](t,e))),t._flagSrc&&(i||(i=Ft.getImage(t.src),t.image=i),r=Ft.getTag(i),Ft.Register[r](t,e))},FlagOffset:function(){this._flagOffset=!0},FlagScale:function(){this._flagScale=!0},MakeObservable:function(t){w.each(Ft.Properties,Ot,t),Object.defineProperty(t,"image",{enumerable:!0,get:function(){return this._image},set:function(t){var e,i=Ft.getTag(t);switch(i){case"canvas":e="#"+t.id;break;default:e=t.src}Ft.ImageRegistry.contains(e)?this._image=Ft.ImageRegistry.get(t.src):this._image=t,this._flagImage=!0}}),Object.defineProperty(t,"offset",{enumerable:!0,get:function(){return this._offset},set:function(t){this._offset&&this._offset.unbind(k.Types.change,this._renderer.flagOffset),this._offset=t,this._offset.bind(k.Types.change,this._renderer.flagOffset),this._flagOffset=!0}}),Object.defineProperty(t,"scale",{enumerable:!0,get:function(){return this._scale},set:function(t){this._scale instanceof M&&this._scale.unbind(k.Types.change,this._renderer.flagScale),this._scale=t,this._scale instanceof M&&this._scale.bind(k.Types.change,this._renderer.flagScale),this._flagScale=!0}}),Object.defineProperty(t,"renderer",{enumerable:!1,get:function(){return this._renderer},set:function(t){this._renderer=t}})}}),w.extend(Ft.prototype,k,tt.prototype,{constructor:Ft,_flagId:!1,_flagSrc:!1,_flagImage:!1,_flagVideo:!1,_flagLoaded:!1,_flagRepeat:!1,_flagOffset:!1,_flagScale:!1,_id:"",_src:"",_image:null,_loaded:!1,_repeat:"no-repeat",_scale:1,_offset:null,clone:function(){var t=new Ft(this.src);return t.repeat=this.repeat,t.offset.copy(this.origin),t.scale=this.scale,t},toObject:function(){return{src:this.src,repeat:this.repeat,origin:this.origin.toObject(),scale:"number"===typeof this.scale?this.scale:this.scale.toObject()}},_update:function(){return(this._flagSrc||this._flagImage)&&(this.trigger(k.Types.change),(this._flagSrc||this._flagImage)&&(this.loaded=!1,Ft.load(this,function(){this.loaded=!0,this.trigger(k.Types.change).trigger(k.Types.load)}.bind(this)))),this._image&&this._image.readyState>=4&&(this._flagVideo=!0),this},flagReset:function(){return this._flagSrc=this._flagImage=this._flagLoaded=this._flagVideo=this._flagScale=this._flagOffset=!1,this}}),Ft.MakeObservable(Ft.prototype);var Pt=Math.min,Lt=Math.max,Nt=Math.ceil,It=Math.floor;function Bt(t,e,i,r){tt.call(this),this._renderer.type="path",this._renderer.flagVertices=Bt.FlagVertices.bind(this),this._renderer.bindVertices=Bt.BindVertices.bind(this),this._renderer.unbindVertices=Bt.UnbindVertices.bind(this),this._renderer.flagFill=Bt.FlagFill.bind(this),this._renderer.flagStroke=Bt.FlagStroke.bind(this),this._renderer.vertices=[],this._renderer.collection=[],this._closed=!!e,this._curved=!!i,this.beginning=0,this.ending=1,this.fill="#fff",this.stroke="#000",this.linewidth=1,this.opacity=1,this.className="",this.visible=!0,this.cap="butt",this.join="miter",this.miter=4,this.vertices=t,this.automatic=!r,this.dashes=[],this.dashes.offset=0}function Vt(t,e){if(0===e||1===e)return!0;for(var i=t._length,r=i*e,n=0,s=0;s<t._lengths.length;s++){var a=t._lengths[s];if(n>=r)return r-n>=0;n+=a}return!1}function zt(t,e){var i=t._length;if(e<=0)return 0;if(e>=i)return t._lengths.length-1;for(var r=0,n=0;r<t._lengths.length;r++){if(n+t._lengths[r]>=e)return e-=n,Math.max(r-1,0)+e/t._lengths[r];n+=t._lengths[r]}return-1}function Ut(t,e,i){var r,n,s,a,o,l,h,c,u=e.controls&&e.controls.right,f=t.controls&&t.controls.left;return r=e.x,o=e.y,n=(u||e).x,l=(u||e).y,s=(f||t).x,h=(f||t).y,a=t.x,c=t.y,u&&e._relative&&(n+=e.x,l+=e.y),f&&t._relative&&(s+=t.x,h+=t.y),B(r,o,n,l,s,h,a,c,i)}function Dt(t,e,i){var r,n,s,a,o,l,h,c,u=e.controls&&e.controls.right,f=t.controls&&t.controls.left;return r=e.x,o=e.y,n=(u||e).x,l=(u||e).y,s=(f||t).x,h=(f||t).y,a=t.x,c=t.y,u&&e._relative&&(n+=e.x,l+=e.y),f&&t._relative&&(s+=t.x,h+=t.y),I(r,o,n,l,s,h,a,c,i)}function $t(t,e,i,r){Bt.call(this,[new E,new E,new E,new E],!0,!1,!0),this.width=i,this.height=r,this.origin=new M,this.translation.set(t,e),this._update()}function Yt(t,e,i,r,n,s){Bt.call(this,[new E,new E,new E,new E],!0),this.noStroke(),this.noFill(),t instanceof Ft?this.texture=t:"string"===typeof t&&(this.texture=new Ft(t)),this.origin=new M,this._update(),this.translation.set(e||0,i||0),"number"===typeof r&&(this.columns=r),"number"===typeof n&&(this.rows=n),"number"===typeof s&&(this.frameRate=s),this.index=0}w.extend(Bt,{Properties:["fill","stroke","linewidth","opacity","visible","cap","join","miter","closed","curved","automatic","beginning","ending"],Utils:{getCurveLength:Ut},FlagVertices:function(){this._flagVertices=!0,this._flagLength=!0,this.parent&&(this.parent._flagLength=!0)},BindVertices:function(t){var e=t.length;while(e--)t[e].bind(k.Types.change,this._renderer.flagVertices);this._renderer.flagVertices()},UnbindVertices:function(t){var e=t.length;while(e--)t[e].unbind(k.Types.change,this._renderer.flagVertices);this._renderer.flagVertices()},FlagFill:function(){this._flagFill=!0},FlagStroke:function(){this._flagStroke=!0},MakeObservable:function(t){tt.MakeObservable(t),w.each(Bt.Properties.slice(2,8),Ot,t),Object.defineProperty(t,"fill",{enumerable:!0,get:function(){return this._fill},set:function(t){(this._fill instanceof Tt||this._fill instanceof jt||this._fill instanceof Et||this._fill instanceof Ft)&&this._fill.unbind(k.Types.change,this._renderer.flagFill),this._fill=t,this._flagFill=!0,(this._fill instanceof Tt||this._fill instanceof jt||this._fill instanceof Et||this._fill instanceof Ft)&&this._fill.bind(k.Types.change,this._renderer.flagFill)}}),Object.defineProperty(t,"stroke",{enumerable:!0,get:function(){return this._stroke},set:function(t){(this._stroke instanceof Tt||this._stroke instanceof jt||this._stroke instanceof Et||this._stroke instanceof Ft)&&this._stroke.unbind(k.Types.change,this._renderer.flagStroke),this._stroke=t,this._flagStroke=!0,(this._stroke instanceof Tt||this._stroke instanceof jt||this._stroke instanceof Et||this._stroke instanceof Ft)&&this._stroke.bind(k.Types.change,this._renderer.flagStroke)}}),Object.defineProperty(t,"length",{get:function(){return this._flagLength&&this._updateLength(),this._length}}),Object.defineProperty(t,"closed",{enumerable:!0,get:function(){return this._closed},set:function(t){this._closed=!!t,this._flagVertices=!0}}),Object.defineProperty(t,"curved",{enumerable:!0,get:function(){return this._curved},set:function(t){this._curved=!!t,this._flagVertices=!0}}),Object.defineProperty(t,"automatic",{enumerable:!0,get:function(){return this._automatic},set:function(t){if(t!==this._automatic){this._automatic=!!t;var e=this._automatic?"ignore":"listen";w.each(this.vertices,(function(t){t[e]()}))}}}),Object.defineProperty(t,"beginning",{enumerable:!0,get:function(){return this._beginning},set:function(t){this._beginning=t,this._flagVertices=!0}}),Object.defineProperty(t,"ending",{enumerable:!0,get:function(){return this._ending},set:function(t){this._ending=t,this._flagVertices=!0}}),Object.defineProperty(t,"vertices",{enumerable:!0,get:function(){return this._collection},set:function(t){var e=this._renderer.bindVertices,i=this._renderer.unbindVertices;this._collection&&this._collection.unbind(k.Types.insert,e).unbind(k.Types.remove,i),this._collection=t instanceof et?t:new et(t||[]),this._collection.bind(k.Types.insert,e).bind(k.Types.remove,i),e(this._collection)}}),Object.defineProperty(t,"mask",{enumerable:!0,get:function(){return this._mask},set:function(t){this._mask&&(this._mask.clip=!1),this._mask=t,this._flagMask=!0,t&&!t.clip&&(t.clip=!0)}}),Object.defineProperty(t,"clip",{enumerable:!0,get:function(){return this._clip},set:function(t){this._clip=t,this._flagClip=!0}}),Object.defineProperty(t,"dashes",{enumerable:!0,get:function(){return this._dashes},set:function(t){"number"!==typeof t.offset&&(t.offset=this.dashes&&this._dashes.offset||0),this._dashes=t}})}}),w.extend(Bt.prototype,tt.prototype,{constructor:Bt,_flagVertices:!0,_flagLength:!0,_flagFill:!0,_flagStroke:!0,_flagLinewidth:!0,_flagOpacity:!0,_flagVisible:!0,_flagCap:!0,_flagJoin:!0,_flagMiter:!0,_flagMask:!1,_flagClip:!1,_length:0,_fill:"#fff",_stroke:"#000",_linewidth:1,_opacity:1,_visible:!0,_cap:"round",_join:"round",_miter:4,_closed:!0,_curved:!1,_automatic:!0,_beginning:0,_ending:1,_mask:null,_clip:!1,_dashes:null,clone:function(t){for(var e=new Bt,i=0;i<this.vertices.length;i++)e.vertices.push(this.vertices[i].clone());for(var r=0;r<Bt.Properties.length;r++){var n=Bt.Properties[r];e[n]=this[n]}return e.className=this.className,e.translation.copy(this.translation),e.rotation=this.rotation,e.scale=this.scale,e.skewX=this.skewX,e.skewY=this.skewY,this.matrix.manual&&e.matrix.copy(this.matrix),t&&t.add(e),e._update()},toObject:function(){var t={vertices:this.vertices.map((function(t){return t.toObject()}))};return w.each(Bt.Properties,(function(e){"undefined"!==typeof this[e]&&(this[e].toObject?t[e]=this[e].toObject():t[e]=this[e])}),this),t.className=this.className,t.translation=this.translation.toObject(),t.rotation=this.rotation,t.scale=this.scale instanceof M?this.scale.toObject():this.scale,t.skewX=this.skewX,t.skewY=this.skewY,this.matrix.manual&&(t.matrix=this.matrix.toObject()),t},noFill:function(){return this.fill="transparent",this},noStroke:function(){return this.stroke=void 0,this},corner:function(){for(var t=this.getBoundingClientRect(!0),e=t.width/2,i=t.height/2,r=t.left+t.width/2,n=t.top+t.height/2,s=0;s<this.vertices.length;s++){var a=this.vertices[s];a.x-=r,a.y-=n,a.x+=e,a.y+=i}return this.mask&&(this.mask.translation.x-=r,this.mask.translation.x+=e,this.mask.translation.y-=n,this.mask.translation.y+=i),this},center:function(){for(var t=this.getBoundingClientRect(!0),e=t.left+t.width/2-this.translation.x,i=t.top+t.height/2-this.translation.y,r=0;r<this.vertices.length;r++){var n=this.vertices[r];n.x-=e,n.y-=i}return this.mask&&(this.mask.translation.x-=e,this.mask.translation.y-=i),this},remove:function(){return this.parent?(this.parent.remove(this),this):this},getBoundingClientRect:function(t){var e,i,r,n,s,a,o,l,h,c,f,d,p,_,g=1/0,m=-1/0,v=1/0,y=-1/0;if(this._update(!0),e=t?this._matrix:u(this),i=(this.linewidth||0)/2,r=this._renderer.vertices.length,r<=0)return{width:0,height:0};for(n=0;n<r;n++)if(a=this._renderer.vertices[n],s=this._renderer.vertices[(n+r-1)%r],s.controls&&a.controls){o=s.controls.right.x,l=s.controls.right.y,s.relative&&(o+=s.x,l+=s.y),h=a.controls.left.x,c=a.controls.left.y,a.relative&&(h+=a.x,c+=a.y);var b=V(s.x,s.y,o,l,h,c,a.x,a.y);v=Pt(b.min.y-i,v),g=Pt(b.min.x-i,g),m=Lt(b.max.x+i,m),y=Lt(b.max.y+i,y)}else n<=1&&(v=Pt(s.y-i,v),g=Pt(s.x-i,g),m=Lt(s.x+i,m),y=Lt(s.y+i,y)),v=Pt(a.y-i,v),g=Pt(a.x-i,g),m=Lt(a.x+i,m),y=Lt(a.y+i,y);return f=e.multiply(g,v,1),d=e.multiply(g,y,1),p=e.multiply(m,v,1),_=e.multiply(m,y,1),v=Pt(f.y,d.y,p.y,_.y),g=Pt(f.x,d.x,p.x,_.x),m=Lt(f.x,d.x,p.x,_.x),y=Lt(f.y,d.y,p.y,_.y),{top:v,left:g,right:m,bottom:y,width:m-g,height:y-v}},getPointAt:function(t,e){for(var i,r,s,a,o,l,h,c,u,d,p,g,m,v,y,b=this.length*Math.min(Math.max(t,0),1),x=this.vertices.length,k=x-1,A=null,S=null,O=0,M=this._lengths.length,C=0;O<M;O++){if(C+this._lengths[O]>=b){this._closed?(i=_(O,x),r=_(O-1,x),0===O&&(i=r,r=O)):(i=O,r=Math.min(Math.max(O-1,0),k)),A=this.vertices[i],S=this.vertices[r],b-=C,t=0!==this._lengths[O]?b/this._lengths[O]:0;break}C+=this._lengths[O]}if(null===A||null===S)return null;if(!A)return S;if(!S)return A;y=S.controls&&S.controls.right,v=A.controls&&A.controls.left,o=S.x,d=S.y,l=(y||S).x,p=(y||S).y,h=(v||A).x,g=(v||A).y,c=A.x,m=A.y,y&&S.relative&&(l+=S.x,p+=S.y),v&&A.relative&&(h+=A.x,g+=A.y),a=N(t,o,l,h,c),u=N(t,d,p,g,m);var T=f(o,l,t),j=f(d,p,t),R=f(l,h,t),F=f(p,g,t),P=f(h,c,t),L=f(g,m,t),I=f(T,R,t),B=f(j,F,t),V=f(R,P,t),z=f(F,L,t);return w.isObject(e)?(e.x=a,e.y=u,w.isObject(e.controls)||E.AppendCurveProperties(e),e.controls.left.x=I,e.controls.left.y=B,e.controls.right.x=V,e.controls.right.y=z,("boolean"!==typeof e.relative||e.relative)&&(e.controls.left.x-=a,e.controls.left.y-=u,e.controls.right.x-=a,e.controls.right.y-=u),e.t=t,e):(s=new E(a,u,I-a,B-u,V-a,z-u,this._curved?n.curve:n.line),s.t=t,s)},plot:function(){if(this.curved)return U(this._collection,this.closed),this;for(var t=0;t<this._collection.length;t++)this._collection[t].command=0===t?n.move:n.line;return this},subdivide:function(t){this._update();var e=this.vertices.length-1,i=this.vertices[e],r=this._closed||this.vertices[e]._command===n.close,s=[];return w.each(this.vertices,(function(a,o){if(o<=0&&!r)i=a;else{if(a.command===n.move)return s.push(new E(i.x,i.y)),o>0&&(s[s.length-1].command=n.line),void(i=a);var l=Dt(a,i,t);s=s.concat(l),w.each(l,(function(t,e){e<=0&&i.command===n.move?t.command=n.move:t.command=n.line})),o>=e&&(this._closed&&this._automatic?(i=a,l=Dt(a,i,t),s=s.concat(l),w.each(l,(function(t,e){e<=0&&i.command===n.move?t.command=n.move:t.command=n.line}))):r&&s.push(new E(a.x,a.y)),s[s.length-1].command=r?n.close:n.line),i=a}}),this),this._automatic=!1,this._curved=!1,this.vertices=s,this},_updateLength:function(t,e){e||this._update();var i=this.vertices.length,r=i-1,s=this.vertices[r],a=!1,o=0;return"undefined"===typeof this._lengths&&(this._lengths=[]),w.each(this.vertices,(function(e,l){if(l<=0&&!a||e.command===n.move)return s=e,void(this._lengths[l]=0);this._lengths[l]=Ut(e,s,t),o+=this._lengths[l],l>=r&&a&&(s=this.vertices[(l+1)%i],this._lengths[l+1]=Ut(e,s,t),o+=this._lengths[l+1]),s=e}),this),this._length=o,this._flagLength=!1,this},_update:function(){if(this._flagVertices){this._automatic&&this.plot(),this._flagLength&&this._updateLength(void 0,!0);var t,e,i,r,s,a=this._collection.length,o=this._closed,l=Math.min(this._beginning,this._ending),h=Math.max(this._beginning,this._ending),c=zt(this,l*this._length),u=zt(this,h*this._length),f=Nt(c),d=It(u);this._renderer.vertices.length=0;for(var p=0;p<a;p++)this._renderer.collection.length<=p&&this._renderer.collection.push(new E),p>d&&!e?(s=this._renderer.collection[p],s.copy(this._collection[p]),this.getPointAt(h,s),s.command=this._renderer.collection[p].command,this._renderer.vertices.push(s),e=s,i=this._collection[p-1],i&&i.controls&&(s.controls.right.clear(),this._renderer.collection[p-1].controls.right.clear().lerp(i.controls.right,s.t))):p>=f&&p<=d&&(s=this._renderer.collection[p].copy(this._collection[p]),this._renderer.vertices.push(s),p===d&&Vt(this,h)?(e=s,!o&&e.controls&&e.controls.right.clear()):p===f&&Vt(this,l)&&(t=s,t.command=n.move,!o&&t.controls&&t.controls.left.clear()));f>0&&!t&&(p=f-1,s=this._renderer.collection[p],s.copy(this._collection[p]),this.getPointAt(l,s),s.command=n.move,this._renderer.vertices.unshift(s),r=this._collection[p+1],r&&r.controls&&(s.controls.left.clear(),this._renderer.collection[p+1].controls.left.copy(r.controls.left).lerp(M.zero,s.t)))}return tt.prototype._update.apply(this,arguments),this},flagReset:function(){return this._flagVertices=this._flagLength=this._flagFill=this._flagStroke=this._flagLinewidth=this._flagOpacity=this._flagVisible=this._flagCap=this._flagJoin=this._flagMiter=this._flagClip=!1,tt.prototype.flagReset.call(this),this}}),Bt.MakeObservable(Bt.prototype),w.extend($t,{Properties:["width","height"],MakeObservable:function(t){Bt.MakeObservable(t),w.each($t.Properties,Ot,t),Object.defineProperty(t,"origin",{enumerable:!0,get:function(){return this._origin},set:function(t){this._origin&&this._origin.unbind(k.Types.change,this._renderer.flagVertices),this._origin=t,this._origin.bind(k.Types.change,this._renderer.flagVertices),this._renderer.flagVertices()}})}}),w.extend($t.prototype,Bt.prototype,{constructor:$t,_flagWidth:0,_flagHeight:0,_width:0,_height:0,_origin:null,_update:function(){if(this._flagVertices||this._flagWidth||this._flagHeight){var t=this._width/2,e=this._height/2;this._closed||4!==this.vertices.length||this.vertices.push(new E),this.vertices[0].set(-t,-e).sub(this._origin).command=n.move,this.vertices[1].set(t,-e).sub(this._origin).command=n.line,this.vertices[2].set(t,e).sub(this._origin).command=n.line,this.vertices[3].set(-t,e).sub(this._origin).command=n.line,this.vertices[4]&&(this.vertices[4].set(-t,-e).sub(this._origin).command=n.line)}return Bt.prototype._update.call(this),this},flagReset:function(){return this._flagWidth=this._flagHeight=!1,Bt.prototype.flagReset.call(this),this},clone:function(t){var e=new $t(0,0,this.width,this.height);return e.translation.copy(this.translation),e.rotation=this.rotation,e.scale=this.scale,e.skewX=this.skewX,e.skewY=this.skewY,this.matrix.manual&&e.matrix.copy(this.matrix),w.each(Bt.Properties,(function(t){e[t]=this[t]}),this),t&&t.add(e),e},toObject:function(){var t=Bt.prototype.toObject.call(this);return t.width=this.width,t.height=this.height,t.origin=this.origin.toObject(),t}}),$t.MakeObservable($t.prototype),w.extend(Yt,{Properties:["texture","columns","rows","frameRate","index"],MakeObservable:function(t){$t.MakeObservable(t),w.each(Yt.Properties,Ot,t)}}),w.extend(Yt.prototype,$t.prototype,{constructor:Yt,_flagTexture:!1,_flagColumns:!1,_flagRows:!1,_flagFrameRate:!1,flagIndex:!1,_amount:1,_duration:0,_startTime:0,_playing:!1,_firstFrame:0,_lastFrame:0,_loop:!0,_texture:null,_columns:1,_rows:1,_frameRate:0,_index:0,_origin:null,play:function(t,e,i){return this._playing=!0,this._firstFrame=0,this._lastFrame=this.amount-1,this._startTime=w.performance.now(),"number"===typeof t&&(this._firstFrame=t),"number"===typeof e&&(this._lastFrame=e),"function"===typeof i?this._onLastFrame=i:delete this._onLastFrame,this._index!==this._firstFrame&&(this._startTime-=1e3*Math.abs(this._index-this._firstFrame)/this._frameRate),this},pause:function(){return this._playing=!1,this},stop:function(){return this._playing=!1,this._index=0,this},clone:function(t){var e=new Yt(this.texture,this.translation.x,this.translation.y,this.columns,this.rows,this.frameRate);return this.playing&&(e.play(this._firstFrame,this._lastFrame),e._loop=this._loop),t&&t.add(e),e},toObject:function(){var t=$t.prototype.toObject.call(this);return t.texture=this.texture.toObject(),t.columns=this.columns,t.rows=this.rows,t.frameRate=this.frameRate,t.index=this.index,t._firstFrame=this._firstFrame,t._lastFrame=this._lastFrame,t._loop=this._loop,t},_update:function(){var t,e,i,r,n,s,a,o,l,h=this._texture,c=this._columns,u=this._rows;if((this._flagColumns||this._flagRows)&&(this._amount=this._columns*this._rows),this._flagFrameRate&&(this._duration=1e3*this._amount/this._frameRate),this._flagTexture&&(this.fill=this._texture),this._texture.loaded){a=h.image.width,o=h.image.height,t=a/c,e=o/u,r=this._amount,this.width!==t&&(this.width=t),this.height!==e&&(this.height=e),this._playing&&this._frameRate>0&&(w.isNaN(this._lastFrame)&&(this._lastFrame=r-1),i=w.performance.now()-this._startTime,l=this._lastFrame+1,n=1e3*(l-this._firstFrame)/this._frameRate,this._loop?i%=n:i=Math.min(i,n),s=f(this._firstFrame,l,i/n),s=Math.floor(s),s!==this._index&&(this._index=s,s>=this._lastFrame-1&&this._onLastFrame&&this._onLastFrame()));var d=this._index%c,p=Math.floor(this._index/c),_=-t*d+(a-t)/2,g=-e*p+(o-e)/2;_!==h.offset.x&&(h.offset.x=_),g!==h.offset.y&&(h.offset.y=g)}return $t.prototype._update.call(this),this},flagReset:function(){return this._flagTexture=this._flagColumns=this._flagRows=this._flagFrameRate=!1,$t.prototype.flagReset.call(this),this}}),Yt.MakeObservable(Yt.prototype);var Xt=Math.cos,Gt=Math.sin;function Ht(t,e,i,r){for(var n=r?Math.max(r,2):4,s=[],a=0;a<n;a++)s.push(new E(0,0,0,0,0,0));Bt.call(this,s,!0,!0,!0),"number"===typeof i&&(this.radius=i),this._update(),"number"===typeof t&&(this.translation.x=t),"number"===typeof e&&(this.translation.y=e)}w.extend(Ht,{Properties:["radius"],MakeObservable:function(t){Bt.MakeObservable(t),w.each(Ht.Properties,Ot,t)}}),w.extend(Ht.prototype,Bt.prototype,{constructor:Ht,_flagRadius:!1,_radius:0,_update:function(){if(this._flagVertices||this._flagRadius){var t=this.vertices.length;!this._closed&&t>2&&(t-=1);for(var e=4/3*Math.tan(Math.PI/(2*t)),i=this._radius,r=i*e,s=0;s<this.vertices.length;s++){var a=s/t,h=a*o,c=i*Xt(h),u=i*Gt(h),f=r*Xt(h-l),d=r*Gt(h-l),p=r*Xt(h+l),_=r*Gt(h+l),g=this.vertices[s];g.command=0===s?n.move:n.curve,g.set(c,u),g.controls.left.set(f,d),g.controls.right.set(p,_)}}return Bt.prototype._update.call(this),this},flagReset:function(){return this._flagRadius=!1,Bt.prototype.flagReset.call(this),this},clone:function(t){var e=new Ht(0,0,this.radius,this.vertices.length);return e.translation.copy(this.translation),e.rotation=this.rotation,e.scale=this.scale,e.skewX=this.skewX,e.skewY=this.skewY,this.matrix.manual&&e.matrix.copy(this.matrix),w.each(Bt.Properties,(function(t){e[t]=this[t]}),this),t&&t.add(e),e},toObject:function(){var t=Bt.prototype.toObject.call(this);return w.each(Ht.Properties,(function(e){t[e]=this[e]}),this),t}}),Ht.MakeObservable(Ht.prototype);var Wt=Math.cos,qt=Math.sin;function Kt(t,e,i,r,n){"number"!==typeof r&&"number"===typeof i&&(r=i);for(var s=n?Math.max(n,2):4,a=[],o=0;o<s;o++)a.push(new E);Bt.call(this,a,!0,!0,!0),"number"===typeof i&&(this.width=2*i),"number"===typeof r&&(this.height=2*r),this._update(),this.translation.set(t,e)}function Jt(t,e,i,r){Bt.call(this,[new E(t,e),new E(i,r)]),this.vertices[0].command=n.move,this.vertices[1].command=n.line,this.automatic=!1}function Qt(t,e,i,r,s){"undefined"===typeof s&&"number"===typeof i&&"number"===typeof r&&(s=Math.floor(Math.min(i,r)/12));for(var a=10,o=[],l=0;l<a;l++)o.push(new E(0,0,0,0,0,0,0===l?n.move:n.curve));Bt.call(this,o),this.closed=!0,this.automatic=!1,this._renderer.flagRadius=Qt.FlagRadius.bind(this),"number"===typeof i&&(this.width=i),"number"===typeof r&&(this.height=r),"number"===typeof s&&(this.radius=s),this._update(),this.translation.set(t,e)}w.extend(Kt,{Properties:["width","height"],MakeObservable:function(t){Bt.MakeObservable(t),w.each(Kt.Properties,Ot,t)}}),w.extend(Kt.prototype,Bt.prototype,{_flagWidth:!1,_flagHeight:!1,_width:0,_height:0,constructor:Kt,_update:function(){if(this._flagVertices||this._flagWidth||this._flagHeight){var t=this.vertices.length;!this._closed&&t>2&&(t-=1);for(var e=4/3*Math.tan(Math.PI/(2*this.vertices.length)),i=this._width/2,r=this._height/2,s=0;s<this.vertices.length;s++){var a=s/t,h=a*o,c=i*Wt(h),u=r*qt(h),f=i*e*Wt(h-l),d=r*e*qt(h-l),p=i*e*Wt(h+l),_=r*e*qt(h+l),g=this.vertices[s];g.command=0===s?n.move:n.curve,g.set(c,u),g.controls.left.set(f,d),g.controls.right.set(p,_)}}return Bt.prototype._update.call(this),this},flagReset:function(){return this._flagWidth=this._flagHeight=!1,Bt.prototype.flagReset.call(this),this},clone:function(t){var e=this.width/2,i=this.height/2,r=this.vertices.length,n=new Kt(0,0,e,i,r);return n.translation.copy(this.translation),n.rotation=this.rotation,n.scale=this.scale,n.skewX=this.skewX,n.skewY=this.skewY,this.matrix.manual&&n.matrix.copy(this.matrix),w.each(Bt.Properties,(function(t){n[t]=this[t]}),this),t&&t.add(n),n},toObject:function(){var t=Bt.prototype.toObject.call(this);return w.each(Kt.Properties,(function(e){t[e]=this[e]}),this),t}}),Kt.MakeObservable(Kt.prototype),w.extend(Jt.prototype,Bt.prototype,{constructor:Jt}),Bt.MakeObservable(Jt.prototype),w.extend(Qt,{Properties:["width","height"],FlagRadius:function(){this._flagRadius=!0},MakeObservable:function(t){Bt.MakeObservable(t),w.each(Qt.Properties,Ot,t),Object.defineProperty(t,"radius",{enumerable:!0,get:function(){return this._radius},set:function(t){this._radius instanceof M&&this._radius.unbind(k.Types.change,this._renderer.flagRadius),this._radius=t,this._radius instanceof M&&this._radius.bind(k.Types.change,this._renderer.flagRadius),this._flagRadius=!0}})}}),w.extend(Qt.prototype,Bt.prototype,{constructor:Qt,_flagWidth:!1,_flagHeight:!1,_flagRadius:!1,_width:0,_height:0,_radius:12,_update:function(){if(this._flagVertices||this._flagWidth||this._flagHeight||this._flagRadius){var t,e,i,r=this._width,n=this._height;this._radius instanceof M?(t=this._radius.x,e=this._radius.y):(t=this._radius,e=this._radius);var s=r/2,a=n/2;i=this.vertices[0],i.x=-(s-t),i.y=-a,i=this.vertices[1],i.x=s-t,i.y=-a,i.controls.left.clear(),i.controls.right.x=t,i.controls.right.y=0,i=this.vertices[2],i.x=s,i.y=-(a-e),i.controls.right.clear(),i.controls.left.clear(),i=this.vertices[3],i.x=s,i.y=a-e,i.controls.left.clear(),i.controls.right.x=0,i.controls.right.y=e,i=this.vertices[4],i.x=s-t,i.y=a,i.controls.right.clear(),i.controls.left.clear(),i=this.vertices[5],i.x=-(s-t),i.y=a,i.controls.left.clear(),i.controls.right.x=-t,i.controls.right.y=0,i=this.vertices[6],i.x=-s,i.y=a-e,i.controls.left.clear(),i.controls.right.clear(),i=this.vertices[7],i.x=-s,i.y=-(a-e),i.controls.left.clear(),i.controls.right.x=0,i.controls.right.y=-e,i=this.vertices[8],i.x=-(s-t),i.y=-a,i.controls.left.clear(),i.controls.right.clear(),i=this.vertices[9],i.copy(this.vertices[8])}return Bt.prototype._update.call(this),this},flagReset:function(){return this._flagWidth=this._flagHeight=this._flagRadius=!1,Bt.prototype.flagReset.call(this),this},clone:function(t){var e=this.width,i=this.height,r=this.radius,n=new Qt(0,0,e,i,r);return n.translation.copy(this.translation),n.rotation=this.rotation,n.scale=this.scale,n.skewX=this.skewX,n.skewY=this.skewY,this.matrix.manual&&n.matrix.copy(this.matrix),w.each(Bt.Properties,(function(t){n[t]=this[t]}),this),t&&t.add(n),n},toObject:function(){var t=Bt.prototype.toObject.call(this);return w.each(Qt.Properties,(function(e){t[e]=this[e]}),this),t.radius="number"===typeof this.radius?this.radius:this.radius.toObject(),t}}),Qt.MakeObservable(Qt.prototype);var Zt=Math.min,te=Math.max;function ee(t,e,i,r){if(tt.call(this),this._renderer.type="text",this._renderer.flagFill=ee.FlagFill.bind(this),this._renderer.flagStroke=ee.FlagStroke.bind(this),this.value=t,"number"===typeof e&&(this.translation.x=e),"number"===typeof i&&(this.translation.y=i),this.dashes=[],this.dashes.offset=0,!w.isObject(r))return this;w.each(ee.Properties,(function(t){t in r&&(this[t]=r[t])}),this)}w.extend(ee,{Ratio:.6,Properties:["value","family","size","leading","alignment","linewidth","style","weight","decoration","baseline","opacity","visible","className","fill","stroke"],FlagFill:function(){this._flagFill=!0},FlagStroke:function(){this._flagStroke=!0},MakeObservable:function(t){tt.MakeObservable(t),w.each(ee.Properties.slice(0,12),Ot,t),Object.defineProperty(t,"fill",{enumerable:!0,get:function(){return this._fill},set:function(t){(this._fill instanceof Tt||this._fill instanceof jt||this._fill instanceof Et||this._fill instanceof Ft)&&this._fill.unbind(k.Types.change,this._renderer.flagFill),this._fill=t,this._flagFill=!0,(this._fill instanceof Tt||this._fill instanceof jt||this._fill instanceof Et||this._fill instanceof Ft)&&this._fill.bind(k.Types.change,this._renderer.flagFill)}}),Object.defineProperty(t,"stroke",{enumerable:!0,get:function(){return this._stroke},set:function(t){(this._stroke instanceof Tt||this._stroke instanceof jt||this._stroke instanceof Et||this._stroke instanceof Ft)&&this._stroke.unbind(k.Types.change,this._renderer.flagStroke),this._stroke=t,this._flagStroke=!0,(this._stroke instanceof Tt||this._stroke instanceof jt||this._stroke instanceof Et||this._stroke instanceof Ft)&&this._stroke.bind(k.Types.change,this._renderer.flagStroke)}}),Object.defineProperty(t,"mask",{enumerable:!0,get:function(){return this._mask},set:function(t){this._mask&&(this._mask.clip=!1),this._mask=t,this._flagMask=!0,t&&!t.clip&&(t.clip=!0)}}),Object.defineProperty(t,"clip",{enumerable:!0,get:function(){return this._clip},set:function(t){this._clip=t,this._flagClip=!0}}),Object.defineProperty(t,"dashes",{enumerable:!0,get:function(){return this._dashes},set:function(t){"number"!==typeof t.offset&&(t.offset=this.dashes&&this._dashes.offset||0),this._dashes=t}})}}),w.extend(ee.prototype,tt.prototype,{constructor:ee,_flagValue:!0,_flagFamily:!0,_flagSize:!0,_flagLeading:!0,_flagAlignment:!0,_flagBaseline:!0,_flagStyle:!0,_flagWeight:!0,_flagDecoration:!0,_flagFill:!0,_flagStroke:!0,_flagLinewidth:!0,_flagOpacity:!0,_flagClassName:!0,_flagVisible:!0,_flagMask:!1,_flagClip:!1,_value:"",_family:"sans-serif",_size:13,_leading:17,_alignment:"center",_baseline:"middle",_style:"normal",_weight:500,_decoration:"none",_fill:"#000",_stroke:"transparent",_linewidth:1,_opacity:1,_className:"",_visible:!0,_mask:null,_clip:!1,_dashes:null,remove:function(){return this.parent?(this.parent.remove(this),this):this},clone:function(t){var e=new ee(this.value);return e.translation.copy(this.translation),e.rotation=this.rotation,e.scale=this.scale,w.each(ee.Properties,(function(t){e[t]=this[t]}),this),this.matrix.manual&&e.matrix.copy(this.matrix),t&&t.add(e),e._update()},toObject:function(){var t={translation:this.translation.toObject(),rotation:this.rotation,scale:this.scale};return this.matrix.manual&&(t.matrix=this.matrix.toObject()),w.each(ee.Properties,(function(e){t[e]=this[e]}),this),t},noFill:function(){return this.fill="transparent",this},noStroke:function(){return this.stroke=void 0,this.linewidth=void 0,this},getBoundingClientRect:function(t){var e,i,r,n,s,a,o,l,h;this._update(!0),e=t?this._matrix:u(this);var c=this.leading,f=this.value.length*this.size*ee.Ratio,d=(this._linewidth||0)/2;switch(this.alignment){case"left":a=-d,o=f+d;break;case"right":a=-(f+d),o=d;break;default:a=-(f/2+d),o=f/2+d}switch(this.baseline){case"top":l=-d,h=c+d;break;case"bottom":l=-(c+d),h=d;break;default:l=-(c/2+d),h=c/2+d}return i=e.multiply(a,l,1),r=e.multiply(a,h,1),n=e.multiply(o,l,1),s=e.multiply(o,h,1),l=Zt(i.y,r.y,n.y,s.y),a=Zt(i.x,r.x,n.x,s.x),o=te(i.x,r.x,n.x,s.x),h=te(i.y,r.y,n.y,s.y),{top:l,left:a,right:o,bottom:h,width:o-a,height:h-l}},flagReset:function(){return this._flagValue=this._flagFamily=this._flagSize=this._flagLeading=this._flagAlignment=this._flagFill=this._flagStroke=this._flagLinewidth=this._flagOpacity=this._flagVisible=this._flagClip=this._flagDecoration=this._flagClassName=this._flagBaseline=this._flagWeight=this._flagStyle=!1,tt.prototype.flagReset.call(this),this}}),ee.MakeObservable(ee.prototype);var ie={path:/[+-]?(?:\d*\.\d+|\d+)(?:[eE][+-]\d+)?/g,cssBackgroundImage:/url\(['"]?#([\w\d-_]*)['"]?\)/i,unitSuffix:/[a-zA-Z%]*/i},re={start:"left",middle:"center",end:"right"},ne=function(t){return re[t]},se=function(t){var e=t.getAttribute("dominant-baseline"),i=t.getAttribute("alignment-baseline");return e||i},ae=function(t){return t.replace(/svg:/gi,"").toLowerCase()},oe=function(t,e){if(e.x+=t.translateX,e.y+=t.translateY,e.x*=t.scaleX,e.y*=t.scaleY,0!==t.rotation){var i=e.length();e.x=i*Math.cos(t.rotation),e.y=i*Math.sin(t.rotation)}},le=function(t,e){var i,r,n,s;e||(e={}),i=t.split(";");for(var a=0;a<i.length;a++)r=i[a].split(":"),n=r[0],s=r[1],"undefined"!==typeof n&&"undefined"!==typeof s&&(e[n]=s.replace(/\s/,""));return e},he=function(t){for(var e={},i=ce(t),r=Math.max(i.length,t.style.length),n=0;n<r;n++){var s=t.style[n],a=i[n];s&&(e[s]=t.style[s]),a&&(e[a]=t.getAttribute(a))}return e},ce=function(t){for(var e=t.getAttributeNames(),i=["id","class","transform","xmlns","viewBox"],r=0;r<i.length;r++){var n=i[r],s=Array.prototype.indexOf.call(e,n);s>=0&&e.splice(s,1)}return e},ue=function(t,e){var i=e.split(/[\s,]/),r=-parseFloat(i[0]),n=-parseFloat(i[1]),s=parseFloat(i[2]),a=parseFloat(i[3]);if(r&&n)for(var o=0;o<t.children.length;o++){var l=t.children[o];"translation"in l?l.translation.add(r,n):"x"in l?l.x=r:"y"in l&&(l.y=n)}var h="number"===typeof t.x,c="number"===typeof t.y,u="number"===typeof t.width,f="number"===typeof t.height;return h&&(t.translation.x+=t.x),c&&(t.translation.y+=t.y),(u||f)&&(t.scale=new M(1,1)),u&&(t.scale.x=t.width/s),f&&(t.scale.y=t.height/a),t.mask=new $t(0,0,s,a),t.mask.origin.set(-s/2,-a/2),t},fe=function(t,e,i){var r,n,s,o,l,c,u,f,d,p,_,g,m,v={},y={},b={};if(a.getComputedStyle){var x=a.getComputedStyle(t);r=x.length;while(r--)s=x[r],o=x[s],"undefined"!==typeof o&&(v[s]=o)}for(r=0;r<t.attributes.length;r++)c=t.attributes[r],/style/i.test(c.nodeName)?le(c.value,b):y[c.nodeName]=c.value;for(s in"undefined"!==typeof v.opacity&&(v["stroke-opacity"]=v.opacity,v["fill-opacity"]=v.opacity,delete v.opacity),i&&w.defaults(v,i),w.extend(v,b,y),v.visible=!("undefined"===typeof v.display&&/none/i.test(v.display))||"undefined"===typeof v.visibility&&/hidden/i.test(v.visibility),v)switch(o=v[s],s){case"gradientTransform":if(/none/i.test(o))break;if(n=t.gradientTransform&&t.gradientTransform.baseVal&&t.gradientTransform.baseVal.length>0?t.gradientTransform.baseVal[0].matrix:t.getCTM?t.getCTM():null,null===n)break;switch(u=h(n),e._renderer.type){case"linear-gradient":oe(u,e.left),oe(u,e.right);break;case"radial-gradient":e.center.x+=u.translateX,e.center.y+=u.translateY,e.focal.x+=u.translateX,e.focal.y+=u.translateY,e.radius*=Math.max(u.scaleX,u.scaleY);break}break;case"transform":if(/none/i.test(o))break;if(n=t.transform&&t.transform.baseVal&&t.transform.baseVal.length>0?t.transform.baseVal[0].matrix:t.getCTM?t.getCTM():null,null===n)break;P.AutoCalculateImportedMatrices?(u=h(n),e.translation.set(u.translateX,u.translateY),e.rotation=Math.PI*(u.rotation/180),e.scale=new M(u.scaleX,u.scaleY),f=parseFloat((v.x+"").replace("px")),d=parseFloat((v.y+"").replace("px")),f&&(e.translation.x=f),d&&(e.translation.y=d)):(n=t.getCTM(),e._matrix.manual=!0,e._matrix.set(n.a,n.b,n.c,n.d,n.e,n.f));break;case"visible":if(e instanceof st){e._visible=o;break}e.visible=o;break;case"stroke-linecap":if(e instanceof st){e._cap=o;break}e.cap=o;break;case"stroke-linejoin":if(e instanceof st){e._join=o;break}e.join=o;break;case"stroke-miterlimit":if(e instanceof st){e._miter=o;break}e.miter=o;break;case"stroke-width":if(e instanceof st){e._linewidth=parseFloat(o);break}e.linewidth=parseFloat(o);break;case"opacity":case"stroke-opacity":case"fill-opacity":if(e instanceof st){e._opacity=parseFloat(o);break}e.opacity=parseFloat(o);break;case"clip-path":if(ie.cssBackgroundImage.test(o)&&(p=o.replace(ie.cssBackgroundImage,"$1"),_e.defs.current&&_e.defs.current.contains(p)&&(g=_e.defs.current.get(p),g&&g.childNodes.length>0)))switch(g=g.childNodes[0],m=ae(g.nodeName),e.mask=_e[m].call(this,g,{}),e._renderer.type){case"text":case"path":e.position.add(e.mask.position),e.mask.position.clear();break}break;case"fill":case"stroke":l=(e instanceof st?"_":"")+s,ie.cssBackgroundImage.test(o)?(p=o.replace(ie.cssBackgroundImage,"$1"),_e.defs.current&&_e.defs.current.contains(p)?(g=_e.defs.current.get(p),g.object||(m=ae(g.nodeName),g.object=_e[m].call(this,g,{})),g=g.object):(_=pe(this),g=_.getById(p)),e[l]=g):e[l]=/none/i.test(o)?"transparent":o;break;case"id":e.id=o;break;case"class":case"className":e.classList=o.split(" ");break;case"x":case"y":var k=e instanceof Tt,A=e instanceof jt,S=e instanceof Et;if(k||A||S)break;if(o.match("[a-z%]$")&&!o.endsWith("px")){var O=new At("only pixel values are supported with the "+s+" attribute.");console.warn(O.name,O.message)}e.translation[s]=parseFloat(o);break;case"font-family":e instanceof ee&&(e.family=o);break;case"font-size":e instanceof ee&&(e.size=o);break;case"font-weight":e instanceof ee&&(e.weight=o);break;case"font-style":e instanceof ee&&(e.style=o);break;case"text-decoration":e instanceof ee&&(e.decoration=o);break;case"line-height":e instanceof ee&&(e.leading=o);break}return v},de=function(t,e){for(var i=0,r=t.childNodes.length;i<r;i++){var n=t.childNodes[i];if(n.id){var s=ae(t.nodeName);"#text"!==s&&e.add(n.id,n)}}},pe=function(t){while(t.parent)t=t.parent;return t.scene},_e={svg:function(t){for(var e=_e.defs.current=new Mt,i=t.getElementsByTagName("defs"),r=0;r<i.length;r++)de(i[r],e);var n=_e.g.call(this,t),s=t.getAttribute("viewBox"),a=t.getAttribute("x"),o=t.getAttribute("y"),l=t.getAttribute("width"),h=t.getAttribute("height");n.defs=e;var c=null!==s,u=null!==a,f=null!==o,d=null!==l,p=null!==h;return u&&(n.x=parseFloat(a.replace(ie.unitSuffix,""))),f&&(n.y=parseFloat(o.replace(ie.unitSuffix,""))),d&&(n.width=parseFloat(l.replace(ie.unitSuffix,""))),p&&(n.height=parseFloat(h.replace(ie.unitSuffix,""))),c&&ue(n,s),delete _e.defs.current,n},defs:function(t){return null},use:function(t,e){var i,r=t.getAttribute("href")||t.getAttribute("xlink:href");if(!r)return i=new At("encountered <use /> with no href."),console.warn(i.name,i.message),null;var n=r.slice(1);if(!_e.defs.current.contains(n))return i=new At("unable to find element for reference "+r+"."),console.warn(i.name,i.message),null;for(var s=_e.defs.current.get(n),a=s.cloneNode(!0),o=["x","y","width","height","href","xlink:href"],l=0;l<t.attributes.length;l++){var h=t.attributes[l],c=o.includes(h.nodeName),u=!a.hasAttribute(h.nodeName);(c||u)&&a.setAttribute(h.nodeName,h.value)}var f=ae(a.nodeName);return _e[f].call(this,a,e)},g:function(t,e){var i,r=new st;fe.call(this,t,r,e),this.add(r),i=he.call(this,t);for(var n=0,s=t.childNodes.length;n<s;n++){var a=t.childNodes[n],o=a.nodeName;if(!o)return;var l=ae(o);if(l in _e){var h=_e[l].call(r,a,i);h&&!h.parent&&r.add(h)}}return r},polygon:function(t,e){var i=t.getAttribute("points"),r=[];i.replace(/(-?[\d.eE-]+)[,|\s](-?[\d.eE-]+)/g,(function(t,e,i){r.push(new E(parseFloat(e),parseFloat(i)))}));var n=new Bt(r,!0).noStroke();return n.fill="black",fe.call(this,t,n,e),n},polyline:function(t,e){var i=_e.polygon.call(this,t,e);return i.closed=!1,i},path:function(t,e){var i=t.getAttribute("d"),r=[],s=!1,a=!1;if(i){var o,l,h=new E,c=i.match(/[a-df-z][^a-df-z]*/gi),u=c.length-1;w.each(c.slice(0),(function(t,e){var i,r,n,s,a,o=t.slice(1).trim().match(ie.path),l=t[0],h=l.toLowerCase(),u=[];switch(0===e&&(c=[]),h){case"h":case"v":o.length>1&&(i=1);break;case"m":case"l":case"t":o.length>2&&(i=2);break;case"s":case"q":o.length>4&&(i=4);break;case"c":o.length>6&&(i=6);break;case"a":o.length>7&&(i=7);break}if(i){for(r=0,n=o.length,a=0;r<n;r+=i){if(s=l,a>0)switch(l){case"m":s="l";break;case"M":s="L";break}u.push(s+o.slice(r,r+i).join(" ")),a++}c=Array.prototype.concat.apply(c,u)}else c.push(t)})),w.each(c,(function(t,e){var i,c,f,d,p,_,g,m,v,y,b,x,k=t[0],A=k.toLowerCase();switch(l=t.slice(1).trim().match(ie.path),a=k===A,A){case"z":if(e>=u)s=!0;else{c=h.x,f=h.y,i=new E(c,f,void 0,void 0,void 0,void 0,n.close);for(var S=r.length-1;S>=0;S--){var O=r[S];if(/m/i.test(O.command)){h=O;break}}}break;case"m":case"l":o=void 0,c=parseFloat(l[0]),f=parseFloat(l[1]),i=new E(c,f,void 0,void 0,void 0,void 0,/m/i.test(A)?n.move:n.line),a&&i.addSelf(h),h=i;break;case"h":case"v":var C=/h/i.test(A)?"x":"y",T=/x/i.test(C)?"y":"x";i=new E(void 0,void 0,void 0,void 0,void 0,void 0,n.line),i[C]=parseFloat(l[0]),i[T]=h[T],a&&(i[C]+=h[C]),h=i;break;case"c":case"s":d=h.x,p=h.y,o||(o=new M),/c/i.test(A)?(_=parseFloat(l[0]),g=parseFloat(l[1]),m=parseFloat(l[2]),v=parseFloat(l[3]),y=parseFloat(l[4]),b=parseFloat(l[5])):(x=$(h,o,a),_=x.x,g=x.y,m=parseFloat(l[0]),v=parseFloat(l[1]),y=parseFloat(l[2]),b=parseFloat(l[3])),a&&(_+=d,g+=p,m+=d,v+=p,y+=d,b+=p),w.isObject(h.controls)||E.AppendCurveProperties(h),h.controls.right.set(_-h.x,g-h.y),i=new E(y,b,m-y,v-b,void 0,void 0,n.curve),h=i,o=i.controls.left;break;case"t":case"q":d=h.x,p=h.y,o||(o=new M),/q/i.test(A)?(_=parseFloat(l[0]),g=parseFloat(l[1]),m=parseFloat(l[0]),v=parseFloat(l[1]),y=parseFloat(l[2]),b=parseFloat(l[3])):(x=$(h,o,a),_=x.x,g=x.y,m=x.x,v=x.y,y=parseFloat(l[0]),b=parseFloat(l[1])),a&&(_+=d,g+=p,m+=d,v+=p,y+=d,b+=p),w.isObject(h.controls)||E.AppendCurveProperties(h),h.controls.right.set(.33*(_-h.x),.33*(g-h.y)),i=new E(y,b,m-y,v-b,void 0,void 0,n.curve),h=i,o=i.controls.left;break;case"a":d=h.x,p=h.y;var j=parseFloat(l[0]),R=parseFloat(l[1]),F=parseFloat(l[2]),P=parseFloat(l[3]),L=parseFloat(l[4]);y=parseFloat(l[5]),b=parseFloat(l[6]),a&&(y+=d,b+=p);var N=new E(y,b);N.command=n.arc,N.rx=j,N.ry=R,N.xAxisRotation=F,N.largeArcFlag=P,N.sweepFlag=L,i=N,h=N,o=void 0;break}i&&(Array.isArray(i)?r=r.concat(i):r.push(i))}))}i=new Bt(r,s,void 0,!0).noStroke(),i.fill="black";var f=i.getBoundingClientRect(!0);return f.centroid={x:f.left+f.width/2,y:f.top+f.height/2},w.each(i.vertices,(function(t){t.subSelf(f.centroid)})),fe.call(this,t,i,e),i.translation.addSelf(f.centroid),i},circle:function(t,e){var i=parseFloat(t.getAttribute("cx")),r=parseFloat(t.getAttribute("cy")),n=parseFloat(t.getAttribute("r")),s=new Ht(0,0,n).noStroke();return s.fill="black",fe.call(this,t,s,e),s.translation.x=i,s.translation.y=r,s},ellipse:function(t,e){var i=parseFloat(t.getAttribute("cx")),r=parseFloat(t.getAttribute("cy")),n=parseFloat(t.getAttribute("rx")),s=parseFloat(t.getAttribute("ry")),a=new Kt(0,0,n,s).noStroke();return a.fill="black",fe.call(this,t,a,e),a.translation.x=i,a.translation.y=r,a},rect:function(t,e){var i=parseFloat(t.getAttribute("rx")),r=parseFloat(t.getAttribute("ry"));if(!w.isNaN(i)||!w.isNaN(r))return _e["rounded-rect"](t);var n=parseFloat(t.getAttribute("width")),s=parseFloat(t.getAttribute("height")),a=n/2,o=s/2,l=new $t(0,0,n,s).noStroke();return l.fill="black",fe.call(this,t,l,e),l.translation.x+=a,l.translation.y+=o,l},"rounded-rect":function(t,e){var i=parseFloat(t.getAttribute("rx"))||0,r=parseFloat(t.getAttribute("ry"))||0,n=parseFloat(t.getAttribute("width")),s=parseFloat(t.getAttribute("height")),a=n/2,o=s/2,l=new M(i,r),h=new Qt(0,0,n,s,l).noStroke();return h.fill="black",fe.call(this,t,h,e),h.translation.x+=a,h.translation.y+=o,h},line:function(t,e){var i=parseFloat(t.getAttribute("x1")),r=parseFloat(t.getAttribute("y1")),n=parseFloat(t.getAttribute("x2")),s=parseFloat(t.getAttribute("y2")),a=new Jt(i,r,n,s).noFill();return fe.call(this,t,a,e),a},lineargradient:function(t,e){var i=t.getAttribute("gradientUnits"),r=t.getAttribute("spreadMethod");i||(i="objectBoundingBox"),r||(r="pad");var n=parseFloat(t.getAttribute("x1")||0),s=parseFloat(t.getAttribute("y1")||0),a=parseFloat(t.getAttribute("x2")||0),o=parseFloat(t.getAttribute("y2")||0),l=(a+n)/2,h=(o+s)/2;/userSpaceOnUse/i.test(i)&&(n-=l,s-=h,a-=l,o-=h);for(var c=[],u=0;u<t.children.length;u++){var f=t.children[u],d=f.getAttribute("offset");/%/gi.test(d)&&(d=parseFloat(d.replace(/%/gi,""))/100),d=parseFloat(d);var p,_=f.getAttribute("stop-color"),g=f.getAttribute("stop-opacity"),m=f.getAttribute("style");null===_&&(p=!!m&&m.match(/stop-color:\s?([#a-fA-F0-9]*)/),_=p&&p.length>1?p[1]:void 0),null===g?(p=!!m&&m.match(/stop-opacity:\s?([0-9.-]*)/),g=p&&p.length>1?parseFloat(p[1]):1):g=parseFloat(g),c.push(new Ct(d,_,g))}var v=new jt(n,s,a,o,c);return v.spread=r,v.units=i,fe.call(this,t,v,e),v},radialgradient:function(t,e){var i=t.getAttribute("gradientUnits");t.getAttribute("spreadMethod"),i||(i="objectBoundingBox");var r=parseFloat(t.getAttribute("cx"))||0,n=parseFloat(t.getAttribute("cy"))||0,s=parseFloat(t.getAttribute("r")),a=parseFloat(t.getAttribute("fx")),o=parseFloat(t.getAttribute("fy"));w.isNaN(a)&&(a=r),w.isNaN(o)&&(o=n);var l=Math.abs(r+a)/2,h=Math.abs(n+o)/2;/userSpaceOnUse/i.test(i)&&(r-=l,n-=h,a-=l,o-=h);for(var c=[],u=0;u<t.children.length;u++){var f=t.children[u],d=f.getAttribute("offset");/%/gi.test(d)&&(d=parseFloat(d.replace(/%/gi,""))/100),d=parseFloat(d);var p,_=f.getAttribute("stop-color"),g=f.getAttribute("stop-opacity"),m=f.getAttribute("style");null===_&&(p=!!m&&m.match(/stop-color:\s?([#a-fA-F0-9]*)/),_=p&&p.length>1?p[1]:void 0),null===g?(p=!!m&&m.match(/stop-opacity:\s?([0-9.-]*)/),g=p&&p.length>1?parseFloat(p[1]):1):g=parseFloat(g),c.push(new Ct(d,_,g))}var v=new Et(r,n,s,c,a,o);return fe.call(this,t,v,e),v},text:function(t,e){var i=ne(t.getAttribute("text-anchor"))||"left",r=se(t)||"baseline",n=t.textContent,s=new ee(n);return fe.call(this,t,s,e),s.alignment=i,s.baseline=r,s},clippath:function(t,e){return _e.defs.current&&!_e.defs.current.contains(t.id)&&_e.defs.current.add(t.id,t),null},image:function(t,e){var i=t.getAttribute("href")||t.getAttribute("xlink:href");if(!i){var r=new At("encountered <image /> with no href.");return console.warn(r.name,r.message),null}var n=parseFloat(t.getAttribute("x"))||0,s=parseFloat(t.getAttribute("y"))||0,a=parseFloat(t.getAttribute("width")),o=parseFloat(t.getAttribute("height")),l=new Yt(i,n,s);return w.isNaN(a)||(l.width=a),w.isNaN(o)||(l.height=o),fe.call(this,t,l,e),l}};function ge(t,e){var i=new XMLHttpRequest;return i.open("GET",t),i.onreadystatechange=function(){4===i.readyState&&200===i.status&&e(i.responseText)},i.send(),i}function me(t,e,i,r){Bt.call(this,[new E,new E,new E,new E],!0),this._renderer.flagTextures=me.FlagTextures.bind(this),this._renderer.bindTextures=me.BindTextures.bind(this),this._renderer.unbindTextures=me.UnbindTextures.bind(this),this.noStroke(),this.noFill(),Array.isArray(t)?this.textures=t.map(me.GenerateTexture.bind(this)):this.textures=[me.GenerateTexture(t)],this.origin=new M,this._update(),this.translation.set(e||0,i||0),this.frameRate="number"===typeof r?r:me.DefaultFrameRate,this.index=0}function ve(t,e,i,r,n,s,a){for(var o=a||3*P.Resolution,l=[],h=0;h<o;h++)l.push(new E);Bt.call(this,l,!0,!1,!0),"number"===typeof i&&(this.innerRadius=i),"number"===typeof r&&(this.outerRadius=r),"number"===typeof n&&(this.startAngle=n),"number"===typeof s&&(this.endAngle=s),this._update(),"number"===typeof t&&(this.translation.x=t),"number"===typeof e&&(this.translation.y=e)}w.extend(me,{Properties:["frameRate","index"],DefaultFrameRate:30,FlagTextures:function(){this._flagTextures=!0},BindTextures:function(t){var e=t.length;while(e--)t[e].bind(k.Types.change,this._renderer.flagTextures);this._renderer.flagTextures()},UnbindTextures:function(t){var e=t.length;while(e--)t[e].unbind(k.Types.change,this._renderer.flagTextures);this._renderer.flagTextures()},MakeObservable:function(t){$t.MakeObservable(t),w.each(me.Properties,Ot,t),Object.defineProperty(t,"textures",{enumerable:!0,get:function(){return this._textures},set:function(t){var e=this._renderer.bindTextures,i=this._renderer.unbindTextures;this._textures&&this._textures.unbind(k.Types.insert,e).unbind(k.Types.remove,i),this._textures=new et((t||[]).slice(0)),this._textures.bind(k.Types.insert,e).bind(k.Types.remove,i),e(this._textures)}})},GenerateTexture:function(t){return t instanceof Ft?t:"string"===typeof t?new Ft(t):void 0}}),w.extend(me.prototype,$t.prototype,{constructor:me,_flagTextures:!1,_flagFrameRate:!1,_flagIndex:!1,_amount:1,_duration:0,_index:0,_startTime:0,_playing:!1,_firstFrame:0,_lastFrame:0,_loop:!0,_textures:null,_frameRate:0,_origin:null,play:function(t,e,i){return this._playing=!0,this._firstFrame=0,this._lastFrame=this.amount-1,this._startTime=w.performance.now(),"number"===typeof t&&(this._firstFrame=t),"number"===typeof e&&(this._lastFrame=e),"function"===typeof i?this._onLastFrame=i:delete this._onLastFrame,this._index!==this._firstFrame&&(this._startTime-=1e3*Math.abs(this._index-this._firstFrame)/this._frameRate),this},pause:function(){return this._playing=!1,this},stop:function(){return this._playing=!1,this._index=this._firstFrame,this},clone:function(t){var e=new me(this.textures,this.translation.x,this.translation.y,this.frameRate);return e._loop=this._loop,this._playing&&e.play(),t&&t.add(e),e},toObject:function(){var t=$t.prototype.toObject.call(this);return t.textures=this.textures.map((function(t){return t.toObject()})),t.frameRate=this.frameRate,t.index=this.index,t._firstFrame=this._firstFrame,t._lastFrame=this._lastFrame,t._loop=this._loop,t},_update:function(){var t,e,i,r,n,s,a,o,l=this._textures;return this._flagTextures&&(this._amount=l.length),this._flagFrameRate&&(this._duration=1e3*this._amount/this._frameRate),this._playing&&this._frameRate>0?(r=this._amount,w.isNaN(this._lastFrame)&&(this._lastFrame=r-1),i=w.performance.now()-this._startTime,o=this._lastFrame+1,n=1e3*(o-this._firstFrame)/this._frameRate,this._loop?i%=n:i=Math.min(i,n),a=f(this._firstFrame,o,i/n),a=Math.floor(a),a!==this._index&&(this._index=a,s=l[this._index],s.loaded&&(t=s.image.width,e=s.image.height,this.width!==t&&(this.width=t),this.height!==e&&(this.height=e),this.fill=s,a>=this._lastFrame-1&&this._onLastFrame&&this._onLastFrame()))):!this._flagIndex&&this.fill instanceof Ft||(s=l[this._index],s.loaded&&(t=s.image.width,e=s.image.height,this.width!==t&&(this.width=t),this.height!==e&&(this.height=e)),this.fill=s),$t.prototype._update.call(this),this},flagReset:function(){return this._flagTextures=this._flagFrameRate=!1,$t.prototype.flagReset.call(this),this}}),me.MakeObservable(me.prototype),w.extend(ve,{Properties:["startAngle","endAngle","innerRadius","outerRadius"],MakeObservable:function(t){Bt.MakeObservable(t),w.each(ve.Properties,Ot,t)}}),w.extend(ve.prototype,Bt.prototype,{constructor:ve,_flagStartAngle:!1,_flagEndAngle:!1,_flagInnerRadius:!1,_flagOuterRadius:!1,_startAngle:0,_endAngle:o,_innerRadius:0,_outerRadius:0,_update:function(){if(this._flagVertices||this._flagStartAngle||this._flagEndAngle||this._flagInnerRadius||this._flagOuterRadius){var t,e=this._startAngle,i=this._endAngle,r=this._innerRadius,s=this._outerRadius,a=_(e,o)===_(i,o),h=r>0,c=this.vertices,u=h?c.length/2:c.length,f=0;a?u--:h||(u-=2);for(var d=0,p=u-1;d<u;d++){var g=d/p,m=c[f],v=g*(i-e)+e,y=(i-e)/u,b=s*Math.cos(v),x=s*Math.sin(v);switch(d){case 0:t=n.move;break;default:t=n.curve}if(m.command=t,m.x=b,m.y=x,m.controls.left.clear(),m.controls.right.clear(),m.command===n.curve){var w=s*y/Math.PI;m.controls.left.x=w*Math.cos(v-l),m.controls.left.y=w*Math.sin(v-l),m.controls.right.x=w*Math.cos(v+l),m.controls.right.y=w*Math.sin(v+l),1===d&&m.controls.left.multiplyScalar(2),d===p&&m.controls.right.multiplyScalar(2)}f++}if(h){for(a?(c[f].command=n.close,f++):(u--,p=u-1),d=0;d<u;d++)g=d/p,m=c[f],v=(1-g)*(i-e)+e,y=(i-e)/u,b=r*Math.cos(v),x=r*Math.sin(v),t=n.curve,d<=0&&(t=a?n.move:n.line),m.command=t,m.x=b,m.y=x,m.controls.left.clear(),m.controls.right.clear(),m.command===n.curve&&(w=r*y/Math.PI,m.controls.left.x=w*Math.cos(v+l),m.controls.left.y=w*Math.sin(v+l),m.controls.right.x=w*Math.cos(v-l),m.controls.right.y=w*Math.sin(v-l),1===d&&m.controls.left.multiplyScalar(2),d===p&&m.controls.right.multiplyScalar(2)),f++;c[f].copy(c[0]),c[f].command=n.line}else a||(c[f].command=n.line,c[f].x=0,c[f].y=0,f++,c[f].copy(c[0]),c[f].command=n.line)}return Bt.prototype._update.call(this),this},flagReset:function(){return Bt.prototype.flagReset.call(this),this._flagStartAngle=this._flagEndAngle=this._flagInnerRadius=this._flagOuterRadius=!1,this},clone:function(t){var e=this.innerRadius,i=this.outerRadius,r=this.startAngle,n=this.endAngle,s=this.vertices.length,a=new ve(0,0,e,i,r,n,s);return a.translation.copy(this.translation),a.rotation=this.rotation,a.scale=this.scale,a.skewX=this.skewX,a.skewY=this.skewY,this.matrix.manual&&a.matrix.copy(this.matrix),w.each(Bt.Properties,(function(t){a[t]=this[t]}),this),t&&t.add(a),a},toObject:function(){var t=Bt.prototype.toObject.call(this);return w.each(ve.Properties,(function(e){t[e]=this[e]}),this),t}}),ve.MakeObservable(ve.prototype);var ye=Math.ceil,be=Math.floor;function xe(t){tt.call(this),this._renderer.type="points",this._renderer.flagVertices=Bt.FlagVertices.bind(this),this._renderer.bindVertices=Bt.BindVertices.bind(this),this._renderer.unbindVertices=Bt.UnbindVertices.bind(this),this._renderer.flagFill=Bt.FlagFill.bind(this),this._renderer.flagStroke=Bt.FlagStroke.bind(this),this._renderer.vertices=null,this._renderer.collection=null,this.sizeAttenuation=!1,this.beginning=0,this.ending=1,this.fill="#fff",this.stroke="#000",this.className="",this.visible=!0,this.vertices=t,this.dashes=[],this.dashes.offset=0}w.extend(xe,{Properties:["fill","stroke","linewidth","opacity","visible","size","sizeAttenuation","beginning","ending"],MakeObservable:function(t){tt.MakeObservable(t),w.each(xe.Properties.slice(2,7),Ot,t),Object.defineProperty(t,"fill",{enumerable:!0,get:function(){return this._fill},set:function(t){(this._fill instanceof Tt||this._fill instanceof jt||this._fill instanceof Et||this._fill instanceof Ft)&&this._fill.unbind(k.Types.change,this._renderer.flagFill),this._fill=t,this._flagFill=!0,(this._fill instanceof Tt||this._fill instanceof jt||this._fill instanceof Et||this._fill instanceof Ft)&&this._fill.bind(k.Types.change,this._renderer.flagFill)}}),Object.defineProperty(t,"stroke",{enumerable:!0,get:function(){return this._stroke},set:function(t){(this._stroke instanceof Tt||this._stroke instanceof jt||this._stroke instanceof Et||this._stroke instanceof Ft)&&this._stroke.unbind(k.Types.change,this._renderer.flagStroke),this._stroke=t,this._flagStroke=!0,(this._stroke instanceof Tt||this._stroke instanceof jt||this._stroke instanceof Et||this._stroke instanceof Ft)&&this._stroke.bind(k.Types.change,this._renderer.flagStroke)}}),Object.defineProperty(t,"length",{get:function(){return this._flagLength&&this._updateLength(),this._length}}),Object.defineProperty(t,"beginning",{enumerable:!0,get:function(){return this._beginning},set:function(t){this._beginning=t,this._flagVertices=!0}}),Object.defineProperty(t,"ending",{enumerable:!0,get:function(){return this._ending},set:function(t){this._ending=t,this._flagVertices=!0}}),Object.defineProperty(t,"vertices",{enumerable:!0,get:function(){return this._collection},set:function(t){var e=this._renderer.bindVertices,i=this._renderer.unbindVertices;this._collection&&this._collection.unbind(k.Types.insert,e).unbind(k.Types.remove,i),this._collection=t instanceof et?t:new et(t||[]),this._collection.bind(k.Types.insert,e).bind(k.Types.remove,i),e(this._collection)}}),Object.defineProperty(t,"dashes",{enumerable:!0,get:function(){return this._dashes},set:function(t){"number"!==typeof t.offset&&(t.offset=this.dashes&&this._dashes.offset||0),this._dashes=t}})}}),w.extend(xe.prototype,tt.prototype,{constructor:xe,_flagVertices:!0,_flagLength:!0,_flagFill:!0,_flagStroke:!0,_flagLinewidth:!0,_flagOpacity:!0,_flagVisible:!0,_flagSize:!0,_flagSizeAttenuation:!0,_length:0,_fill:"#fff",_stroke:"#000",_linewidth:1,_opacity:1,_visible:!0,_size:1,_sizeAttenuation:!1,_beginning:0,_ending:1,_dashes:null,clone:function(t){for(var e=new xe,i=0;i<this.vertices.length;i++)e.vertices.push(this.vertices[i].clone());for(var r=0;r<xe.Properties.length;r++){var n=xe.Properties[r];e[n]=this[n]}return e.className=this.className,e.translation.copy(this.translation),e.rotation=this.rotation,e.scale=this.scale,e.skewX=this.skewX,e.skewY=this.skewY,this.matrix.manual&&e.matrix.copy(this.matrix),t&&t.add(e),e._update()},toObject:function(){var t={vertices:this.vertices.map((function(t){return t.toObject()}))};return w.each(xe.Properties,(function(e){t[e]=this[e]}),this),t.className=this.className,t.translation=this.translation.toObject(),t.rotation=this.rotation,t.scale=this.scale instanceof M?this.scale.toObject():this.scale,t.skewX=this.skewX,t.skewY=this.skewY,this.matrix.manual&&(t.matrix=this.matrix.toObject()),t},noFill:Bt.prototype.noFill,noStroke:Bt.prototype.noStroke,corner:Bt.prototype.corner,center:Bt.prototype.center,remove:Bt.prototype.remove,getBoundingClientRect:Bt.prototype.getBoundingClientRect,subdivide:function(t){this._update();for(var e=[],i=0;i<this.vertices.length;i++){var r=this.vertices[i],n=this.vertices[i-1];if(n){var s=r.x,a=r.y,o=n.x,l=n.y,h=I(s,a,s,a,o,l,o,l,t);e=e.concat(h)}}return this.vertices=e,this},_updateLength:Bt.prototype._updateLength,_update:function(){if(this._flagVertices){this._flagLength&&this._updateLength(void 0,!0);var t=Math.min(this._beginning,this._ending),e=Math.max(this._beginning,this._ending),i=zt(this,t*this._length),r=zt(this,e*this._length),n=ye(i),s=be(r);this._renderer.vertices=[],this._renderer.collection=[];for(var a,o=0,l=0;l<this._collection.length;l++)l>=n&&l<=s&&(a=this._collection[l],this._renderer.collection.push(a),this._renderer.vertices[2*o+0]=a.x,this._renderer.vertices[2*o+1]=a.y,o++)}return tt.prototype._update.apply(this,arguments),this},flagReset:function(){return this._flagVertices=this._flagLength=this._flagFill=this._flagStroke=this._flagLinewidth=this._flagOpacity=this._flagVisible=this._flagSize=this._flagSizeAttenuation=!1,tt.prototype.flagReset.call(this),this}}),xe.MakeObservable(xe.prototype);var we=Math.cos,ke=Math.sin;function Ae(t,e,i,r){r=Math.max(r||0,3),Bt.call(this),this.closed=!0,this.automatic=!1,"number"===typeof i&&(this.width=2*i),"number"===typeof i&&(this.height=2*i),"number"===typeof r&&(this.sides=r),this._update(),"number"===typeof t&&(this.translation.x=t),"number"===typeof e&&(this.translation.y=e)}w.extend(Ae,{Properties:["width","height","sides"],MakeObservable:function(t){Bt.MakeObservable(t),w.each(Ae.Properties,Ot,t)}}),w.extend(Ae.prototype,Bt.prototype,{constructor:Ae,_flagWidth:!1,_flagHeight:!1,_flagSides:!1,_width:0,_height:0,_sides:0,_update:function(){if(this._flagVertices||this._flagWidth||this._flagHeight||this._flagSides){var t=this._sides,e=t+1,i=this.vertices.length;i>t&&(this.vertices.splice(t-1,i-t),i=t);for(var r=0;r<e;r++){var s=(r+.5)/t,a=o*s+Math.PI/2,l=this._width*we(a)/2,h=this._height*ke(a)/2;r>=i?this.vertices.push(new E(l,h)):this.vertices[r].set(l,h),this.vertices[r].command=0===r?n.move:n.line}}return Bt.prototype._update.call(this),this},flagReset:function(){return this._flagWidth=this._flagHeight=this._flagSides=!1,Bt.prototype.flagReset.call(this),this},clone:function(t){var e=new Ae(0,0,this.radius,this.sides);return e.translation.copy(this.translation),e.rotation=this.rotation,e.scale=this.scale,e.skewX=this.skewX,e.skewY=this.skewY,this.matrix.manual&&e.matrix.copy(this.matrix),w.each(Bt.Properties,(function(t){e[t]=this[t]}),this),t&&t.add(e),e},toObject:function(){var t=Bt.prototype.toObject.call(this);return w.each(Ae.Properties,(function(e){t[e]=this[e]}),this),t}}),Ae.MakeObservable(Ae.prototype);var Se=Math.cos,Oe=Math.sin;function Me(t,e,i,r,n){arguments.length<=3&&(r=i,i=r/2),("number"!==typeof n||n<=0)&&(n=5),Bt.call(this),this.closed=!0,this.automatic=!1,"number"===typeof i&&(this.innerRadius=i),"number"===typeof r&&(this.outerRadius=r),"number"===typeof n&&(this.sides=n),this._update(),"number"===typeof t&&(this.translation.x=t),"number"===typeof e&&(this.translation.y=e)}w.extend(Me,{Properties:["innerRadius","outerRadius","sides"],MakeObservable:function(t){Bt.MakeObservable(t),w.each(Me.Properties,Ot,t)}}),w.extend(Me.prototype,Bt.prototype,{constructor:Me,_flagInnerRadius:!1,_flagOuterRadius:!1,_flagSides:!1,_innerRadius:0,_outerRadius:0,_sides:0,_update:function(){if(this._flagVertices||this._flagInnerRadius||this._flagOuterRadius||this._flagSides){var t=2*this._sides,e=t+1,i=this.vertices.length;i>t&&(this.vertices.splice(t-1,i-t),i=t);for(var r=0;r<e;r++){var s=(r+.5)/t,a=o*s,l=(r%2?this._outerRadius:this._innerRadius)/2,h=l*Se(a),c=l*Oe(a);r>=i?this.vertices.push(new E(h,c)):this.vertices[r].set(h,c),this.vertices[r].command=0===r?n.move:n.line}}return Bt.prototype._update.call(this),this},flagReset:function(){return this._flagInnerRadius=this._flagOuterRadius=this._flagSides=!1,Bt.prototype.flagReset.call(this),this},clone:function(t){var e=this.innerRadius,i=this.outerRadius,r=this.sides,n=new Me(0,0,e,i,r);return n.translation.copy(this.translation),n.rotation=this.rotation,n.scale=this.scale,n.skewX=this.skewX,n.skewY=this.skewY,this.matrix.manual&&n.matrix.copy(this.matrix),w.each(Bt.Properties,(function(t){n[t]=this[t]}),this),t&&t.add(n),n},toObject:function(){var t=Bt.prototype.toObject.call(this);return w.each(Me.Properties,(function(e){t[e]=this[e]}),this),t}}),Me.MakeObservable(Me.prototype);var Ce=new Z,Te={version:1.1,ns:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",alignments:{left:"start",center:"middle",right:"end"},createElement:function(t,e){var i=t,r=document.createElementNS(Te.ns,i);return"svg"===i&&(e=w.defaults(e||{},{version:Te.version})),e&&Object.keys(e).length>0&&Te.setAttributes(r,e),r},setAttributes:function(t,e){for(var i=Object.keys(e),r=0;r<i.length;r++)/href/.test(i[r])?t.setAttributeNS(Te.xlink,i[r],e[i[r]]):t.setAttribute(i[r],e[i[r]]);return this},removeAttributes:function(t,e){for(var i in e)t.removeAttribute(i);return this},toString:function(t,e){for(var i,r=t.length,s=r-1,a="",o=0;o<r;o++){var l,h,c,u,f,d,p,g,m,y,b,x,w,k,A,S=t[o],O=e?_(o-1,r):Math.max(o-1,0),C=t[O],T=v(S.x),j=v(S.y);switch(S.command){case n.close:l=n.close;break;case n.arc:b=S.rx,x=S.ry,w=S.xAxisRotation,k=S.largeArcFlag,A=S.sweepFlag,l=n.arc+" "+b+" "+x+" "+w+" "+k+" "+A+" "+T+" "+j;break;case n.curve:d=C.controls&&C.controls.right||M.zero,p=S.controls&&S.controls.left||M.zero,C.relative?(h=v(d.x+C.x),c=v(d.y+C.y)):(h=v(d.x),c=v(d.y)),S.relative?(u=v(p.x+S.x),f=v(p.y+S.y)):(u=v(p.x),f=v(p.y)),l=(0===o?n.move:n.curve)+" "+h+" "+c+" "+u+" "+f+" "+T+" "+j;break;case n.move:i=S,l=n.move+" "+T+" "+j;break;default:l=S.command+" "+T+" "+j}o>=s&&e&&(S.command===n.curve&&(m=i,g=S.controls&&S.controls.right||S,y=m.controls&&m.controls.left||m,S.relative?(h=v(g.x+S.x),c=v(g.y+S.y)):(h=v(g.x),c=v(g.y)),m.relative?(u=v(y.x+m.x),f=v(y.y+m.y)):(u=v(y.x),f=v(y.y)),T=v(m.x),j=v(m.y),l+=" C "+h+" "+c+" "+u+" "+f+" "+T+" "+j),S.command!==n.close&&(l+=" Z")),a+=l+" "}return a},pointsToString:function(t,e){for(var i="",r=.5*e,s=0;s<t.length;s++){var a=t[s].x,o=t[s].y-r;i+=n.move+" "+a+" "+o+" ",i+="a "+r+" "+r+" 0 1 0 0.001 0 Z"}return i},getClip:function(t,e){var i=t._renderer.clip;return i||(i=t._renderer.clip=Te.createElement("clipPath",{"clip-rule":"nonzero"}),e.defs.appendChild(i)),i},group:{appendChild:function(t){var e=t._renderer.elem;if(e){var i=e.nodeName;!i||/(radial|linear)gradient/i.test(i)||t._clip||this.elem.appendChild(e)}},removeChild:function(t){var e=t._renderer.elem;if(e&&e.parentNode==this.elem){var i=e.nodeName;i&&(t._clip||this.elem.removeChild(e))}},orderChild:function(t){this.elem.appendChild(t._renderer.elem)},renderChild:function(t){Te[t._renderer.type].render.call(t,this)},render:function(t){if(!this._visible&&!this._flagVisible||0===this._opacity&&!this._flagOpacity)return this;this._update(),this._renderer.elem||(this._renderer.elem=Te.createElement("g",{id:this.id}),t.appendChild(this._renderer.elem));var e=this._matrix.manual||this._flagMatrix,i={domElement:t,elem:this._renderer.elem};e&&this._renderer.elem.setAttribute("transform","matrix("+this._matrix.toString()+")");for(var r=0;r<this.children.length;r++){var n=this.children[r];Te[n._renderer.type].render.call(n,t)}return this._flagId&&this._renderer.elem.setAttribute("id",this._id),this._flagOpacity&&this._renderer.elem.setAttribute("opacity",this._opacity),this._flagVisible&&this._renderer.elem.setAttribute("display",this._visible?"inline":"none"),this._flagClassName&&this._renderer.elem.setAttribute("class",this.classList.join(" ")),this._flagAdditions&&this.additions.forEach(Te.group.appendChild,i),this._flagSubtractions&&this.subtractions.forEach(Te.group.removeChild,i),this._flagOrder&&this.children.forEach(Te.group.orderChild,i),this._flagMask&&(this._mask?(Te[this._mask._renderer.type].render.call(this._mask,t),this._renderer.elem.setAttribute("clip-path","url(#"+this._mask.id+")")):this._renderer.elem.removeAttribute("clip-path")),this.flagReset()}},path:{render:function(t){if(0===this._opacity&&!this._flagOpacity)return this;this._update();var e={},i=this._matrix.manual||this._flagMatrix;if(i&&(e.transform="matrix("+this._matrix.toString()+")"),this._flagId&&(e.id=this._id),this._flagVertices){var r=Te.toString(this._renderer.vertices,this._closed);e.d=r}if(this._fill&&this._fill._renderer&&(this._fill._update(),Te[this._fill._renderer.type].render.call(this._fill,t,!0)),this._flagFill&&(e.fill=this._fill&&this._fill.id?"url(#"+this._fill.id+")":this._fill),this._stroke&&this._stroke._renderer&&(this._stroke._update(),Te[this._stroke._renderer.type].render.call(this._stroke,t,!0)),this._flagStroke&&(e.stroke=this._stroke&&this._stroke.id?"url(#"+this._stroke.id+")":this._stroke),this._flagLinewidth&&(e["stroke-width"]=this._linewidth),this._flagOpacity&&(e["stroke-opacity"]=this._opacity,e["fill-opacity"]=this._opacity),this._flagClassName&&(e["class"]=this.classList.join(" ")),this._flagVisible&&(e.visibility=this._visible?"visible":"hidden"),this._flagCap&&(e["stroke-linecap"]=this._cap),this._flagJoin&&(e["stroke-linejoin"]=this._join),this._flagMiter&&(e["stroke-miterlimit"]=this._miter),this.dashes&&this.dashes.length>0&&(e["stroke-dasharray"]=this.dashes.join(" "),e["stroke-dashoffset"]=this.dashes.offset||0),this._renderer.elem?Te.setAttributes(this._renderer.elem,e):(e.id=this._id,this._renderer.elem=Te.createElement("path",e),t.appendChild(this._renderer.elem)),this._flagClip){var n=Te.getClip(this,t),s=this._renderer.elem;this._clip?(s.removeAttribute("id"),n.setAttribute("id",this.id),n.appendChild(s)):(n.removeAttribute("id"),s.setAttribute("id",this.id),this.parent._renderer.elem.appendChild(s))}return this._flagMask&&(this._mask?(Te[this._mask._renderer.type].render.call(this._mask,t),this._renderer.elem.setAttribute("clip-path","url(#"+this._mask.id+")")):this._renderer.elem.removeAttribute("clip-path")),this.flagReset()}},points:{render:function(t){if(0===this._opacity&&!this._flagOpacity)return this;this._update();var e={},i=this._matrix.manual||this._flagMatrix;if(i&&(e.transform="matrix("+this._matrix.toString()+")"),this._flagId&&(e.id=this._id),this._flagVertices||this._flagSize||this._flagSizeAttenuation){var r=this._size;if(!this._sizeAttenuation){u(this,Ce);var n=Ce.elements,s=h(n[0],n[3],n[1],n[4],n[2],n[5]);r/=Math.max(s.scaleX,s.scaleY)}var a=Te.pointsToString(this._renderer.collection,r);e.d=a}return this._fill&&this._fill._renderer&&(this._fill._update(),Te[this._fill._renderer.type].render.call(this._fill,t,!0)),this._flagFill&&(e.fill=this._fill&&this._fill.id?"url(#"+this._fill.id+")":this._fill),this._stroke&&this._stroke._renderer&&(this._stroke._update(),Te[this._stroke._renderer.type].render.call(this._stroke,t,!0)),this._flagStroke&&(e.stroke=this._stroke&&this._stroke.id?"url(#"+this._stroke.id+")":this._stroke),this._flagLinewidth&&(e["stroke-width"]=this._linewidth),this._flagOpacity&&(e["stroke-opacity"]=this._opacity,e["fill-opacity"]=this._opacity),this._flagClassName&&(e["class"]=this.classList.join(" ")),this._flagVisible&&(e.visibility=this._visible?"visible":"hidden"),this.dashes&&this.dashes.length>0&&(e["stroke-dasharray"]=this.dashes.join(" "),e["stroke-dashoffset"]=this.dashes.offset||0),this._renderer.elem?Te.setAttributes(this._renderer.elem,e):(e.id=this._id,this._renderer.elem=Te.createElement("path",e),t.appendChild(this._renderer.elem)),this.flagReset()}},text:{render:function(t){this._update();var e={},i=this._matrix.manual||this._flagMatrix;if(i&&(e.transform="matrix("+this._matrix.toString()+")"),this._flagId&&(e.id=this._id),this._flagFamily&&(e["font-family"]=this._family),this._flagSize&&(e["font-size"]=this._size),this._flagLeading&&(e["line-height"]=this._leading),this._flagAlignment&&(e["text-anchor"]=Te.alignments[this._alignment]||this._alignment),this._flagBaseline&&(e["alignment-baseline"]=e["dominant-baseline"]=this._baseline),this._flagStyle&&(e["font-style"]=this._style),this._flagWeight&&(e["font-weight"]=this._weight),this._flagDecoration&&(e["text-decoration"]=this._decoration),this._fill&&this._fill._renderer&&(this._fill._update(),Te[this._fill._renderer.type].render.call(this._fill,t,!0)),this._flagFill&&(e.fill=this._fill&&this._fill.id?"url(#"+this._fill.id+")":this._fill),this._stroke&&this._stroke._renderer&&(this._stroke._update(),Te[this._stroke._renderer.type].render.call(this._stroke,t,!0)),this._flagStroke&&(e.stroke=this._stroke&&this._stroke.id?"url(#"+this._stroke.id+")":this._stroke),this._flagLinewidth&&(e["stroke-width"]=this._linewidth),this._flagOpacity&&(e.opacity=this._opacity),this._flagClassName&&(e["class"]=this.classList.join(" ")),this._flagVisible&&(e.visibility=this._visible?"visible":"hidden"),this.dashes&&this.dashes.length>0&&(e["stroke-dasharray"]=this.dashes.join(" "),e["stroke-dashoffset"]=this.dashes.offset||0),this._renderer.elem?Te.setAttributes(this._renderer.elem,e):(e.id=this._id,this._renderer.elem=Te.createElement("text",e),t.defs.appendChild(this._renderer.elem)),this._flagClip){var r=Te.getClip(this,t),n=this._renderer.elem;this._clip?(n.removeAttribute("id"),r.setAttribute("id",this.id),r.appendChild(n)):(r.removeAttribute("id"),n.setAttribute("id",this.id),this.parent._renderer.elem.appendChild(n))}return this._flagMask&&(this._mask?(Te[this._mask._renderer.type].render.call(this._mask,t),this._renderer.elem.setAttribute("clip-path","url(#"+this._mask.id+")")):this._renderer.elem.removeAttribute("clip-path")),this._flagValue&&(this._renderer.elem.textContent=this._value),this.flagReset()}},"linear-gradient":{render:function(t,e){e||this._update();var i={};if(this._flagId&&(i.id=this._id),this._flagEndPoints&&(i.x1=this.left._x,i.y1=this.left._y,i.x2=this.right._x,i.y2=this.right._y),this._flagSpread&&(i.spreadMethod=this._spread),this._flagUnits&&(i.gradientUnits=this._units),this._renderer.elem?Te.setAttributes(this._renderer.elem,i):(i.id=this._id,this._renderer.elem=Te.createElement("linearGradient",i),t.defs.appendChild(this._renderer.elem)),this._flagStops){var r=this._renderer.elem.childNodes.length!==this.stops.length;if(r)while(this._renderer.elem.lastChild)this._renderer.elem.removeChild(this._renderer.elem.lastChild);for(var n=0;n<this.stops.length;n++){var s=this.stops[n],a={};s._flagOffset&&(a.offset=100*s._offset+"%"),s._flagColor&&(a["stop-color"]=s._color),s._flagOpacity&&(a["stop-opacity"]=s._opacity),s._renderer.elem?Te.setAttributes(s._renderer.elem,a):s._renderer.elem=Te.createElement("stop",a),r&&this._renderer.elem.appendChild(s._renderer.elem),s.flagReset()}}return this.flagReset()}},"radial-gradient":{render:function(t,e){e||this._update();var i={};if(this._flagId&&(i.id=this._id),this._flagCenter&&(i.cx=this.center._x,i.cy=this.center._y),this._flagFocal&&(i.fx=this.focal._x,i.fy=this.focal._y),this._flagRadius&&(i.r=this._radius),this._flagSpread&&(i.spreadMethod=this._spread),this._flagUnits&&(i.gradientUnits=this._units),this._renderer.elem?Te.setAttributes(this._renderer.elem,i):(i.id=this._id,this._renderer.elem=Te.createElement("radialGradient",i),t.defs.appendChild(this._renderer.elem)),this._flagStops){var r=this._renderer.elem.childNodes.length!==this.stops.length;if(r)while(this._renderer.elem.lastChild)this._renderer.elem.removeChild(this._renderer.elem.lastChild);for(var n=0;n<this.stops.length;n++){var s=this.stops[n],a={};s._flagOffset&&(a.offset=100*s._offset+"%"),s._flagColor&&(a["stop-color"]=s._color),s._flagOpacity&&(a["stop-opacity"]=s._opacity),s._renderer.elem?Te.setAttributes(s._renderer.elem,a):s._renderer.elem=Te.createElement("stop",a),r&&this._renderer.elem.appendChild(s._renderer.elem),s.flagReset()}}return this.flagReset()}},texture:{render:function(t,e){e||this._update();var i={},r={x:0,y:0},n=this.image;if(this._flagId&&(i.id=this._id),this._flagLoaded&&this.loaded)switch(n.nodeName.toLowerCase()){case"canvas":r.href=r["xlink:href"]=n.toDataURL("image/png");break;case"img":case"image":r.href=r["xlink:href"]=this.src;break}if((this._flagOffset||this._flagLoaded||this._flagScale)&&(i.x=this._offset.x,i.y=this._offset.y,n&&(i.x-=n.width/2,i.y-=n.height/2,this._scale instanceof M?(i.x*=this._scale.x,i.y*=this._scale.y):(i.x*=this._scale,i.y*=this._scale)),i.x>0&&(i.x*=-1),i.y>0&&(i.y*=-1)),(this._flagScale||this._flagLoaded||this._flagRepeat)&&(i.width=0,i.height=0,n)){switch(r.width=i.width=n.width,r.height=i.height=n.height,this._repeat){case"no-repeat":i.width+=1,i.height+=1;break}this._scale instanceof M?(i.width*=this._scale.x,i.height*=this._scale.y):(i.width*=this._scale,i.height*=this._scale)}return(this._flagScale||this._flagLoaded)&&(this._renderer.image?Te.setAttributes(this._renderer.image,r):this._renderer.image=Te.createElement("image",r)),this._renderer.elem?0!==Object.keys(i).length&&Te.setAttributes(this._renderer.elem,i):(i.id=this._id,i.patternUnits="userSpaceOnUse",this._renderer.elem=Te.createElement("pattern",i),t.defs.appendChild(this._renderer.elem)),this._renderer.elem&&this._renderer.image&&!this._renderer.appended&&(this._renderer.elem.appendChild(this._renderer.image),this._renderer.appended=!0),this.flagReset()}}};function je(t){this.domElement=t.domElement||Te.createElement("svg"),this.scene=new st,this.scene.parent=this,this.defs=Te.createElement("defs"),this.domElement.appendChild(this.defs),this.domElement.defs=this.defs,this.domElement.style.overflow="hidden"}w.extend(je,{Utils:Te}),w.extend(je.prototype,k,{constructor:je,setSize:function(t,e){return this.width=t,this.height=e,Te.setAttributes(this.domElement,{width:t,height:e}),this.trigger(k.Types.resize,t,e)},render:function(){return Te.group.render.call(this.scene,this.domElement),this}});var Ee={create:function(t,e,i){var r,n,s;if(r=t.createShader(t[i]),t.shaderSource(r,e),t.compileShader(r),n=t.getShaderParameter(r,t.COMPILE_STATUS),!n)throw s=t.getShaderInfoLog(r),t.deleteShader(r),new At("unable to compile shader "+r+": "+s);return r},types:{vertex:"VERTEX_SHADER",fragment:"FRAGMENT_SHADER"},path:{vertex:"\n      precision mediump float;\n      attribute vec2 a_position;\n\n      uniform mat3 u_matrix;\n      uniform vec2 u_resolution;\n      uniform vec4 u_rect;\n\n      varying vec2 v_textureCoords;\n\n      void main() {\n        vec2 rectCoords = (a_position * (u_rect.zw - u_rect.xy)) + u_rect.xy;\n        vec2 projected = (u_matrix * vec3(rectCoords, 1.0)).xy;\n        vec2 normal = projected / u_resolution;\n        vec2 clipspace = (normal * 2.0) - 1.0;\n\n        gl_Position = vec4(clipspace * vec2(1.0, -1.0), 0.0, 1.0);\n        v_textureCoords = a_position;\n      }\n    ",fragment:"\n      precision mediump float;\n\n      uniform sampler2D u_image;\n      varying vec2 v_textureCoords;\n\n      void main() {\n        vec4 texel = texture2D(u_image, v_textureCoords);\n        if (texel.a == 0.0) {\n          discard;\n        }\n        gl_FragColor = texel;\n      }\n    "},points:{vertex:"\n      precision mediump float;\n      attribute vec2 a_position;\n\n      uniform float u_size;\n      uniform mat3 u_matrix;\n      uniform vec2 u_resolution;\n\n      varying vec2 v_textureCoords;\n\n      void main() {\n        vec2 projected = (u_matrix * vec3(a_position, 1.0)).xy;\n        vec2 normal = projected / u_resolution;\n        vec2 clipspace = (normal * 2.0) - 1.0;\n\n        gl_PointSize = u_size;\n        gl_Position = vec4(clipspace * vec2(1.0, -1.0), 0.0, 1.0);\n        v_textureCoords = a_position;\n      }\n    ",fragment:"\n      precision mediump float;\n\n      uniform sampler2D u_image;\n\n      void main() {\n        vec4 texel = texture2D(u_image, gl_PointCoord);\n        if (texel.a == 0.0) {\n          discard;\n        }\n        gl_FragColor = texel;\n      }\n    "}},Re=Z.Multiply,Fe=[1,0,0,0,1,0,0,0,1],Pe=new g(9),Le=vt.Utils,Ne=new g([0,0,1,0,0,1,0,1,1,0,1,1]),Ie={precision:.9,isHidden:/(undefined|none|transparent)/i,canvas:a.document?a.document.createElement("canvas"):{getContext:function(){}},alignments:{left:"start",middle:"center",right:"end"},matrix:new Z,group:{removeChild:function(t,e){if(t.children)for(var i=0;i<t.children.length;i++)Ie.group.removeChild(t.children[i],e);t._renderer.texture&&(e.deleteTexture(t._renderer.texture),delete t._renderer.texture),t._renderer.positionBuffer&&(e.deleteBuffer(t._renderer.positionBuffer),delete t._renderer.positionBuffer)},render:function(t,e){if(this._visible){this._update();var i,r=this.parent,n=r._matrix&&r._matrix.manual||r._flagMatrix,s=this._matrix.manual||this._flagMatrix;if((n||s)&&(this._renderer.matrix||(this._renderer.matrix=new g(9)),this._matrix.toTransformArray(!0,Pe),Re(Pe,r._renderer.matrix,this._renderer.matrix),this._renderer.scale instanceof M||(this._renderer.scale=new M),this._scale instanceof M?(this._renderer.scale.x=this._scale.x,this._renderer.scale.y=this._scale.y):(this._renderer.scale.x=this._scale,this._renderer.scale.y=this._scale),/renderer/i.test(r._renderer.type)||(this._renderer.scale.x*=r._renderer.scale.x,this._renderer.scale.y*=r._renderer.scale.y),n&&(this._flagMatrix=!0)),this._mask&&(t.clear(t.STENCIL_BUFFER_BIT),t.enable(t.STENCIL_TEST),t.stencilFunc(t.ALWAYS,1,0),t.stencilOp(t.KEEP,t.KEEP,t.REPLACE),t.colorMask(!1,!1,!1,!1),Ie[this._mask._renderer.type].render.call(this._mask,t,e,this),t.stencilFunc(t.EQUAL,1,255),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.colorMask(!0,!0,!0,!0)),this._flagOpacity=r._flagOpacity||this._flagOpacity,this._renderer.opacity=this._opacity*(r&&r._renderer?r._renderer.opacity:1),this._flagSubtractions)for(i=0;i<this.subtractions.length;i++)Ie.group.removeChild(this.subtractions[i],t);for(i=0;i<this.children.length;i++){var a=this.children[i];Ie[a._renderer.type].render.call(a,t,e)}return this._mask&&t.disable(t.STENCIL_TEST),this.flagReset()}}},path:{updateCanvas:function(t){var e,i,r,s,a,o,l,h,c,u,f,d,p,g,m=t._renderer.vertices,v=this.canvas,y=this.ctx,b=t._renderer.scale,x=t._stroke,w=t._linewidth,k=t._fill,A=t._renderer.opacity||t._opacity,S=t._cap,O=t._join,C=t._miter,T=t._closed,j=t.dashes,E=m.length,R=E-1;v.width=Math.max(Math.ceil(t._renderer.rect.width*b.x),1),v.height=Math.max(Math.ceil(t._renderer.rect.height*b.y),1);var F,P=t._renderer.rect.centroid,L=P.x,N=P.y;y.clearRect(0,0,v.width,v.height),k&&("string"===typeof k?y.fillStyle=k:(Ie[k._renderer.type].render.call(k,y,t),y.fillStyle=k._renderer.effect)),x&&("string"===typeof x?y.strokeStyle=x:(Ie[x._renderer.type].render.call(x,y,t),y.strokeStyle=x._renderer.effect),w&&(y.lineWidth=w),C&&(y.miterLimit=C),O&&(y.lineJoin=O),!T&&S&&(y.lineCap=S)),"number"===typeof A&&(y.globalAlpha=A),j&&j.length>0&&(y.lineDashOffset=j.offset||0,y.setLineDash(j)),y.save(),y.scale(b.x,b.y),y.translate(L,N),y.beginPath();for(var I=0;I<m.length;I++){var B=m[I];switch(d=B.x,p=B.y,B.command){case n.close:y.closePath();break;case n.arc:var V=B.rx,z=B.ry,U=B.xAxisRotation,D=B.largeArcFlag,$=B.sweepFlag;e=T?_(I-1,E):Math.max(I-1,0),i=m[e];var Y=i.x,X=i.y;Le.renderSvgArcCommand(y,Y,X,V,z,D,$,U,d,p);break;case n.curve:e=T?_(I-1,E):Math.max(I-1,0),i=m[e],h=i.controls&&i.controls.right||M.zero,c=B.controls&&B.controls.left||M.zero,i._relative?(o=h.x+i.x,l=h.y+i.y):(o=h.x,l=h.y),B._relative?(s=c.x+B.x,a=c.y+B.y):(s=c.x,a=c.y),y.bezierCurveTo(o,l,s,a,d,p),I>=R&&T&&(r=F,u=B.controls&&B.controls.right||M.zero,f=r.controls&&r.controls.left||M.zero,B._relative?(o=u.x+B.x,l=u.y+B.y):(o=u.x,l=u.y),r._relative?(s=f.x+r.x,a=f.y+r.y):(s=f.x,a=f.y),d=r.x,p=r.y,y.bezierCurveTo(o,l,s,a,d,p));break;case n.line:y.lineTo(d,p);break;case n.move:F=B,y.moveTo(d,p);break}}T&&y.closePath(),Ie.isHidden.test(k)||(g=k._renderer&&k._renderer.offset,g&&(y.save(),y.translate(-k._renderer.offset.x,-k._renderer.offset.y),y.scale(k._renderer.scale.x,k._renderer.scale.y)),y.fill(),g&&y.restore()),Ie.isHidden.test(x)||(g=x._renderer&&x._renderer.offset,g&&(y.save(),y.translate(-x._renderer.offset.x,-x._renderer.offset.y),y.scale(x._renderer.scale.x,x._renderer.scale.y),y.lineWidth=w/x._renderer.scale.x),y.stroke(),g&&y.restore()),y.restore()},getBoundingClientRect:function(t,e,i){var r,n,s=1/0,a=-1/0,o=1/0,l=-1/0;t.forEach((function(t){var e,i,r,n,h,c,u=t.x,f=t.y,d=t.controls;o=Math.min(f,o),s=Math.min(u,s),a=Math.max(u,a),l=Math.max(f,l),t.controls&&(h=d.left,c=d.right,h&&c&&(e=t._relative?h.x+u:h.x,i=t._relative?h.y+f:h.y,r=t._relative?c.x+u:c.x,n=t._relative?c.y+f:c.y,e&&i&&r&&n&&(o=Math.min(i,n,o),s=Math.min(e,r,s),a=Math.max(e,r,a),l=Math.max(i,n,l))))})),"number"===typeof e&&(o-=e,s-=e,a+=e,l+=e),r=a-s,n=l-o,i.top=o,i.left=s,i.right=a,i.bottom=l,i.width=r,i.height=n,i.centroid||(i.centroid={}),i.centroid.x=-s,i.centroid.y=-o},render:function(t,e,i){if(!this._visible||!this._opacity)return this;this._update();var r=i||this.parent,n=e[this._renderer.type],s=r._matrix.manual||r._flagMatrix,a=this._matrix.manual||this._flagMatrix,o=this._renderer.parent!==r,l=this._flagVertices||this._flagFill||this._fill instanceof jt&&(this._fill._flagSpread||this._fill._flagStops||this._fill._flagEndPoints)||this._fill instanceof Et&&(this._fill._flagSpread||this._fill._flagStops||this._fill._flagRadius||this._fill._flagCenter||this._fill._flagFocal)||this._fill instanceof Ft&&(this._fill._flagLoaded&&this._fill.loaded||this._fill._flagImage||this._fill._flagVideo||this._fill._flagRepeat||this._fill._flagOffset||this._fill._flagScale)||this._stroke instanceof jt&&(this._stroke._flagSpread||this._stroke._flagStops||this._stroke._flagEndPoints)||this._stroke instanceof Et&&(this._stroke._flagSpread||this._stroke._flagStops||this._stroke._flagRadius||this._stroke._flagCenter||this._stroke._flagFocal)||this._stroke instanceof Ft&&(this._stroke._flagLoaded&&this._stroke.loaded||this._stroke._flagImage||this._stroke._flagVideo||this._stroke._flagRepeat||this._stroke._flagOffset||this._fill._flagScale)||this._flagStroke||this._flagLinewidth||this._flagOpacity||r._flagOpacity||this._flagVisible||this._flagCap||this._flagJoin||this._flagMiter||this._flagScale||this.dashes&&this.dashes.length>0||!this._renderer.texture;if((s||a||o)&&(this._renderer.matrix||(this._renderer.matrix=new g(9)),this._matrix.toTransformArray(!0,Pe),Re(Pe,r._renderer.matrix,this._renderer.matrix),this._renderer.scale instanceof M||(this._renderer.scale=new M),this._scale instanceof M?(this._renderer.scale.x=this._scale.x*r._renderer.scale.x,this._renderer.scale.y=this._scale.y*r._renderer.scale.y):(this._renderer.scale.x=this._scale*r._renderer.scale.x,this._renderer.scale.y=this._scale*r._renderer.scale.y),o&&(this._renderer.parent=r)),this._mask&&(t.clear(t.STENCIL_BUFFER_BIT),t.enable(t.STENCIL_TEST),t.stencilFunc(t.ALWAYS,1,0),t.stencilOp(t.KEEP,t.KEEP,t.REPLACE),t.colorMask(!1,!1,!1,!1),Ie[this._mask._renderer.type].render.call(this._mask,t,e,this),t.stencilFunc(t.EQUAL,1,255),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.colorMask(!0,!0,!0,!0)),l?(this._renderer.rect||(this._renderer.rect={}),this._renderer.opacity=this._opacity*r._renderer.opacity,Ie.path.getBoundingClientRect(this._renderer.vertices,this._linewidth,this._renderer.rect),Ie.updateTexture.call(Ie,t,this)):(this._fill&&this._fill._update&&this._fill._update(),this._stroke&&this._stroke._update&&this._stroke._update()),this._clip&&!i||!this._renderer.texture)return this;e.current!==n&&(t.useProgram(n),t.bindBuffer(t.ARRAY_BUFFER,e.buffers.position),t.vertexAttribPointer(n.position,2,t.FLOAT,!1,0,0),t.enableVertexAttribArray(n.position),t.bufferData(t.ARRAY_BUFFER,Ne,t.STATIC_DRAW),e.resolution.flagged||t.uniform2f(t.getUniformLocation(n,"u_resolution"),e.resolution.width,e.resolution.height),e.current=n),e.resolution.flagged&&t.uniform2f(t.getUniformLocation(n,"u_resolution"),e.resolution.width,e.resolution.height),t.bindTexture(t.TEXTURE_2D,this._renderer.texture);var h=this._renderer.rect;return t.uniformMatrix3fv(n.matrix,!1,this._renderer.matrix),t.uniform4f(n.rect,h.left,h.top,h.right,h.bottom),t.drawArrays(t.TRIANGLES,0,6),this._mask&&t.disable(t.STENCIL_TEST),this.flagReset()}},points:{updateCanvas:function(t){var e,i=this.canvas,r=this.ctx,n=t._stroke,s=t._linewidth,a=t._fill,l=t._renderer.opacity||t._opacity,h=t.dashes,c=t._size,u=c;Ie.isHidden.test(n)||(u+=s),i.width=p(u),i.height=i.width;var f=u/i.width,d=i.width/2,_=i.height/2;r.clearRect(0,0,i.width,i.height),a&&("string"===typeof a?r.fillStyle=a:(Ie[a._renderer.type].render.call(a,r,t),r.fillStyle=a._renderer.effect)),n&&("string"===typeof n?r.strokeStyle=n:(Ie[n._renderer.type].render.call(n,r,t),r.strokeStyle=n._renderer.effect),s&&(r.lineWidth=s/f)),"number"===typeof l&&(r.globalAlpha=l),h&&h.length>0&&(r.lineDashOffset=h.offset||0,r.setLineDash(h)),r.save(),r.translate(d,_),r.scale(Ie.precision,Ie.precision),r.beginPath(),r.arc(0,0,c/f*.5,0,o),r.restore(),closed&&r.closePath(),Ie.isHidden.test(a)||(e=a._renderer&&a._renderer.offset,e&&(r.save(),r.translate(-a._renderer.offset.x,-a._renderer.offset.y),r.scale(a._renderer.scale.x,a._renderer.scale.y)),r.fill(),e&&r.restore()),Ie.isHidden.test(n)||(e=n._renderer&&n._renderer.offset,e&&(r.save(),r.translate(-n._renderer.offset.x,-n._renderer.offset.y),r.scale(n._renderer.scale.x,n._renderer.scale.y),r.lineWidth=s/n._renderer.scale.x),r.stroke(),e&&r.restore())},render:function(t,e,i){if(!this._visible||!this._opacity)return this;this._update();var r=i||this.parent,n=e[this._renderer.type],s=this._size,a=this._sizeAttenuation,o=this._stroke,l=this._linewidth,h=r._matrix.manual||r._flagMatrix,c=this._matrix.manual||this._flagMatrix,u=this._renderer.parent!==r,f=this._renderer.vertices,d=this._renderer.collection.length,p=this._flagVertices,_=this._flagFill||this._fill instanceof jt&&(this._fill._flagSpread||this._fill._flagStops||this._fill._flagEndPoints)||this._fill instanceof Et&&(this._fill._flagSpread||this._fill._flagStops||this._fill._flagRadius||this._fill._flagCenter||this._fill._flagFocal)||this._fill instanceof Ft&&(this._fill._flagLoaded&&this._fill.loaded||this._fill._flagImage||this._fill._flagVideo||this._fill._flagRepeat||this._fill._flagOffset||this._fill._flagScale)||this._stroke instanceof jt&&(this._stroke._flagSpread||this._stroke._flagStops||this._stroke._flagEndPoints)||this._stroke instanceof Et&&(this._stroke._flagSpread||this._stroke._flagStops||this._stroke._flagRadius||this._stroke._flagCenter||this._stroke._flagFocal)||this._stroke instanceof Ft&&(this._stroke._flagLoaded&&this._stroke.loaded||this._stroke._flagImage||this._stroke._flagVideo||this._stroke._flagRepeat||this._stroke._flagOffset||this._fill._flagScale)||this._flagStroke||this._flagLinewidth||this._flagOpacity||r._flagOpacity||this._flagVisible||this._flagScale||this.dashes&&this.dashes.length>0||!this._renderer.texture;if((h||c||u)&&(this._renderer.matrix||(this._renderer.matrix=new g(9)),this._matrix.toTransformArray(!0,Pe),Re(Pe,r._renderer.matrix,this._renderer.matrix),this._renderer.scale instanceof M||(this._renderer.scale=new M),this._scale instanceof M?(this._renderer.scale.x=this._scale.x*r._renderer.scale.x,this._renderer.scale.y=this._scale.y*r._renderer.scale.y):(this._renderer.scale.x=this._scale*r._renderer.scale.x,this._renderer.scale.y=this._scale*r._renderer.scale.y),u&&(this._renderer.parent=r)),p){var m=this._renderer.positionBuffer;m&&t.deleteBuffer(m),this._renderer.positionBuffer=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this._renderer.positionBuffer),t.vertexAttribPointer(n.position,2,t.FLOAT,!1,0,0),t.enableVertexAttribArray(n.position),t.bufferData(t.ARRAY_BUFFER,f,t.STATIC_DRAW)}return _?(this._renderer.opacity=this._opacity*r._renderer.opacity,Ie.updateTexture.call(Ie,t,this)):(this._fill&&this._fill._update&&this._fill._update(),this._stroke&&this._stroke._update&&this._stroke._update()),this._clip&&!i||!this._renderer.texture?this:(Ie.isHidden.test(o)||(s+=l),s/=Ie.precision,a&&(s*=Math.max(this._renderer.scale.x,this._renderer.scale.y)),e.current!==n&&(t.useProgram(n),e.resolution.flagged||t.uniform2f(t.getUniformLocation(n,"u_resolution"),e.resolution.width,e.resolution.height),e.current=n),e.resolution.flagged&&t.uniform2f(t.getUniformLocation(n,"u_resolution"),e.resolution.width,e.resolution.height),t.bindTexture(t.TEXTURE_2D,this._renderer.texture),t.uniformMatrix3fv(n.matrix,!1,this._renderer.matrix),t.uniform1f(n.size,s*e.resolution.ratio),t.drawArrays(t.POINTS,0,d),this.flagReset())}},text:{updateCanvas:function(t){var e=this.canvas,i=this.ctx,r=t._renderer.scale,n=t._stroke,s=t._linewidth*r,a=t._fill,o=t._renderer.opacity||t._opacity,l=t.dashes,h=t._decoration;e.width=Math.max(Math.ceil(t._renderer.rect.width*r.x),1),e.height=Math.max(Math.ceil(t._renderer.rect.height*r.y),1);var c,u,f,d,p,_,g,m,v,y,b,x=t._renderer.rect.centroid,w=x.x,k=x.y,A=a._renderer&&a._renderer.offset&&n._renderer&&n._renderer.offset;if(i.clearRect(0,0,e.width,e.height),A||(i.font=[t._style,t._weight,t._size+"px/"+t._leading+"px",t._family].join(" ")),i.textAlign="center",i.textBaseline="middle",a&&("string"===typeof a?i.fillStyle=a:(Ie[a._renderer.type].render.call(a,i,t),i.fillStyle=a._renderer.effect)),n&&("string"===typeof n?i.strokeStyle=n:(Ie[n._renderer.type].render.call(n,i,t),i.strokeStyle=n._renderer.effect),s&&(i.lineWidth=s)),"number"===typeof o&&(i.globalAlpha=o),l&&l.length>0&&(i.lineDashOffset=l.offset||0,i.setLineDash(l)),i.save(),i.scale(r.x,r.y),i.translate(w,k),Ie.isHidden.test(a)||(a._renderer&&a._renderer.offset?(_=a._renderer.scale.x,g=a._renderer.scale.y,i.save(),i.translate(-a._renderer.offset.x,-a._renderer.offset.y),i.scale(_,g),c=t._size/a._renderer.scale.y,u=t._leading/a._renderer.scale.y,i.font=[t._style,t._weight,c+"px/",u+"px",t._family].join(" "),f=a._renderer.offset.x/a._renderer.scale.x,d=a._renderer.offset.y/a._renderer.scale.y,i.fillText(t.value,f,d),i.restore()):i.fillText(t.value,0,0)),Ie.isHidden.test(n)||(n._renderer&&n._renderer.offset?(_=n._renderer.scale.x,g=n._renderer.scale.y,i.save(),i.translate(-n._renderer.offset.x,-n._renderer.offset.y),i.scale(_,g),c=t._size/n._renderer.scale.y,u=t._leading/n._renderer.scale.y,i.font=[t._style,t._weight,c+"px/",u+"px",t._family].join(" "),f=n._renderer.offset.x/n._renderer.scale.x,d=n._renderer.offset.y/n._renderer.scale.y,p=s/n._renderer.scale.x,i.lineWidth=p,i.strokeText(t.value,f,d),i.restore()):i.strokeText(t.value,0,0)),/(underline|strikethrough)/i.test(h)){var S=i.measureText(t.value);switch(h){case"underline":v=S.actualBoundingBoxAscent,b=S.actualBoundingBoxAscent;break;case"strikethrough":v=0,b=0;break}m=-S.width/2,y=S.width/2,i.lineWidth=Math.max(Math.floor(t._size/15),1),i.strokeStyle=i.fillStyle,i.beginPath(),i.moveTo(m,v),i.lineTo(y,b),i.stroke()}i.restore()},getBoundingClientRect:function(t,e){var i=Ie.ctx;i.font=[t._style,t._weight,t._size+"px/"+t._leading+"px",t._family].join(" "),i.textAlign="center",i.textBaseline=t._baseline;var r=1.25*i.measureText(t._value).width,n=1.25*Math.max(t._size,t._leading);this._linewidth&&!Ie.isHidden.test(this._stroke)&&(r+=2*this._linewidth,n+=2*this._linewidth);var s=r/2,a=n/2;switch(Ie.alignments[t._alignment]||t._alignment){case Ie.alignments.left:e.left=0,e.right=r;break;case Ie.alignments.right:e.left=-r,e.right=0;break;default:e.left=-s,e.right=s}switch(t._baseline){case"bottom":e.top=-n,e.bottom=0;break;case"top":e.top=0,e.bottom=n;break;default:e.top=-a,e.bottom=a}e.width=r,e.height=n,e.centroid||(e.centroid={}),e.centroid.x=s,e.centroid.y=a},render:function(t,e,i){if(!this._visible||!this._opacity)return this;this._update();var r=i||this.parent,n=e[this._renderer.type],s=r._matrix.manual||r._flagMatrix,a=this._matrix.manual||this._flagMatrix,o=this._renderer.parent!==r,l=this._flagVertices||this._flagFill||this._fill instanceof jt&&(this._fill._flagSpread||this._fill._flagStops||this._fill._flagEndPoints)||this._fill instanceof Et&&(this._fill._flagSpread||this._fill._flagStops||this._fill._flagRadius||this._fill._flagCenter||this._fill._flagFocal)||this._fill instanceof Ft&&(this._fill._flagLoaded&&this._fill.loaded||this._fill._flagImage||this._fill._flagVideo||this._fill._flagRepeat||this._fill._flagOffset||this._fill._flagScale)||this._stroke instanceof jt&&(this._stroke._flagSpread||this._stroke._flagStops||this._stroke._flagEndPoints)||this._stroke instanceof Et&&(this._stroke._flagSpread||this._stroke._flagStops||this._stroke._flagRadius||this._stroke._flagCenter||this._stroke._flagFocal)||this._stroke instanceof Ft&&(this._stroke._flagLoaded&&this._stroke.loaded||this._stroke._flagImage||this._stroke._flagVideo||this._stroke._flagRepeat||this._stroke._flagOffset||this._fill._flagScale)||this._flagStroke||this._flagLinewidth||this._flagOpacity||r._flagOpacity||this._flagVisible||this._flagScale||this._flagValue||this._flagFamily||this._flagSize||this._flagLeading||this._flagAlignment||this._flagBaseline||this._flagStyle||this._flagWeight||this._flagDecoration||this.dashes&&this.dashes.length>0||!this._renderer.texture;if((s||a||o)&&(this._renderer.matrix||(this._renderer.matrix=new g(9)),this._matrix.toTransformArray(!0,Pe),Re(Pe,r._renderer.matrix,this._renderer.matrix),this._renderer.scale instanceof M||(this._renderer.scale=new M),this._scale instanceof M?(this._renderer.scale.x=this._scale.x*r._renderer.scale.x,this._renderer.scale.y=this._scale.y*r._renderer.scale.y):(this._renderer.scale.x=this._scale*r._renderer.scale.x,this._renderer.scale.y=this._scale*r._renderer.scale.y),o&&(this._renderer.parent=r)),this._mask&&(t.clear(t.STENCIL_BUFFER_BIT),t.enable(t.STENCIL_TEST),t.stencilFunc(t.ALWAYS,1,0),t.stencilOp(t.KEEP,t.KEEP,t.REPLACE),t.colorMask(!1,!1,!1,!1),Ie[this._mask._renderer.type].render.call(this._mask,t,e,this),t.stencilFunc(t.EQUAL,1,255),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.colorMask(!0,!0,!0,!0)),l?(this._renderer.rect||(this._renderer.rect={}),this._renderer.opacity=this._opacity*r._renderer.opacity,Ie.text.getBoundingClientRect(this,this._renderer.rect),Ie.updateTexture.call(Ie,t,this)):(this._fill&&this._fill._update&&this._fill._update(),this._stroke&&this._stroke._update&&this._stroke._update()),this._clip&&!i||!this._renderer.texture)return this;e.current!==n&&(t.useProgram(n),t.bindBuffer(t.ARRAY_BUFFER,e.buffers.position),t.vertexAttribPointer(n.position,2,t.FLOAT,!1,0,0),t.enableVertexAttribArray(n.position),t.bufferData(t.ARRAY_BUFFER,Ne,t.STATIC_DRAW),e.resolution.flagged||t.uniform2f(t.getUniformLocation(n,"u_resolution"),e.resolution.width,e.resolution.height),e.current=n),e.resolution.flagged&&t.uniform2f(t.getUniformLocation(n,"u_resolution"),e.resolution.width,e.resolution.height),t.bindTexture(t.TEXTURE_2D,this._renderer.texture);var h=this._renderer.rect;return t.uniformMatrix3fv(n.matrix,!1,this._renderer.matrix),t.uniform4f(n.rect,h.left,h.top,h.right,h.bottom),t.drawArrays(t.TRIANGLES,0,6),this._mask&&t.disable(t.STENCIL_TEST),this.flagReset()}},"linear-gradient":{render:function(t,e){if(t.canvas.getContext("2d")){if(this._update(),!this._renderer.effect||this._flagEndPoints||this._flagStops||this._flagUnits){var i,r=this.left._x,n=this.left._y,s=this.right._x,a=this.right._y;/objectBoundingBox/i.test(this._units)&&(i=e.getBoundingClientRect(!0),r=(r-.5)*i.width,n=(n-.5)*i.height,s=(s-.5)*i.width,a=(a-.5)*i.height),this._renderer.effect=t.createLinearGradient(r,n,s,a);for(var o=0;o<this.stops.length;o++){var l=this.stops[o];this._renderer.effect.addColorStop(l._offset,l._color)}}return this.flagReset()}}},"radial-gradient":{render:function(t,e){if(t.canvas.getContext("2d")){if(this._update(),!this._renderer.effect||this._flagCenter||this._flagFocal||this._flagRadius||this._flagStops||this._flagUnits){var i,r=this.center._x,n=this.center._y,s=this.focal._x,a=this.focal._y;/objectBoundingBox/i.test(this._units)&&(i=e.getBoundingClientRect(!0),r=(r-.5)*i.width,n=(n-.5)*i.height,s=(s-.5)*i.width,a=(a-.5)*i.height),this._renderer.effect=t.createRadialGradient(r,n,0,s,a,this._radius);for(var o=0;o<this.stops.length;o++){var l=this.stops[o];this._renderer.effect.addColorStop(l._offset,l._color)}}return this.flagReset()}}},texture:{render:function(t,e){if(t.canvas.getContext("2d")){this._update();var i=this.image;if((this._flagLoaded||this._flagImage||this._flagVideo||this._flagRepeat)&&this.loaded)this._renderer.effect=t.createPattern(i,this._repeat);else if(!this._renderer.effect)return this.flagReset();return(this._flagOffset||this._flagLoaded||this._flagScale)&&(this._renderer.offset instanceof M||(this._renderer.offset=new M),this._renderer.offset.x=-this._offset.x,this._renderer.offset.y=-this._offset.y,i&&(this._renderer.offset.x+=i.width/2,this._renderer.offset.y+=i.height/2,this._scale instanceof M?(this._renderer.offset.x*=this._scale.x,this._renderer.offset.y*=this._scale.y):(this._renderer.offset.x*=this._scale,this._renderer.offset.y*=this._scale))),(this._flagScale||this._flagLoaded)&&(this._renderer.scale instanceof M||(this._renderer.scale=new M),this._scale instanceof M?this._renderer.scale.copy(this._scale):this._renderer.scale.set(this._scale,this._scale)),this.flagReset()}}},updateTexture:function(t,e){if(this[e._renderer.type].updateCanvas.call(Ie,e),this.canvas.width<=0||this.canvas.height<=0)return e._renderer.texture&&t.deleteTexture(e._renderer.texture),void delete e._renderer.texture;e._renderer.texture||(e._renderer.texture=t.createTexture()),t.bindTexture(t.TEXTURE_2D,e._renderer.texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,this.canvas)},program:{create:function(t,e){var i,r,n;if(i=t.createProgram(),w.each(e,(function(e){t.attachShader(i,e)})),t.linkProgram(i),r=t.getProgramParameter(i,t.LINK_STATUS),!r)throw n=t.getProgramInfoLog(i),t.deleteProgram(i),new At("unable to link program: "+n);return i}},TextureRegistry:new Mt};function Be(t){var e,i,r,n;if(this.domElement=t.domElement||document.createElement("canvas"),"undefined"!==typeof t.offscreenElement&&(Ie.canvas=t.offscreenElement,Ie.ctx=Ie.canvas.getContext("2d")),this.scene=new st,this.scene.parent=this,this._renderer={type:"renderer",matrix:new g(Fe),scale:1,opacity:1},this._flagMatrix=!0,t=w.defaults(t||{},{antialias:!1,alpha:!0,premultipliedAlpha:!0,stencil:!0,preserveDrawingBuffer:!0,overdraw:!1}),this.overdraw=t.overdraw,e=this.ctx=this.domElement.getContext("webgl",t)||this.domElement.getContext("experimental-webgl",t),!this.ctx)throw new At("unable to create a webgl context. Try using another renderer.");r=Ee.create(e,Ee.path.vertex,Ee.types.vertex),n=Ee.create(e,Ee.path.fragment,Ee.types.fragment),this.programs={current:null,buffers:{position:e.createBuffer()},resolution:{width:0,height:0,ratio:1,flagged:!1}},i=this.programs.path=Ie.program.create(e,[r,n]),this.programs.text=this.programs.path,i.position=e.getAttribLocation(i,"a_position"),i.matrix=e.getUniformLocation(i,"u_matrix"),i.rect=e.getUniformLocation(i,"u_rect");var s=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,s),e.vertexAttribPointer(i.position,2,e.FLOAT,!1,0,0),e.enableVertexAttribArray(i.position),e.bufferData(e.ARRAY_BUFFER,Ne,e.STATIC_DRAW),r=Ee.create(e,Ee.points.vertex,Ee.types.vertex),n=Ee.create(e,Ee.points.fragment,Ee.types.fragment),i=this.programs.points=Ie.program.create(e,[r,n]),i.position=e.getAttribLocation(i,"a_position"),i.matrix=e.getUniformLocation(i,"u_matrix"),i.size=e.getUniformLocation(i,"u_size"),e.enable(e.BLEND),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),e.blendEquation(e.FUNC_ADD),e.blendFunc(e.ONE,e.ONE_MINUS_SRC_ALPHA)}function Ve(t){var e=w.defaults(t||{},{fullscreen:!1,fitted:!1,width:640,height:480,type:Ve.Types.svg,autostart:!1});if(w.each(e,(function(t,e){/fullscreen/i.test(e)||/autostart/i.test(e)||(this[e]=t)}),this),w.isElement(e.domElement)){var i=e.domElement.tagName.toLowerCase();/^(CanvasRenderer-canvas|WebGLRenderer-canvas|SVGRenderer-svg)$/.test(this.type+"-"+i)||(this.type=Ve.Types[i])}this.renderer=new Ve[this.type](this),this.setPlaying(e.autostart),this.frameCount=0,e.fullscreen?(this.fit=ze.bind(this),this.fit.domElement=window,this.fit.attached=!0,w.extend(document.body.style,{overflow:"hidden",margin:0,padding:0,top:0,left:0,right:0,bottom:0,position:"fixed"}),w.extend(this.renderer.domElement.style,{display:"block",top:0,left:0,right:0,bottom:0,position:"fixed"}),wt.bind(this.fit.domElement,"resize",this.fit),this.fit()):e.fitted?(this.fit=Ue.bind(this),w.extend(this.renderer.domElement.style,{display:"block"})):w.isElement(e.domElement)||(this.renderer.setSize(e.width,e.height,this.ratio),this.width=e.width,this.height=e.height),this.renderer.bind(k.Types.resize,De.bind(this)),this.scene=this.renderer.scene,Ve.Instances.push(this),e.autostart&&$e.init()}function ze(){var t=document.body.getBoundingClientRect(),e=this.width=t.width,i=this.height=t.height;this.renderer.setSize(e,i,this.ratio)}function Ue(){var t=this.renderer.domElement.parentElement;if(t){var e=t.getBoundingClientRect(),i=this.width=e.width,r=this.height=e.height;this.renderer.setSize(i,r,this.ratio)}else console.warn("Two.js: Attempting to fit to parent, but no parent found.")}function De(t,e){this.width=t,this.height=e,this.trigger(k.Types.resize,t,e)}Ie.ctx=Ie.canvas.getContext("2d"),w.extend(Be,{Utils:Ie}),w.extend(Be.prototype,k,{constructor:Be,setSize:function(t,e,i){var r,n,s=this.ctx;return this.width=t,this.height=e,this.ratio="undefined"===typeof i?W(s):i,this.domElement.width=t*this.ratio,this.domElement.height=e*this.ratio,w.isObject(this.domElement.style)&&w.extend(this.domElement.style,{width:t+"px",height:e+"px"}),this._renderer.matrix[0]=this._renderer.matrix[4]=this._renderer.scale=this.ratio,this._flagMatrix=!0,r=t*this.ratio,n=e*this.ratio,s.viewport(0,0,r,n),this.programs.resolution.width=r,this.programs.resolution.height=n,this.programs.resolution.ratio=this.ratio,this.programs.resolution.flagged=!0,this.trigger(k.Types.resize,t,e,i)},render:function(){var t=this.ctx;return this.overdraw||t.clear(t.COLOR_BUFFER_BIT),Ie.group.render.call(this.scene,t,this.programs),this._flagMatrix=!1,this.programs.resolution.flagged=!0,this}}),w.extend(Ve,P),w.extend(Ve.prototype,k,{constructor:Ve,type:"",renderer:null,scene:null,width:0,height:0,frameCount:0,timeDelta:0,playing:!1,appendTo:function(t){return t.appendChild(this.renderer.domElement),this.fit&&(this.fit.domElement!==window&&(this.fit.domElement=t,this.fit.attached=!1),this.update()),this},play:function(){return this.playing=!0,$e.init(),this.trigger(k.Types.play)},pause:function(){return this.playing=!1,this.trigger(k.Types.pause)},setPlaying:function(t){this.playing=t},release:function(t){var e,i,r;if(!w.isObject(t))return this.release(this.scene);if("function"===typeof t.unbind&&t.unbind(),t.vertices)for("function"===typeof t.vertices.unbind&&t.vertices.unbind(),e=0;e<t.vertices.length;e++)i=t.vertices[e],"function"===typeof i.unbind&&i.unbind(),i.controls&&(i.controls.left&&"function"===typeof i.controls.left.unbind&&i.controls.left.unbind(),i.controls.right&&"function"===typeof i.controls.right.unbind&&i.controls.right.unbind());if(t.children){for(e=0;e<t.children.length;e++)r=t.children[e],this.release(r);"function"===typeof t.children.unbind&&t.children.unbind()}return t},update:function(){var t=!!this._lastFrame,e=w.performance.now();t&&(this.timeDelta=parseFloat((e-this._lastFrame).toFixed(3))),this._lastFrame=e,this.fit&&this.fit.domElement&&!this.fit.attached&&(wt.bind(this.fit.domElement,"resize",this.fit),this.fit.attached=!0,this.fit());var i=this.width,r=this.height,n=this.renderer;return i===n.width&&r===n.height||n.setSize(i,r,this.ratio),this.trigger(k.Types.update,this.frameCount,this.timeDelta),this.render()},render:function(){return this.renderer.render(),this.trigger(k.Types.render,this.frameCount++)},add:function(t){var e=t;return e instanceof Array||(e=Array.prototype.slice.call(arguments)),this.scene.add(e),this},remove:function(t){var e=t;return e instanceof Array||(e=Array.prototype.slice.call(arguments)),this.scene.remove(e),this},clear:function(){return this.scene.remove(this.scene.children),this},makeLine:function(t,e,i,r){var n=new Jt(t,e,i,r);return this.scene.add(n),n},makeArrow:function(t,e,i,r,s){var a="number"===typeof s?s:10,o=Math.atan2(r-e,i-t),l=[new E(t,e,void 0,void 0,void 0,void 0,n.move),new E(i,r,void 0,void 0,void 0,void 0,n.line),new E(i-a*Math.cos(o-Math.PI/4),r-a*Math.sin(o-Math.PI/4),void 0,void 0,void 0,void 0,n.line),new E(i,r,void 0,void 0,void 0,void 0,n.move),new E(i-a*Math.cos(o+Math.PI/4),r-a*Math.sin(o+Math.PI/4),void 0,void 0,void 0,void 0,n.line)],h=new Bt(l,!1,!1,!0);return h.noFill(),h.cap="round",h.join="round",this.scene.add(h),h},makeRectangle:function(t,e,i,r){var n=new $t(t,e,i,r);return this.scene.add(n),n},makeRoundedRectangle:function(t,e,i,r,n){var s=new Qt(t,e,i,r,n);return this.scene.add(s),s},makeCircle:function(t,e,i,r){var n=new Ht(t,e,i,r);return this.scene.add(n),n},makeEllipse:function(t,e,i,r,n){var s=new Kt(t,e,i,r,n);return this.scene.add(s),s},makeStar:function(t,e,i,r,n){var s=new Me(t,e,i,r,n);return this.scene.add(s),s},makeCurve:function(t){var e=arguments.length,i=t;if(!Array.isArray(t)){i=[];for(var r=0;r<e;r+=2){var n=arguments[r];if("number"!==typeof n)break;var s=arguments[r+1];i.push(new E(n,s))}}var a=arguments[e-1],o=new Bt(i,!("boolean"===typeof a?a:void 0),!0),l=o.getBoundingClientRect();return o.center().translation.set(l.left+l.width/2,l.top+l.height/2),this.scene.add(o),o},makePolygon:function(t,e,i,r){var n=new Ae(t,e,i,r);return this.scene.add(n),n},makeArcSegment:function(t,e,i,r,n,s,a){var o=new ve(t,e,i,r,n,s,a);return this.scene.add(o),o},makePoints:function(t){var e=arguments.length,i=t;if(!Array.isArray(t)){i=[];for(var r=0;r<e;r+=2){var n=arguments[r];if("number"!==typeof n)break;var s=arguments[r+1];i.push(new M(n,s))}}var a=new xe(i);return this.scene.add(a),a},makePath:function(t){var e=arguments.length,i=t;if(!Array.isArray(t)){i=[];for(var r=0;r<e;r+=2){var n=arguments[r];if("number"!==typeof n)break;var s=arguments[r+1];i.push(new E(n,s))}}var a=arguments[e-1],o=new Bt(i,!("boolean"===typeof a?a:void 0)),l=o.getBoundingClientRect();return"number"===typeof l.top&&"number"===typeof l.left&&"number"===typeof l.right&&"number"===typeof l.bottom&&o.center().translation.set(l.left+l.width/2,l.top+l.height/2),this.scene.add(o),o},makeText:function(t,e,i,r){var n=new ee(t,e,i,r);return this.add(n),n},makeLinearGradient:function(t,e,i,r){var n=Array.prototype.slice.call(arguments,4),s=new jt(t,e,i,r,n);return this.add(s),s},makeRadialGradient:function(t,e,i){var r=Array.prototype.slice.call(arguments,3),n=new Et(t,e,i,r);return this.add(n),n},makeSprite:function(t,e,i,r,n,s,a){var o=new Yt(t,e,i,r,n,s);return a&&o.play(),this.add(o),o},makeImageSequence:function(t,e,i,r,n){var s=new me(t,e,i,r);return n&&s.play(),this.add(s),s},makeTexture:function(t,e){var i=new Ft(t,e);return i},makeGroup:function(t){var e=t;e instanceof Array||(e=Array.prototype.slice.call(arguments));var i=new st;return this.scene.add(i),i.add(e),i},interpret:function(t,e,i){var r=t.tagName.toLowerCase();if(i="undefined"===typeof i||i,!(r in _e))return null;var n=_e[r].call(this,t);return i?this.add(e&&n instanceof st?n.children:n):n.parent&&n.remove(),n},load:function(t,e){var i,r,n,s=new st,a=function(t){for(wt.temp.innerHTML=t,r=0;r<wt.temp.children.length;r++)i=wt.temp.children[r],n=this.interpret(i,!1,!1),null!==n&&s.add(n);if("function"===typeof e){var a=wt.temp.children.length<=1?wt.temp.children[0]:wt.temp.children;e(s,a)}}.bind(this);return/.*\.svg/gi.test(t)?(ge(t,a),s):(a(t),s)}});var $e=wt.getRequestAnimationFrame();function Ye(){for(var t=0;t<Ve.Instances.length;t++){var e=Ve.Instances[t];e.playing&&e.update()}Ve.nextFrameID=$e(Ye)}$e.init=function(){Ye(),$e.init=function(){}},w.extend(Ve,{Anchor:E,Collection:et,Events:k,Group:st,Matrix:Z,Path:Bt,Registry:Mt,Shape:tt,Text:ee,Vector:M,Gradient:Tt,ImageSequence:me,LinearGradient:jt,RadialGradient:Et,Sprite:Yt,Stop:Ct,Texture:Ft,ArcSegment:ve,Circle:Ht,Ellipse:Kt,Line:Jt,Points:xe,Polygon:Ae,Rectangle:$t,RoundedRectangle:Qt,Star:Me,CanvasRenderer:vt,SVGRenderer:je,WebGLRenderer:Be,Commands:n,Utils:w.extend({Error:At,getRatio:W,defineGetterSetter:Ot,read:_e,xhr:ge},w,xt,X,y)})}).call(this,i("c8ba"))},f861:function(t,e,i){var r=i("24fb");e=r(!1),e.push([t.i,".vue-dat-gui .control-item.number .control .slider{-webkit-box-flex:0;-ms-flex:0 0 100px;flex:0 0 100px;width:100px}.output{padding:1em;margin:1em 6em}#draw-shapes,.output{border:2px solid #000;text-align:left}#draw-shapes{margin:1em auto;width:600px}",""]),t.exports=e}});
//# sourceMappingURL=exp-04.min.js.map