(function(t){var e={};function i(r){if(e[r])return e[r].exports;var n=e[r]={i:r,l:!1,exports:{}};return t[r].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=e,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(r,n,function(e){return t[e]}.bind(null,n));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s="5a74")})({2247:function(t,e,i){t.exports=function(t){var e={};function i(r){if(e[r])return e[r].exports;var n=e[r]={i:r,l:!1,exports:{}};return t[r].call(n.exports,n,n.exports,i),n.l=!0,n.exports}return i.m=t,i.c=e,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(r,n,function(e){return t[e]}.bind(null,n));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s="fb15")}({"00fd":function(t,e,i){var r=i("9e69"),n=Object.prototype,s=n.hasOwnProperty,a=n.toString,o=r?r.toStringTag:void 0;function l(t){var e=s.call(t,o),i=t[o];try{t[o]=void 0;var r=!0}catch(l){}var n=a.call(t);return r&&(e?t[o]=i:delete t[o]),n}t.exports=l},"0112":function(t,e,i){var r=i("b95f");"string"===typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);var n=i("499e").default;n("1edb2883",r,!0,{sourceMap:!1,shadowMode:!1})},"03dd":function(t,e,i){var r=i("eac5"),n=i("57a5"),s=Object.prototype,a=s.hasOwnProperty;function o(t){if(!r(t))return n(t);var e=[];for(var i in Object(t))a.call(t,i)&&"constructor"!=i&&e.push(i);return e}t.exports=o},"07c7":function(t,e){function i(){return!1}t.exports=i},"087d":function(t,e){function i(t,e){var i=-1,r=e.length,n=t.length;while(++i<r)t[n+i]=e[i];return t}t.exports=i},"09e4":function(t,e){var i=NaN,r="[object Symbol]",n=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,o=/^0o[0-7]+$/i,l=parseInt,h=Object.prototype,c=h.toString;function u(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function f(t){return!!t&&"object"==typeof t}function d(t){return"symbol"==typeof t||f(t)&&c.call(t)==r}function _(t){if("number"==typeof t)return t;if(d(t))return i;if(u(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=u(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(n,"");var r=a.test(t);return r||o.test(t)?l(t.slice(2),r?2:8):s.test(t)?i:+t}t.exports=_},"0b07":function(t,e,i){var r=i("34ac"),n=i("3698");function s(t,e){var i=n(t,e);return r(i)?i:void 0}t.exports=s},"0d24":function(t,e,i){(function(t){var r=i("2b3e"),n=i("07c7"),s=e&&!e.nodeType&&e,a=s&&"object"==typeof t&&t&&!t.nodeType&&t,o=a&&a.exports===s,l=o?r.Buffer:void 0,h=l?l.isBuffer:void 0,c=h||n;t.exports=c}).call(this,i("62e4")(t))},"0d58":function(t,e,i){var r=i("ce10"),n=i("e11e");t.exports=Object.keys||function(t){return r(t,n)}},"0f32":function(t,e,i){var r=i("b047"),n=i("1a8c"),s="Expected a function";function a(t,e,i){var a=!0,o=!0;if("function"!=typeof t)throw new TypeError(s);return n(i)&&(a="leading"in i?!!i.leading:a,o="trailing"in i?!!i.trailing:o),r(t,e,{leading:a,maxWait:e,trailing:o})}t.exports=a},"11e9":function(t,e,i){var r=i("52a7"),n=i("4630"),s=i("6821"),a=i("6a99"),o=i("69a8"),l=i("c69a"),h=Object.getOwnPropertyDescriptor;e.f=i("9e1e")?h:function(t,e){if(t=s(t),e=a(e,!0),l)try{return h(t,e)}catch(i){}if(o(t,e))return n(!r.f.call(t,e),t[e])}},1290:function(t,e){function i(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}t.exports=i},1310:function(t,e){function i(t){return null!=t&&"object"==typeof t}t.exports=i},1368:function(t,e,i){var r=i("da03"),n=function(){var t=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function s(t){return!!n&&n in t}t.exports=s},1495:function(t,e,i){var r=i("86cc"),n=i("cb7c"),s=i("0d58");t.exports=i("9e1e")?Object.defineProperties:function(t,e){n(t);var i,a=s(e),o=a.length,l=0;while(o>l)r.f(t,i=a[l++],e[i]);return t}},"1a8c":function(t,e){function i(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}t.exports=i},"1c3c":function(t,e,i){var r=i("9e69"),n=i("2474"),s=i("9638"),a=i("a2be"),o=i("edfa"),l=i("ac41"),h=1,c=2,u="[object Boolean]",f="[object Date]",d="[object Error]",_="[object Map]",p="[object Number]",g="[object RegExp]",m="[object Set]",b="[object String]",y="[object Symbol]",v="[object ArrayBuffer]",x="[object DataView]",w=r?r.prototype:void 0,k=w?w.valueOf:void 0;function A(t,e,i,r,w,A,S){switch(i){case x:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case v:return!(t.byteLength!=e.byteLength||!A(new n(t),new n(e)));case u:case f:case p:return s(+t,+e);case d:return t.name==e.name&&t.message==e.message;case g:case b:return t==e+"";case _:var E=o;case m:var R=r&h;if(E||(E=l),t.size!=e.size&&!R)return!1;var C=S.get(t);if(C)return C==e;r|=c,S.set(t,e);var T=a(E(t),E(e),r,w,A,S);return S["delete"](t),T;case y:if(k)return k.call(t)==k.call(e)}return!1}t.exports=A},"1cec":function(t,e,i){var r=i("0b07"),n=i("2b3e"),s=r(n,"Promise");t.exports=s},"1efc":function(t,e){function i(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}t.exports=i},"1fc8":function(t,e,i){var r=i("4245");function n(t,e){var i=r(this,t),n=i.size;return i.set(t,e),this.size+=i.size==n?0:1,this}t.exports=n},"230e":function(t,e,i){var r=i("d3f4"),n=i("7726").document,s=r(n)&&r(n.createElement);t.exports=function(t){return s?n.createElement(t):{}}},2350:function(t,e){function i(t,e){var i=t[1]||"",n=t[3];if(!n)return i;if(e&&"function"===typeof btoa){var s=r(n),a=n.sources.map((function(t){return"/*# sourceURL="+n.sourceRoot+t+" */"}));return[i].concat(a).concat([s]).join("\n")}return[i].join("\n")}function r(t){var e=btoa(unescape(encodeURIComponent(JSON.stringify(t)))),i="sourceMappingURL=data:application/json;charset=utf-8;base64,"+e;return"/*# "+i+" */"}t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var r=i(e,t);return e[2]?"@media "+e[2]+"{"+r+"}":r})).join("")},e.i=function(t,i){"string"===typeof t&&(t=[[null,t,""]]);for(var r={},n=0;n<this.length;n++){var s=this[n][0];"number"===typeof s&&(r[s]=!0)}for(n=0;n<t.length;n++){var a=t[n];"number"===typeof a[0]&&r[a[0]]||(i&&!a[2]?a[2]=i:i&&(a[2]="("+a[2]+") and ("+i+")"),e.push(a))}},e}},2474:function(t,e,i){var r=i("2b3e"),n=r.Uint8Array;t.exports=n},2478:function(t,e,i){var r=i("4245");function n(t){return r(this,t).get(t)}t.exports=n},"251f":function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,".w-100{width:100%}.vue-dat-gui .slider{height:25px;display:block;position:relative;cursor:ew-resize;border:1px solid #1a1a1a;background-color:#303030;background-image:-webkit-gradient(linear,left top,right top,from(#2fa1d6),to(#2fa1d6));background-image:linear-gradient(90deg,#2fa1d6,#2fa1d6);background-size:0 100%;background-repeat:no-repeat}",""])},2524:function(t,e,i){var r=i("6044"),n="__lodash_hash_undefined__";function s(t,e){var i=this.__data__;return this.size+=this.has(t)?0:1,i[t]=r&&void 0===e?n:e,this}t.exports=s},"253c":function(t,e,i){var r=i("3729"),n=i("1310"),s="[object Arguments]";function a(t){return n(t)&&r(t)==s}t.exports=a},"28c9":function(t,e){function i(){this.__data__=[],this.size=0}t.exports=i},"29f3":function(t,e){var i=Object.prototype,r=i.toString;function n(t){return r.call(t)}t.exports=n},"2aba":function(t,e,i){var r=i("7726"),n=i("32e9"),s=i("69a8"),a=i("ca5a")("src"),o=i("fa5b"),l="toString",h=(""+o).split(l);i("8378").inspectSource=function(t){return o.call(t)},(t.exports=function(t,e,i,o){var l="function"==typeof i;l&&(s(i,"name")||n(i,"name",e)),t[e]!==i&&(l&&(s(i,a)||n(i,a,t[e]?""+t[e]:h.join(String(e)))),t===r?t[e]=i:o?t[e]?t[e]=i:n(t,e,i):(delete t[e],n(t,e,i)))})(Function.prototype,l,(function(){return"function"==typeof this&&this[a]||o.call(this)}))},"2aeb":function(t,e,i){var r=i("cb7c"),n=i("1495"),s=i("e11e"),a=i("613b")("IE_PROTO"),o=function(){},l="prototype",h=function(){var t,e=i("230e")("iframe"),r=s.length,n="<",a=">";e.style.display="none",i("fab2").appendChild(e),e.src="javascript:",t=e.contentWindow.document,t.open(),t.write(n+"script"+a+"document.F=Object"+n+"/script"+a),t.close(),h=t.F;while(r--)delete h[l][s[r]];return h()};t.exports=Object.create||function(t,e){var i;return null!==t?(o[l]=r(t),i=new o,o[l]=null,i[a]=t):i=h(),void 0===e?i:n(i,e)}},"2b3e":function(t,e,i){var r=i("585a"),n="object"==typeof self&&self&&self.Object===Object&&self,s=r||n||Function("return this")();t.exports=s},"2d00":function(t,e){t.exports=!1},"2d7c":function(t,e){function i(t,e){var i=-1,r=null==t?0:t.length,n=0,s=[];while(++i<r){var a=t[i];e(a,i,t)&&(s[n++]=a)}return s}t.exports=i},"2d95":function(t,e){var i={}.toString;t.exports=function(t){return i.call(t).slice(8,-1)}},"2fcc":function(t,e){function i(t){var e=this.__data__,i=e["delete"](t);return this.size=e.size,i}t.exports=i},"30c9":function(t,e,i){var r=i("9520"),n=i("b218");function s(t){return null!=t&&n(t.length)&&!r(t)}t.exports=s},"32e9":function(t,e,i){var r=i("86cc"),n=i("4630");t.exports=i("9e1e")?function(t,e,i){return r.f(t,e,n(1,i))}:function(t,e,i){return t[e]=i,t}},"32f4":function(t,e,i){var r=i("2d7c"),n=i("d327"),s=Object.prototype,a=s.propertyIsEnumerable,o=Object.getOwnPropertySymbols,l=o?function(t){return null==t?[]:(t=Object(t),r(o(t),(function(e){return a.call(t,e)})))}:n;t.exports=l},"34ac":function(t,e,i){var r=i("9520"),n=i("1368"),s=i("1a8c"),a=i("dc57"),o=/[\\^$.*+?()[\]{}|]/g,l=/^\[object .+?Constructor\]$/,h=Function.prototype,c=Object.prototype,u=h.toString,f=c.hasOwnProperty,d=RegExp("^"+u.call(f).replace(o,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function _(t){if(!s(t)||n(t))return!1;var e=r(t)?d:l;return e.test(a(t))}t.exports=_},3698:function(t,e){function i(t,e){return null==t?void 0:t[e]}t.exports=i},3729:function(t,e,i){var r=i("9e69"),n=i("00fd"),s=i("29f3"),a="[object Null]",o="[object Undefined]",l=r?r.toStringTag:void 0;function h(t){return null==t?void 0===t?o:a:l&&l in Object(t)?n(t):s(t)}t.exports=h},"39ff":function(t,e,i){var r=i("0b07"),n=i("2b3e"),s=r(n,"WeakMap");t.exports=s},"408c":function(t,e,i){var r=i("2b3e"),n=function(){return r.Date.now()};t.exports=n},"40b3":function(t,e,i){var r=i("251f");"string"===typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);var n=i("499e").default;n("c94d2718",r,!0,{sourceMap:!1,shadowMode:!1})},4245:function(t,e,i){var r=i("1290");function n(t,e){var i=t.__data__;return r(e)?i["string"==typeof e?"string":"hash"]:i.map}t.exports=n},4284:function(t,e){function i(t,e){var i=-1,r=null==t?0:t.length;while(++i<r)if(e(t[i],i,t))return!0;return!1}t.exports=i},"42a2":function(t,e,i){var r=i("b5a7"),n=i("79bc"),s=i("1cec"),a=i("c869"),o=i("39ff"),l=i("3729"),h=i("dc57"),c="[object Map]",u="[object Object]",f="[object Promise]",d="[object Set]",_="[object WeakMap]",p="[object DataView]",g=h(r),m=h(n),b=h(s),y=h(a),v=h(o),x=l;(r&&x(new r(new ArrayBuffer(1)))!=p||n&&x(new n)!=c||s&&x(s.resolve())!=f||a&&x(new a)!=d||o&&x(new o)!=_)&&(x=function(t){var e=l(t),i=e==u?t.constructor:void 0,r=i?h(i):"";if(r)switch(r){case g:return p;case m:return c;case b:return f;case y:return d;case v:return _}return e}),t.exports=x},4588:function(t,e){var i=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:i)(t)}},4630:function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},"499e":function(t,e,i){"use strict";function r(t,e){for(var i=[],r={},n=0;n<e.length;n++){var s=e[n],a=s[0],o=s[1],l=s[2],h=s[3],c={id:t+":"+n,css:o,media:l,sourceMap:h};r[a]?r[a].parts.push(c):i.push(r[a]={id:a,parts:[c]})}return i}i.r(e),i.d(e,"default",(function(){return _}));var n="undefined"!==typeof document;if("undefined"!==typeof DEBUG&&DEBUG&&!n)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var s={},a=n&&(document.head||document.getElementsByTagName("head")[0]),o=null,l=0,h=!1,c=function(){},u=null,f="data-vue-ssr-id",d="undefined"!==typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function _(t,e,i,n){h=i,u=n||{};var a=r(t,e);return p(a),function(e){for(var i=[],n=0;n<a.length;n++){var o=a[n],l=s[o.id];l.refs--,i.push(l)}e?(a=r(t,e),p(a)):a=[];for(n=0;n<i.length;n++){l=i[n];if(0===l.refs){for(var h=0;h<l.parts.length;h++)l.parts[h]();delete s[l.id]}}}}function p(t){for(var e=0;e<t.length;e++){var i=t[e],r=s[i.id];if(r){r.refs++;for(var n=0;n<r.parts.length;n++)r.parts[n](i.parts[n]);for(;n<i.parts.length;n++)r.parts.push(m(i.parts[n]));r.parts.length>i.parts.length&&(r.parts.length=i.parts.length)}else{var a=[];for(n=0;n<i.parts.length;n++)a.push(m(i.parts[n]));s[i.id]={id:i.id,refs:1,parts:a}}}}function g(){var t=document.createElement("style");return t.type="text/css",a.appendChild(t),t}function m(t){var e,i,r=document.querySelector("style["+f+'~="'+t.id+'"]');if(r){if(h)return c;r.parentNode.removeChild(r)}if(d){var n=l++;r=o||(o=g()),e=y.bind(null,r,n,!1),i=y.bind(null,r,n,!0)}else r=g(),e=v.bind(null,r),i=function(){r.parentNode.removeChild(r)};return e(t),function(r){if(r){if(r.css===t.css&&r.media===t.media&&r.sourceMap===t.sourceMap)return;e(t=r)}else i()}}var b=function(){var t=[];return function(e,i){return t[e]=i,t.filter(Boolean).join("\n")}}();function y(t,e,i,r){var n=i?"":r.css;if(t.styleSheet)t.styleSheet.cssText=b(e,n);else{var s=document.createTextNode(n),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(s,a[e]):t.appendChild(s)}}function v(t,e){var i=e.css,r=e.media,n=e.sourceMap;if(r&&t.setAttribute("media",r),u.ssrId&&t.setAttribute(f,e.id),n&&(i+="\n/*# sourceURL="+n.sources[0]+" */",i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */"),t.styleSheet)t.styleSheet.cssText=i;else{while(t.firstChild)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(i))}}},"49f4":function(t,e,i){var r=i("6044");function n(){this.__data__=r?r(null):{},this.size=0}t.exports=n},"50d8":function(t,e){function i(t,e){var i=-1,r=Array(t);while(++i<t)r[i]=e(i);return r}t.exports=i},"52a7":function(t,e){e.f={}.propertyIsEnumerable},5537:function(t,e,i){var r=i("8378"),n=i("7726"),s="__core-js_shared__",a=n[s]||(n[s]={});(t.exports=function(t,e){return a[t]||(a[t]=void 0!==e?e:{})})("versions",[]).push({version:r.version,mode:i("2d00")?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},"55a3":function(t,e){function i(t){return this.__data__.has(t)}t.exports=i},"57a5":function(t,e,i){var r=i("91e9"),n=r(Object.keys,Object);t.exports=n},"585a":function(t,e,i){(function(e){var i="object"==typeof e&&e&&e.Object===Object&&e;t.exports=i}).call(this,i("c8ba"))},"5ca1":function(t,e,i){var r=i("7726"),n=i("8378"),s=i("32e9"),a=i("2aba"),o=i("9b43"),l="prototype",h=function(t,e,i){var c,u,f,d,_=t&h.F,p=t&h.G,g=t&h.S,m=t&h.P,b=t&h.B,y=p?r:g?r[e]||(r[e]={}):(r[e]||{})[l],v=p?n:n[e]||(n[e]={}),x=v[l]||(v[l]={});for(c in p&&(i=e),i)u=!_&&y&&void 0!==y[c],f=(u?y:i)[c],d=b&&u?o(f,r):m&&"function"==typeof f?o(Function.call,f):f,y&&a(y,c,f,t&h.U),v[c]!=f&&s(v,c,d),m&&x[c]!=f&&(x[c]=f)};r.core=n,h.F=1,h.G=2,h.S=4,h.P=8,h.B=16,h.W=32,h.U=64,h.R=128,t.exports=h},"5dbc":function(t,e,i){var r=i("d3f4"),n=i("8b97").set;t.exports=function(t,e,i){var s,a=e.constructor;return a!==i&&"function"==typeof a&&(s=a.prototype)!==i.prototype&&r(s)&&n&&n(t,s),t}},"5e2e":function(t,e,i){var r=i("28c9"),n=i("69d5"),s=i("b4c0"),a=i("fba5"),o=i("67ca");function l(t){var e=-1,i=null==t?0:t.length;this.clear();while(++e<i){var r=t[e];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype["delete"]=n,l.prototype.get=s,l.prototype.has=a,l.prototype.set=o,t.exports=l},6044:function(t,e,i){var r=i("0b07"),n=r(Object,"create");t.exports=n},"613b":function(t,e,i){var r=i("5537")("keys"),n=i("ca5a");t.exports=function(t){return r[t]||(r[t]=n(t))}},"626a":function(t,e,i){var r=i("2d95");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},"62e4":function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},"63ea":function(t,e,i){var r=i("c05f");function n(t,e){return r(t,e)}t.exports=n},6747:function(t,e){var i=Array.isArray;t.exports=i},"67ca":function(t,e,i){var r=i("cb5a");function n(t,e){var i=this.__data__,n=r(i,t);return n<0?(++this.size,i.push([t,e])):i[n][1]=e,this}t.exports=n},6821:function(t,e,i){var r=i("626a"),n=i("be13");t.exports=function(t){return r(n(t))}},"69a8":function(t,e){var i={}.hasOwnProperty;t.exports=function(t,e){return i.call(t,e)}},"69d5":function(t,e,i){var r=i("cb5a"),n=Array.prototype,s=n.splice;function a(t){var e=this.__data__,i=r(e,t);if(i<0)return!1;var n=e.length-1;return i==n?e.pop():s.call(e,i,1),--this.size,!0}t.exports=a},"6a99":function(t,e,i){var r=i("d3f4");t.exports=function(t,e){if(!r(t))return t;var i,n;if(e&&"function"==typeof(i=t.toString)&&!r(n=i.call(t)))return n;if("function"==typeof(i=t.valueOf)&&!r(n=i.call(t)))return n;if(!e&&"function"==typeof(i=t.toString)&&!r(n=i.call(t)))return n;throw TypeError("Can't convert object to primitive value")}},"6cc6":function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,".w-100{width:100%}.vue-dat-gui{position:fixed;top:0;right:20px;width:245px;font-size:12px;font-family:sans-serif;color:#eee}.vue-dat-gui.closed ul{display:none}.vue-dat-gui .toggle-button{text-align:center;line-height:19px;height:20px;cursor:pointer;background-color:#1a1a1a}.vue-dat-gui .toggle-button:hover{background-color:#272727}.vue-dat-gui .group{overflow:hidden}.vue-dat-gui .group ul{margin:0;padding:0}.vue-dat-gui .group li:not(.folder){cursor:auto;height:27px;line-height:27px;overflow:hidden;padding:0 4px 0 5px;border-bottom:1px solid #272727}.vue-dat-gui .group.group--main>ul{max-height:50vh;overflow-y:auto}.vue-dat-gui .group.group--main>ul::-webkit-scrollbar{width:5px;background:#1a1a1a}.vue-dat-gui .group.group--main>ul::-webkit-scrollbar-corner{height:0;display:none}.vue-dat-gui .group.group--main>ul::-webkit-scrollbar-thumb{border-radius:5px;background:#676767}.vue-dat-gui .control-item{background-color:#1a1a1a;border-left:5px solid}.vue-dat-gui .control-item.boolean{border-left-color:#806787}.vue-dat-gui .control-item.boolean .control{text-align:center}.vue-dat-gui .control-item.button{border-left-color:#e61d5f}.vue-dat-gui .control-item.number{border-left-color:#2fa1d6}.vue-dat-gui .control-item.select{border-left-color:#f4d450}.vue-dat-gui .control-item.string{border-left-color:#1ed36f}.vue-dat-gui .control-item.color{border-left-color:#1a1a1a}.vue-dat-gui .control-item.boolean:hover,.vue-dat-gui .control-item.button:hover{background:#111}.vue-dat-gui .control-item.boolean label,.vue-dat-gui .control-item.button label{cursor:pointer}.vue-dat-gui .control-item label{display:-webkit-box;display:-ms-flexbox;display:flex;padding:0 0 0 5px}.vue-dat-gui .control-item .label-text{width:40%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;text-align:left}.vue-dat-gui .control-item .control{float:left;width:60%}.vue-dat-gui .control-item .control>input[type=number],.vue-dat-gui .control-item .control>input[type=text]{background:#303030;border:1px solid #1a1a1a;border-radius:0;width:100%;padding:4px;margin:0;outline:none;font-size:inherit}.vue-dat-gui .control-item .control>input[type=number]::-ms-clear,.vue-dat-gui .control-item .control>input[type=text]::-ms-clear{display:none}.vue-dat-gui .control-item .control>input[type=number]:hover,.vue-dat-gui .control-item .control>input[type=text]:hover{background:#3c3c3c}.vue-dat-gui .control-item .control>input[type=number]:focus,.vue-dat-gui .control-item .control>input[type=text]:focus{background:#494949;color:#fff}.vue-dat-gui .control-item .control>input[type=text]{color:#1ed36f}.vue-dat-gui .control-item .control>input[type=number]{color:#2fa1d6}.vue-dat-gui .control-item .control:hover .selector,.vue-dat-gui .control-item .selector.drag{display:block}",""])},"6d57":function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,".w-100{width:100%}.vue-dat-gui .control-item.color input[type=text]{text-align:center}.vue-dat-gui .control-item.color .control>div{position:absolute;right:0;width:200px;z-index:1}",""])},"6e6b":function(t,e){var i=NaN,r="[object Symbol]",n=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,o=/^0o[0-7]+$/i,l=parseInt,h=Object.prototype,c=h.toString;function u(t,e,i){return t===t&&(void 0!==i&&(t=t<=i?t:i),void 0!==e&&(t=t>=e?t:e)),t}function f(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function d(t){return!!t&&"object"==typeof t}function _(t){return"symbol"==typeof t||d(t)&&c.call(t)==r}function p(t){if("number"==typeof t)return t;if(_(t))return i;if(f(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=f(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(n,"");var r=a.test(t);return r||o.test(t)?l(t.slice(2),r?2:8):s.test(t)?i:+t}function g(t,e,i){return void 0===i&&(i=e,e=void 0),void 0!==i&&(i=p(i),i=i===i?i:0),void 0!==e&&(e=p(e),e=e===e?e:0),u(p(t),e,i)}t.exports=g},"6fcd":function(t,e,i){var r=i("50d8"),n=i("d370"),s=i("6747"),a=i("0d24"),o=i("c098"),l=i("73ac"),h=Object.prototype,c=h.hasOwnProperty;function u(t,e){var i=s(t),h=!i&&n(t),u=!i&&!h&&a(t),f=!i&&!h&&!u&&l(t),d=i||h||u||f,_=d?r(t.length,String):[],p=_.length;for(var g in t)!e&&!c.call(t,g)||d&&("length"==g||u&&("offset"==g||"parent"==g)||f&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||o(g,p))||_.push(g);return _}t.exports=u},"73ac":function(t,e,i){var r=i("743f"),n=i("b047f"),s=i("99d3"),a=s&&s.isTypedArray,o=a?n(a):r;t.exports=o},"743f":function(t,e,i){var r=i("3729"),n=i("b218"),s=i("1310"),a="[object Arguments]",o="[object Array]",l="[object Boolean]",h="[object Date]",c="[object Error]",u="[object Function]",f="[object Map]",d="[object Number]",_="[object Object]",p="[object RegExp]",g="[object Set]",m="[object String]",b="[object WeakMap]",y="[object ArrayBuffer]",v="[object DataView]",x="[object Float32Array]",w="[object Float64Array]",k="[object Int8Array]",A="[object Int16Array]",S="[object Int32Array]",E="[object Uint8Array]",R="[object Uint8ClampedArray]",C="[object Uint16Array]",T="[object Uint32Array]",M={};function O(t){return s(t)&&n(t.length)&&!!M[r(t)]}M[x]=M[w]=M[k]=M[A]=M[S]=M[E]=M[R]=M[C]=M[T]=!0,M[a]=M[o]=M[y]=M[l]=M[v]=M[h]=M[c]=M[u]=M[f]=M[d]=M[_]=M[p]=M[g]=M[m]=M[b]=!1,t.exports=O},7726:function(t,e){var i=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=i)},"77f1":function(t,e,i){var r=i("4588"),n=Math.max,s=Math.min;t.exports=function(t,e){return t=r(t),t<0?n(t+e,0):s(t,e)}},"79bc":function(t,e,i){var r=i("0b07"),n=i("2b3e"),s=r(n,"Map");t.exports=s},"79e5":function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},"7a48":function(t,e,i){var r=i("6044"),n=Object.prototype,s=n.hasOwnProperty;function a(t){var e=this.__data__;return r?void 0!==e[t]:s.call(e,t)}t.exports=a},"7b83":function(t,e,i){var r=i("7c64"),n=i("93ed"),s=i("2478"),a=i("a524"),o=i("1fc8");function l(t){var e=-1,i=null==t?0:t.length;this.clear();while(++e<i){var r=t[e];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype["delete"]=n,l.prototype.get=s,l.prototype.has=a,l.prototype.set=o,t.exports=l},"7b97":function(t,e,i){var r=i("7e64"),n=i("a2be"),s=i("1c3c"),a=i("b1e5"),o=i("42a2"),l=i("6747"),h=i("0d24"),c=i("73ac"),u=1,f="[object Arguments]",d="[object Array]",_="[object Object]",p=Object.prototype,g=p.hasOwnProperty;function m(t,e,i,p,m,b){var y=l(t),v=l(e),x=y?d:o(t),w=v?d:o(e);x=x==f?_:x,w=w==f?_:w;var k=x==_,A=w==_,S=x==w;if(S&&h(t)){if(!h(e))return!1;y=!0,k=!1}if(S&&!k)return b||(b=new r),y||c(t)?n(t,e,i,p,m,b):s(t,e,x,i,p,m,b);if(!(i&u)){var E=k&&g.call(t,"__wrapped__"),R=A&&g.call(e,"__wrapped__");if(E||R){var C=E?t.value():t,T=R?e.value():e;return b||(b=new r),m(C,T,i,p,b)}}return!!S&&(b||(b=new r),a(t,e,i,p,m,b))}t.exports=m},"7c64":function(t,e,i){var r=i("e24b"),n=i("5e2e"),s=i("79bc");function a(){this.size=0,this.__data__={hash:new r,map:new(s||n),string:new r}}t.exports=a},"7d1f":function(t,e,i){var r=i("087d"),n=i("6747");function s(t,e,i){var s=e(t);return n(t)?s:r(s,i(t))}t.exports=s},"7e64":function(t,e,i){var r=i("5e2e"),n=i("efb6"),s=i("2fcc"),a=i("802a"),o=i("55a3"),l=i("d02c");function h(t){var e=this.__data__=new r(t);this.size=e.size}h.prototype.clear=n,h.prototype["delete"]=s,h.prototype.get=a,h.prototype.has=o,h.prototype.set=l,t.exports=h},"7ed2":function(t,e){var i="__lodash_hash_undefined__";function r(t){return this.__data__.set(t,i),this}t.exports=r},"7f7f":function(t,e,i){var r=i("86cc").f,n=Function.prototype,s=/^\s*function ([^ (]*)/,a="name";a in n||i("9e1e")&&r(n,a,{configurable:!0,get:function(){try{return(""+this).match(s)[1]}catch(t){return""}}})},"802a":function(t,e){function i(t){return this.__data__.get(t)}t.exports=i},8378:function(t,e){var i=t.exports={version:"2.6.5"};"number"==typeof __e&&(__e=i)},8384:function(t,e){function i(t,e,i){return t===t&&(void 0!==i&&(t=t<=i?t:i),void 0!==e&&(t=t>=e?t:e)),t}t.exports=i},"83a0":function(t,e,i){var r=i("6cc6");"string"===typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);var n=i("499e").default;n("0540ec32",r,!0,{sourceMap:!1,shadowMode:!1})},"86cc":function(t,e,i){var r=i("cb7c"),n=i("c69a"),s=i("6a99"),a=Object.defineProperty;e.f=i("9e1e")?Object.defineProperty:function(t,e,i){if(r(t),e=s(e,!0),r(i),n)try{return a(t,e,i)}catch(o){}if("get"in i||"set"in i)throw TypeError("Accessors not supported!");return"value"in i&&(t[e]=i.value),t}},"8b97":function(t,e,i){var r=i("d3f4"),n=i("cb7c"),s=function(t,e){if(n(t),!r(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,r){try{r=i("9b43")(Function.call,i("11e9").f(Object.prototype,"__proto__").set,2),r(t,[]),e=!(t instanceof Array)}catch(n){e=!0}return function(t,i){return s(t,i),e?t.__proto__=i:r(t,i),t}}({},!1):void 0),check:s}},9093:function(t,e,i){var r=i("ce10"),n=i("e11e").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,n)}},"90c4":function(t,e,i){var r=i("fe0f");"string"===typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);var n=i("499e").default;n("31b8b88d",r,!0,{sourceMap:!1,shadowMode:!1})},"91e9":function(t,e){function i(t,e){return function(i){return t(e(i))}}t.exports=i},9260:function(t,e,i){"use strict";var r=i("83a0"),n=i.n(r);n.a},"93ed":function(t,e,i){var r=i("4245");function n(t){var e=r(this,t)["delete"](t);return this.size-=e?1:0,e}t.exports=n},9520:function(t,e,i){var r=i("3729"),n=i("1a8c"),s="[object AsyncFunction]",a="[object Function]",o="[object GeneratorFunction]",l="[object Proxy]";function h(t){if(!n(t))return!1;var e=r(t);return e==a||e==o||e==s||e==l}t.exports=h},9638:function(t,e){function i(t,e){return t===e||t!==t&&e!==e}t.exports=i},"99d3":function(t,e,i){(function(t){var r=i("585a"),n=e&&!e.nodeType&&e,s=n&&"object"==typeof t&&t&&!t.nodeType&&t,a=s&&s.exports===n,o=a&&r.process,l=function(){try{var t=s&&s.require&&s.require("util").types;return t||o&&o.binding&&o.binding("util")}catch(e){}}();t.exports=l}).call(this,i("62e4")(t))},"9b43":function(t,e,i){var r=i("d8e8");t.exports=function(t,e,i){if(r(t),void 0===e)return t;switch(i){case 1:return function(i){return t.call(e,i)};case 2:return function(i,r){return t.call(e,i,r)};case 3:return function(i,r,n){return t.call(e,i,r,n)}}return function(){return t.apply(e,arguments)}}},"9def":function(t,e,i){var r=i("4588"),n=Math.min;t.exports=function(t){return t>0?n(r(t),9007199254740991):0}},"9e1e":function(t,e,i){t.exports=!i("79e5")((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},"9e69":function(t,e,i){var r=i("2b3e"),n=r.Symbol;t.exports=n},a2be:function(t,e,i){var r=i("d612"),n=i("4284"),s=i("c584"),a=1,o=2;function l(t,e,i,l,h,c){var u=i&a,f=t.length,d=e.length;if(f!=d&&!(u&&d>f))return!1;var _=c.get(t);if(_&&c.get(e))return _==e;var p=-1,g=!0,m=i&o?new r:void 0;c.set(t,e),c.set(e,t);while(++p<f){var b=t[p],y=e[p];if(l)var v=u?l(y,b,p,e,t,c):l(b,y,p,t,e,c);if(void 0!==v){if(v)continue;g=!1;break}if(m){if(!n(e,(function(t,e){if(!s(m,e)&&(b===t||h(b,t,i,l,c)))return m.push(e)}))){g=!1;break}}else if(b!==y&&!h(b,y,i,l,c)){g=!1;break}}return c["delete"](t),c["delete"](e),g}t.exports=l},a524:function(t,e,i){var r=i("4245");function n(t){return r(this,t).has(t)}t.exports=n},a76a:function(t,e,i){"use strict";var r=i("90c4"),n=i.n(r);n.a},a93b:function(t,e,i){var r=i("f7e7");"string"===typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);var n=i("499e").default;n("2c254fba",r,!0,{sourceMap:!1,shadowMode:!1})},a994:function(t,e,i){var r=i("7d1f"),n=i("32f4"),s=i("ec69");function a(t){return r(t,s,n)}t.exports=a},aa77:function(t,e,i){var r=i("5ca1"),n=i("be13"),s=i("79e5"),a=i("fdef"),o="["+a+"]",l="​",h=RegExp("^"+o+o+"*"),c=RegExp(o+o+"*$"),u=function(t,e,i){var n={},o=s((function(){return!!a[t]()||l[t]()!=l})),h=n[t]=o?e(f):a[t];i&&(n[i]=h),r(r.P+r.F*o,"String",n)},f=u.trim=function(t,e){return t=String(n(t)),1&e&&(t=t.replace(h,"")),2&e&&(t=t.replace(c,"")),t};t.exports=u},ac41:function(t,e){function i(t){var e=-1,i=Array(t.size);return t.forEach((function(t){i[++e]=t})),i}t.exports=i},b047:function(t,e,i){var r=i("1a8c"),n=i("408c"),s=i("b4b0"),a="Expected a function",o=Math.max,l=Math.min;function h(t,e,i){var h,c,u,f,d,_,p=0,g=!1,m=!1,b=!0;if("function"!=typeof t)throw new TypeError(a);function y(e){var i=h,r=c;return h=c=void 0,p=e,f=t.apply(r,i),f}function v(t){return p=t,d=setTimeout(k,e),g?y(t):f}function x(t){var i=t-_,r=t-p,n=e-i;return m?l(n,u-r):n}function w(t){var i=t-_,r=t-p;return void 0===_||i>=e||i<0||m&&r>=u}function k(){var t=n();if(w(t))return A(t);d=setTimeout(k,x(t))}function A(t){return d=void 0,b&&h?y(t):(h=c=void 0,f)}function S(){void 0!==d&&clearTimeout(d),p=0,h=_=c=d=void 0}function E(){return void 0===d?f:A(n())}function R(){var t=n(),i=w(t);if(h=arguments,c=this,_=t,i){if(void 0===d)return v(_);if(m)return d=setTimeout(k,e),y(_)}return void 0===d&&(d=setTimeout(k,e)),f}return e=s(e)||0,r(i)&&(g=!!i.leading,m="maxWait"in i,u=m?o(s(i.maxWait)||0,e):u,b="trailing"in i?!!i.trailing:b),R.cancel=S,R.flush=E,R}t.exports=h},b047f:function(t,e){function i(t){return function(e){return t(e)}}t.exports=i},b1e5:function(t,e,i){var r=i("a994"),n=1,s=Object.prototype,a=s.hasOwnProperty;function o(t,e,i,s,o,l){var h=i&n,c=r(t),u=c.length,f=r(e),d=f.length;if(u!=d&&!h)return!1;var _=u;while(_--){var p=c[_];if(!(h?p in e:a.call(e,p)))return!1}var g=l.get(t);if(g&&l.get(e))return g==e;var m=!0;l.set(t,e),l.set(e,t);var b=h;while(++_<u){p=c[_];var y=t[p],v=e[p];if(s)var x=h?s(v,y,p,e,t,l):s(y,v,p,t,e,l);if(!(void 0===x?y===v||o(y,v,i,s,l):x)){m=!1;break}b||(b="constructor"==p)}if(m&&!b){var w=t.constructor,k=e.constructor;w==k||!("constructor"in t)||!("constructor"in e)||"function"==typeof w&&w instanceof w&&"function"==typeof k&&k instanceof k||(m=!1)}return l["delete"](t),l["delete"](e),m}t.exports=o},b218:function(t,e){var i=9007199254740991;function r(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=i}t.exports=r},b4b0:function(t,e,i){var r=i("1a8c"),n=i("ffd6"),s=NaN,a=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,h=/^0o[0-7]+$/i,c=parseInt;function u(t){if("number"==typeof t)return t;if(n(t))return s;if(r(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=r(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(a,"");var i=l.test(t);return i||h.test(t)?c(t.slice(2),i?2:8):o.test(t)?s:+t}t.exports=u},b4c0:function(t,e,i){var r=i("cb5a");function n(t){var e=this.__data__,i=r(e,t);return i<0?void 0:e[i][1]}t.exports=n},b5a7:function(t,e,i){var r=i("0b07"),n=i("2b3e"),s=r(n,"DataView");t.exports=s},b95f:function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,".vue-dat-gui .control-item.number .control{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex}.vue-dat-gui .control-item.number .control .slider{-webkit-box-flex:3;-ms-flex:3;flex:3}.vue-dat-gui .control-item.number .control .input{-webkit-box-flex:1;-ms-flex:1;flex:1}.vue-dat-gui .control-item.number input[type=number]{-moz-appearance:textfield}.vue-dat-gui .control-item.number input[type=number]::-webkit-inner-spin-button,.vue-dat-gui .control-item.number input[type=number]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}",""])},bbc0:function(t,e,i){var r=i("6044"),n="__lodash_hash_undefined__",s=Object.prototype,a=s.hasOwnProperty;function o(t){var e=this.__data__;if(r){var i=e[t];return i===n?void 0:i}return a.call(e,t)?e[t]:void 0}t.exports=o},be13:function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},c05f:function(t,e,i){var r=i("7b97"),n=i("1310");function s(t,e,i,a,o){return t===e||(null==t||null==e||!n(t)&&!n(e)?t!==t&&e!==e:r(t,e,i,a,s,o))}t.exports=s},c098:function(t,e){var i=9007199254740991,r=/^(?:0|[1-9]\d*)$/;function n(t,e){var n=typeof t;return e=null==e?i:e,!!e&&("number"==n||"symbol"!=n&&r.test(t))&&t>-1&&t%1==0&&t<e}t.exports=n},c366:function(t,e,i){var r=i("6821"),n=i("9def"),s=i("77f1");t.exports=function(t){return function(e,i,a){var o,l=r(e),h=n(l.length),c=s(a,h);if(t&&i!=i){while(h>c)if(o=l[c++],o!=o)return!0}else for(;h>c;c++)if((t||c in l)&&l[c]===i)return t||c||0;return!t&&-1}}},c584:function(t,e){function i(t,e){return t.has(e)}t.exports=i},c5f6:function(t,e,i){"use strict";var r=i("7726"),n=i("69a8"),s=i("2d95"),a=i("5dbc"),o=i("6a99"),l=i("79e5"),h=i("9093").f,c=i("11e9").f,u=i("86cc").f,f=i("aa77").trim,d="Number",_=r[d],p=_,g=_.prototype,m=s(i("2aeb")(g))==d,b="trim"in String.prototype,y=function(t){var e=o(t,!1);if("string"==typeof e&&e.length>2){e=b?e.trim():f(e,3);var i,r,n,s=e.charCodeAt(0);if(43===s||45===s){if(i=e.charCodeAt(2),88===i||120===i)return NaN}else if(48===s){switch(e.charCodeAt(1)){case 66:case 98:r=2,n=49;break;case 79:case 111:r=8,n=55;break;default:return+e}for(var a,l=e.slice(2),h=0,c=l.length;h<c;h++)if(a=l.charCodeAt(h),a<48||a>n)return NaN;return parseInt(l,r)}}return+e};if(!_(" 0o1")||!_("0b1")||_("+0x1")){_=function(t){var e=arguments.length<1?0:t,i=this;return i instanceof _&&(m?l((function(){g.valueOf.call(i)})):s(i)!=d)?a(new p(y(e)),i,_):y(e)};for(var v,x=i("9e1e")?h(p):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),w=0;x.length>w;w++)n(p,v=x[w])&&!n(_,v)&&u(_,v,c(p,v));_.prototype=g,g.constructor=_,i("2aba")(r,d,_)}},c69a:function(t,e,i){t.exports=!i("9e1e")&&!i("79e5")((function(){return 7!=Object.defineProperty(i("230e")("div"),"a",{get:function(){return 7}}).a}))},c869:function(t,e,i){var r=i("0b07"),n=i("2b3e"),s=r(n,"Set");t.exports=s},c8ba:function(t,e){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(r){"object"===typeof window&&(i=window)}t.exports=i},ca50:function(t,e,i){"use strict";var r=i("40b3"),n=i.n(r);n.a},ca5a:function(t,e){var i=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++i+r).toString(36))}},cb5a:function(t,e,i){var r=i("9638");function n(t,e){var i=t.length;while(i--)if(r(t[i][0],e))return i;return-1}t.exports=n},cb7c:function(t,e,i){var r=i("d3f4");t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},ce10:function(t,e,i){var r=i("69a8"),n=i("6821"),s=i("c366")(!1),a=i("613b")("IE_PROTO");t.exports=function(t,e){var i,o=n(t),l=0,h=[];for(i in o)i!=a&&r(o,i)&&h.push(i);while(e.length>l)r(o,i=e[l++])&&(~s(h,i)||h.push(i));return h}},d02c:function(t,e,i){var r=i("5e2e"),n=i("79bc"),s=i("7b83"),a=200;function o(t,e){var i=this.__data__;if(i instanceof r){var o=i.__data__;if(!n||o.length<a-1)return o.push([t,e]),this.size=++i.size,this;i=this.__data__=new s(o)}return i.set(t,e),this.size=i.size,this}t.exports=o},d171:function(t,e,i){"use strict";var r=i("db9a"),n=i.n(r);n.a},d327:function(t,e){function i(){return[]}t.exports=i},d370:function(t,e,i){var r=i("253c"),n=i("1310"),s=Object.prototype,a=s.hasOwnProperty,o=s.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(t){return n(t)&&a.call(t,"callee")&&!o.call(t,"callee")};t.exports=l},d3f4:function(t,e){t.exports=function(t){return"object"===typeof t?null!==t:"function"===typeof t}},d612:function(t,e,i){var r=i("7b83"),n=i("7ed2"),s=i("dc0f");function a(t){var e=-1,i=null==t?0:t.length;this.__data__=new r;while(++e<i)this.add(t[e])}a.prototype.add=a.prototype.push=n,a.prototype.has=s,t.exports=a},d698:function(t,e,i){"use strict";var r=i("0112"),n=i.n(r);n.a},d8e8:function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},da03:function(t,e,i){var r=i("2b3e"),n=r["__core-js_shared__"];t.exports=n},db9a:function(t,e,i){var r=i("6d57");"string"===typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);var n=i("499e").default;n("017fc4e7",r,!0,{sourceMap:!1,shadowMode:!1})},dc0f:function(t,e){function i(t){return this.__data__.has(t)}t.exports=i},dc57:function(t,e){var i=Function.prototype,r=i.toString;function n(t){if(null!=t){try{return r.call(t)}catch(e){}try{return t+""}catch(e){}}return""}t.exports=n},e11e:function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},e24b:function(t,e,i){var r=i("49f4"),n=i("1efc"),s=i("bbc0"),a=i("7a48"),o=i("2524");function l(t){var e=-1,i=null==t?0:t.length;this.clear();while(++e<i){var r=t[e];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype["delete"]=n,l.prototype.get=s,l.prototype.has=a,l.prototype.set=o,t.exports=l},eac5:function(t,e){var i=Object.prototype;function r(t){var e=t&&t.constructor,r="function"==typeof e&&e.prototype||i;return t===r}t.exports=r},ec69:function(t,e,i){var r=i("6fcd"),n=i("03dd"),s=i("30c9");function a(t){return s(t)?r(t):n(t)}t.exports=a},edfa:function(t,e){function i(t){var e=-1,i=Array(t.size);return t.forEach((function(t,r){i[++e]=[r,t]})),i}t.exports=i},efb6:function(t,e,i){var r=i("5e2e");function n(){this.__data__=new r,this.size=0}t.exports=n},f678:function(t,e,i){var r=i("8384"),n=i("b4b0");function s(t,e,i){return void 0===i&&(i=e,e=void 0),void 0!==i&&(i=n(i),i=i===i?i:0),void 0!==e&&(e=n(e),e=e===e?e:0),r(n(t),e,i)}t.exports=s},f6fd:function(t,e){(function(t){var e="currentScript",i=t.getElementsByTagName("script");e in t||Object.defineProperty(t,e,{get:function(){try{throw new Error}catch(r){var t,e=(/.*at [^\(]*\((.*):.+:.+\)$/gi.exec(r.stack)||[!1])[1];for(t in i)if(i[t].src==e||"interactive"==i[t].readyState)return i[t];return null}}})})(document)},f7e7:function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,".cp__wrapper{width:250px;margin:0;background:#fff;border-radius:2px;-webkit-box-shadow:0 0 2px rgba(0,0,0,.3),0 4px 8px rgba(0,0,0,.3);box-shadow:0 0 2px rgba(0,0,0,.3),0 4px 8px rgba(0,0,0,.3);font-family:Menlo,Microsoft Yahei,sans-serif;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.cp__v-ctrl{position:relative}.cp__thumb{position:absolute;width:12px;height:12px;top:0;border-radius:50%;margin-top:-1px;-webkit-transform:translateX(-50%);transform:translateX(-50%);background-color:#f8f8f8;-webkit-box-shadow:0 1px 4px 0 rgba(0,0,0,.368627);box-shadow:0 1px 4px 0 rgba(0,0,0,.368627);cursor:default}.cp__saturation{position:relative;width:100%;padding-bottom:55%;border-radius:2px 2px 0 0;overflow:hidden}.cp__saturation>div{position:absolute;top:0;left:0;right:0;bottom:0;margin:0}.cp__saturation>.msk-white{background:-webkit-gradient(linear,left top,right top,from(#fff),to(hsla(0,0%,100%,0)));background:linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.cp__saturation>.msk-black{background:-webkit-gradient(linear,left bottom,left top,from(#000),to(transparent));background:linear-gradient(0deg,#000,transparent)}.cp__saturation>.cp__thumb{background-color:transparent;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);-webkit-box-shadow:0 0 0 1.5px #fff,inset 0 0 1px 1px rgba(0,0,0,.3),0 0 1px 2px rgba(0,0,0,.4);box-shadow:0 0 0 1.5px #fff,inset 0 0 1px 1px rgba(0,0,0,.3),0 0 1px 2px rgba(0,0,0,.4)}.cp__ctrl-pane{position:relative;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box;padding:16px 16px 12px}.cp__ctrl-pane>div{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.cp__tracks{-webkit-box-flex:1;-ms-flex:1 0 0px;flex:1 0 0}.cp__ctrl-bar{height:10px}.cp__ctrl-hue{background:-webkit-gradient(linear,right top,left top,from(red),color-stop(17%,#ff0),color-stop(33%,#0f0),color-stop(50%,#0ff),color-stop(67%,#00f),color-stop(83%,#f0f),to(red));background:linear-gradient(-90deg,red,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.cp__ctrl-alpha{margin-top:8px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAMUlEQVQ4T2NkYGAQYcAP3uCTZhw1gGGYhAGBZIA/nYDCgBDAm9BGDWAAJyRCgLaBCAAgXwixzAS0pgAAAABJRU5ErkJggg==) 0}.cp__preview{position:relative;width:28px;height:28px;margin-right:5px;overflow:hidden;border-radius:50%;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAMUlEQVQ4T2NkYGAQYcAP3uCTZhw1gGGYhAGBZIA/nYDCgBDAm9BGDWAAJyRCgLaBCAAgXwixzAS0pgAAAABJRU5ErkJggg==) 50%}.cp__preview>div{position:absolute;left:0;top:0;width:100%;height:100%;border-radius:50%;border:1px solid transparent;-webkit-box-sizing:border-box;box-sizing:border-box}.cp__fm-fields{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-ms-flex:1;flex:1}.cp__fm-fields>div{padding-left:6px;-webkit-box-flex:1;-ms-flex:1 0 0px;flex:1 0 0}.cp__fm-fields input{width:100%;height:22px;font-size:11px;text-align:center;color:#333;border-radius:2px;border:none;-webkit-box-shadow:#dadada 0 0 0 1px inset;box-shadow:inset 0 0 0 1px #dadada;-webkit-transition:-webkit-box-shadow .2s ease;transition:-webkit-box-shadow .2s ease;transition:box-shadow .2s ease;transition:box-shadow .2s ease,-webkit-box-shadow .2s ease;-moz-appearance:textfield}.cp__fm-fields input:focus{outline:0;-webkit-box-shadow:#007dff 0 0 0 1px inset;box-shadow:inset 0 0 0 1px #007dff}.cp__fm-fields input::-webkit-inner-spin-button,.cp__fm-fields input::-webkit-outer-spin-button{-webkit-appearance:none!important;margin:0}.cp__fm-fields span{display:block;margin-top:12px;text-transform:uppercase;font-size:11px;line-height:11px;color:#969696;text-align:center}.cp__fm-switcher{position:relative;width:32px;text-align:right}.cp__fm-switcher>div{position:relative;margin-right:-4px;margin-top:12px;cursor:pointer}.cp__fm-switcher>div>svg{width:24px;height:24px;border-radius:5px;background:transparent;border:1px solid transparent}.cp__fm-switcher>div>svg:hover{border-color:#eee;background:#eee}",""])},fa5b:function(t,e,i){t.exports=i("5537")("native-function-to-string",Function.toString)},fab2:function(t,e,i){var r=i("7726").document;t.exports=r&&r.documentElement},fb15:function(t,e,i){"use strict";var r;(i.r(e),"undefined"!==typeof window)&&(i("f6fd"),(r=window.document.currentScript)&&(r=r.src.match(/(.+\/)[^/]+\.js(\?.*)?$/))&&(i.p=r[1]));i("7f7f");var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("li",{staticClass:"control-item boolean"},[i("label",{ref:"label"},[i("span",{staticClass:"label-text"},[t._v(t._s(t.label))]),i("div",{staticClass:"control"},[i("input",{attrs:{type:"checkbox"},domProps:{checked:t.currentValue},on:{change:t.handleChange}})])])])},s=[],a={name:"DatBoolean",props:{checked:Boolean,label:String},model:{prop:"checked",event:"change"},data:function(){return{currentValue:this.checked}},watch:{checked:function(t){this.currentValue=t}},methods:{handleChange:function(){this.currentValue=!this.currentValue,this.$emit("change",this.currentValue)}}},o=a;function l(t,e,i,r,n,s,a,o){var l,h="function"===typeof t?t.options:t;if(e&&(h.render=e,h.staticRenderFns=i,h._compiled=!0),r&&(h.functional=!0),s&&(h._scopeId="data-v-"+s),a?(l=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},h._ssrRegister=l):n&&(l=o?function(){n.call(this,this.$root.$options.shadowRoot)}:n),l)if(h.functional){h._injectStyles=l;var c=h.render;h.render=function(t,e){return l.call(e),c(t,e)}}else{var u=h.beforeCreate;h.beforeCreate=u?[].concat(u,l):[l]}return{exports:t,options:h}}var h=l(o,n,s,!1,null,null,null),c=h.exports,u=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("li",{staticClass:"control-item button"},[i("label",{ref:"label",staticClass:"w-100",on:{click:t.handleClick}},[t._v("\n    "+t._s(t.label)+"\n  ")])])},f=[],d={name:"DatButton",props:{label:String},methods:{handleClick:function(t){this.$emit("click",t)}}},_=d,p=l(_,u,f,!1,null,null,null),g=p.exports,m=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("li",{staticClass:"control-item color",style:{"border-left-color":t.currentColor},on:{mouseleave:t.onMouseLeave}},[i("label",[i("span",{staticClass:"label-text"},[t._v(t._s(t.label))]),i("div",{staticClass:"control",on:{mouseover:t.onMouseOver}},[i("input",{ref:"inputColor",style:{"background-color":t.currentColor,color:t.inputColor},attrs:{type:"text",readonly:""},domProps:{value:t.currentColor}}),i("color-picker",{directives:[{name:"show",rawName:"v-show",value:t.showColorPicker,expression:"showColorPicker"}],staticClass:"color-picker",attrs:{color:t.currentColor},on:{change:t.onChange}})],1)])])},b=[],y=i("0f32"),v=i.n(y),x=i("f678"),w=i.n(x),k=i("63ea"),A=i.n(k),S=i("b047"),E=i.n(S),R=function(t,e,i,r,n,s,a,o){if(!t){var l;if(void 0===e)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var h=[i,r,n,s,a,o],c=0;l=new Error(e.replace(/%s/g,(function(){return h[c++]}))),l.name="Invariant Violation"}throw l.framesToPop=1,l}},C=R,T=Object.getOwnPropertySymbols,M=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable;function j(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function F(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},i=0;i<10;i++)e["_"+String.fromCharCode(i)]=i;var r=Object.getOwnPropertyNames(e).map((function(t){return e[t]}));if("0123456789"!==r.join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(t){n[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(s){return!1}}var P=F()?Object.assign:function(t,e){for(var i,r,n=arguments,s=j(t),a=1;a<arguments.length;a++){for(var o in i=Object(n[a]),i)M.call(i,o)&&(s[o]=i[o]);if(T){r=T(i);for(var l=0;l<r.length;l++)O.call(i,r[l])&&(s[r[l]]=i[r[l]])}}return s},L=/-?\d+(\.\d+)?%?/g;function I(t){return t.match(L)}var N=I,B=Object.freeze({default:N,__moduleExports:N});function z(t,e,i){return Math.min(Math.max(t,e),i)}var V=z,U=Object.freeze({default:V,__moduleExports:V}),D=B&&N||B,$=U&&V||U,Y=D,X=$;function H(t,e){switch(t=parseFloat(t),e){case 0:return X(t,0,360);case 1:case 2:return X(t,0,100);case 3:return X(t,0,1)}}function W(t){return Y(t).map(H)}var G=W,q=Object.freeze({default:G,__moduleExports:G});function K(t){for(var e="#",i=1;i<t.length;i++){var r=t.charAt(i);e+=r+r}return e}function J(t){4!==t.length&&5!==t.length||(t=K(t));var e=[parseInt(t.substring(1,3),16),parseInt(t.substring(3,5),16),parseInt(t.substring(5,7),16)];if(9===t.length){var i=parseFloat((parseInt(t.substring(7,9),16)/255).toFixed(2));e.push(i)}return e}var Q=J,Z=Object.freeze({default:Q,__moduleExports:Q}),tt=D,et=$;function it(t,e){return e<3?-1!=t.indexOf("%")?Math.round(255*et(parseInt(t,10),0,100)/100):et(parseInt(t,10),0,255):et(parseFloat(t),0,1)}function rt(t){return tt(t).map(it)}var nt=rt,st=Object.freeze({default:nt,__moduleExports:nt});function at(t){var e,i,r,n,s,a=t[0]/360,o=t[1]/100,l=t[2]/100;if(0==o)return s=255*l,[s,s,s];i=l<.5?l*(1+o):l+o-l*o,e=2*l-i,n=[0,0,0];for(var h=0;h<3;h++)r=a+1/3*-(h-1),r<0&&r++,r>1&&r--,s=6*r<1?e+6*(i-e)*r:2*r<1?i:3*r<2?e+(i-e)*(2/3-r)*6:e,n[h]=255*s;return n}var ot=at,lt=q&&G||q,ht=Z&&Q||Z,ct=st&&nt||st,ut=lt,ft=ht,dt=ct,_t=ot;function pt(t){var e=ut(t),i=_t(e);return 4===e.length&&i.push(e[3]),i}var gt={"#":ft,hsl:pt,rgb:dt};function mt(t){for(var e in gt)if(0===t.indexOf(e))return gt[e](t)}mt.rgb=dt,mt.hsl=ut,mt.hex=ft;var bt=mt;function yt(t){var e,i,r,n=t[0],s=t[1],a=t[2],o=Math.min(n,s,a),l=Math.max(n,s,a),h=l-o;return i=0==l?0:h/l*1e3/10,l==o?e=0:n==l?e=(s-a)/h:s==l?e=2+(a-n)/h:a==l&&(e=4+(n-s)/h),e=Math.min(60*e,360),e<0&&(e+=360),r=l/255*1e3/10,[e,i,r]}var vt=yt,xt=$;function wt(t){var e=Math.round(xt(t,0,255)),i=e.toString(16);return 1==i.length?"0"+i:i}function kt(t){var e=4===t.length?wt(255*t[3]):"";return"#"+wt(t[0])+wt(t[1])+wt(t[2])+e}var At=kt;function St(t){var e,i,r=t[0],n=t[1]/100,s=t[2]/100;return i=(2-n)*s,e=n*s,e/=i<=1?i:2-i,e=e||0,i/=2,[r,100*e,100*i]}var Et=St;function Rt(t){var e=t[0]/60,i=t[1]/100,r=t[2]/100,n=Math.floor(e)%6,s=e-Math.floor(e),a=255*r*(1-i),o=255*r*(1-i*s),l=255*r*(1-i*(1-s));r*=255;switch(n){case 0:return[r,l,a];case 1:return[o,r,a];case 2:return[a,r,l];case 3:return[a,o,r];case 4:return[l,a,r];case 5:return[r,a,o]}}var Ct=Rt,Tt=function(t,e){var i=0|e;return i>0?parseFloat(t.toFixed(i)):t},Mt={name:"v-ctrl",abstract:!0,props:{direction:{type:String,default:"h",validator:function(t){return["v","h","vh","hv"].indexOf(t)>-1}},throttle:{type:Number,default:80},precision:{type:Number}},methods:{msdown:function(t){t.preventDefault(),document.addEventListener("mousemove",this.msmove),document.addEventListener("mouseup",this.msup),this.next(t)},msmove:function(t){t.preventDefault(),this.next(t)},msup:function(t){this.next(t),document.removeEventListener("mousemove",this.msmove),document.removeEventListener("mouseup",this.msup)},notify:function(t){!1===A()(this.memo,t)&&(this.memo=t,this.$emit("change",t))},next:function(t){void 0===t&&(t={});var e=t.clientX;void 0===e&&(e=0);var i=t.clientY;void 0===i&&(i=0);var r=this,n=r.direction,s=r.adjust,a=this.$el.getBoundingClientRect(),o=a.left,l=a.width,h=e-o,c=s(h/l);if("h"===n)return this.notify(c);var u=a.top,f=a.height,d=i-u,_=s(d/f);if("v"===n)return this.notify(_);this.notify([c,_])},adjust:function(t){return Tt(w()(t,0,1),this.precision)}},render:function(t){return this.$slots.default[0]},created:function(){var t=this,e=t.msdown,i=t.msmove;this.msdown=e.bind(this),this.msmove=v()(i.bind(this),this.throttle),this.memo=null},mounted:function(){this.$el.addEventListener("mousedown",this.msdown)},destroyed:function(){this.$el.removeEventListener("mousedown",this.msdown)},install:function(){Vue.component(Mt.name,Mt)}};"undefined"!==typeof window&&window.Vue&&Vue.use(Mt);var Ot={VueCtrlComponent:Mt},jt=Object.freeze({rgba:["r","g","b","a"],hsla:["h","s","l","a"],hex:["hex"]}),Ft={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"cp__wrapper"},[i("v-ctrl",{attrs:{direction:"vh",precision:2,throttle:80},on:{change:t.onSaturationChange}},[i("div",{staticClass:"cp__v-ctrl cp__saturation"},[i("div",{staticClass:"msk-hue",style:t.styles.saturationPane}),t._v(" "),i("div",{staticClass:"msk-white"}),t._v(" "),i("div",{staticClass:"msk-black"}),t._v(" "),i("p",{staticClass:"cp__thumb",style:t.styles.saturationThumb})])]),t._v(" "),i("div",{staticClass:"cp__ctrl-pane"},[i("div",[i("div",{staticClass:"cp__preview"},[i("div",{style:t.styles.preview})]),t._v(" "),i("div",{staticClass:"cp__tracks"},[i("v-ctrl",{attrs:{direction:"h",precision:2,throttle:80},on:{change:t.onHueChange}},[i("div",{staticClass:"cp__v-ctrl cp__ctrl-bar cp__ctrl-hue"},[i("div",{staticClass:"cp__thumb",style:t.styles.hueThumb})])]),t._v(" "),i("v-ctrl",{attrs:{direction:"h",precision:2,throttle:80},on:{change:t.onAlphaChange}},[i("div",{staticClass:"cp__v-ctrl cp__ctrl-alpha"},[i("div",{staticClass:"cp__thumb",style:t.styles.alphaThumb}),t._v(" "),i("div",{staticClass:"cp__ctrl-bar",style:t.styles.alphaTrack})])])],1)]),t._v(" "),i("div",{staticStyle:{"margin-top":"10px"}},[i("div",{staticClass:"cp__fm-fields"},t._l(t.colorModes[t.currentMode],(function(e){return i("div",{key:e},[i("div",{staticStyle:{position:"relative"}},[i("input",{attrs:{type:t.constrains[e].type,maxlength:t.constrains[e].maxlength},domProps:{value:t.colorModel[e]},on:{change:function(i){t.handleInput(e,i)}}}),t._v(" "),i("span",[t._v(t._s(e))])])])}))),t._v(" "),i("div",{staticClass:"cp__fm-switcher"},[i("div",{on:{click:function(e){t.changecurrentMode()}}},[i("svg",{attrs:{viewBox:"0 0 24 24"}},[i("path",{attrs:{fill:"#333",d:"M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z"}}),t._v(" "),i("path",{attrs:{fill:"#333",d:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15Z"}})])])])])])],1)},staticRenderFns:[],name:"color-picker",props:{color:{type:String,default:"#ff0000"}},components:{"v-ctrl":Ot.VueCtrlComponent},data:function(){var t=this,e=t.color,i={type:"number",maxlength:3},r={type:"string",maxlength:4};return Object.assign({},this.digestProp(e),{currentMode:Lt(e),colorModes:jt,colorModel:{hex:"",r:"",g:"",b:"",h:"",s:"",l:"",a:""},constrains:{r:i,g:i,b:i,h:i,s:r,l:r,a:{type:"number",maxlength:4},hex:{type:"string",maxlength:9}}})},watch:{color:{immediate:!0,handler:function(t,e){t!==e&&P(this,this.digestProp(t))}},rgba:{immediate:!0,handler:function(t,e){""+t!==""+e&&this.emitChange()}}},computed:{hsva:function(){var t=this,e=t.hue,i=t.alpha,r=t.saturation,n=r.x,s=r.y;return[360*e,100*n,100*(1-s),i]},rgba:function(){var t=this,e=t.alpha,i=t.hsva,r=Ct(i),n=r[0],s=r[1],a=r[2];return[Math.round(n),Math.round(s),Math.round(a),e]},hsla:function(){var t=this,e=t.alpha,i=t.hsva,r=Et(i),n=r[0],s=r[1],a=r[2];return[Math.round(n),Math.round(s)+"%",Math.round(a)+"%",e]},hex:function(){return At(this.rgba)},previewBorderColor:function(){var t=this.rgba,e=t[0],i=t[1],r=t[2];return(e+i+r)/3>235?"rgba(160,160,160,0.8)":"transparent"},styles:function(){var t=this,e=t.rgba,i=t.alpha,r=t.hue,n=t.saturation,s=e.slice(0,3).join(", "),a=ot([360*r,100,50]).map((function(t){return Math.round(t)})).join(", ");return{preview:{backgroundColor:"rgba("+e.join(", ")+")",borderColor:this.previewBorderColor},saturationPane:{backgroundColor:"rgb("+a+")"},saturationThumb:{left:Pt(n.x),top:Pt(n.y)},alphaTrack:{backgroundImage:"linear-gradient(to right, rgba("+s+", 0) 0%, rgb("+s+") 100%)"},alphaThumb:{left:Pt(i)},hueThumb:{left:Pt(1-r)}}}},methods:{digestProp:function(t){var e=bt(t),i=null==e[3]?1:e[3],r=vt(e),n=r[0],s=r[1],a=r[2],o=parseFloat(i.toFixed(2));return{alpha:o,hue:n/360,saturation:{x:s/100,y:1-a/100}}},onSaturationChange:function(t){var e=t[0],i=t[1];this.saturation={x:e,y:i}},onHueChange:function(t){this.hue=1-t},onAlphaChange:function(t){this.alpha=parseFloat(t.toFixed(2))},emitChange:function(){var t=this,e=t.alpha,i=t.hex,r=t.rgba,n=t.hsla,s=It(1===e?i.slice(0,7):i);this.$emit("change",{rgba:r,hsla:n,hex:s});var a=n[0],o=n[1],l=n[2],h=r[0],c=r[1],u=r[2];P(this.colorModel,{r:h,g:c,b:u,h:a,s:o,l:l,a:e,hex:s})},changecurrentMode:function(){var t=Object.keys(this.colorModes),e=t.indexOf(this.currentMode);this.currentMode=t[(e+1)%t.length]},handleInput:function(t,e){var i=this,r=i.currentMode,n=i.colorModel,s=e.target.value,a=Number(s),o=!1;switch(t){case"a":n[t]===a||isNaN(a)||(n[t]=w()(a,0,1),o=!0);break;case"r":case"g":case"b":n[t]===a||isNaN(a)||(n[t]=0|w()(a,0,255),o=!0);break;case"h":n[t]===a||isNaN(a)||(n[t]=0|w()(a,0,360),o=!0);break;case"s":case"l":"%"===s.slice(-1)&&n[t]!==s&&(a=parseFloat(s),n[t]=(0|w()(a,0,360))+"%",o=!0);break;case"hex":"#"===s[0]&&n[t]!==s&&bt(s).every((function(t){return!isNaN(t)}))&&(n[t]=It(s),o=!0);break}if(o){var l=n.h,h=n.s,c=n.l,u=n.r,f=n.g,d=n.b,_=n.a,p=n.hex,g=p;"rgba"===r?g="rgba("+[u,f,d,_]+")":"hsla"===r&&(g="hsla("+[l,h,c,_]+")"),P(this,this.digestProp(g))}}},created:function(){this.handleInput=E()(this.handleInput.bind(this),50)}};function Pt(t,e){void 0===e&&(e=3);var i=(100*t).toPrecision(0|e);return i+"%"}function Lt(t){return"#"===t[0]?"hex":0===t.indexOf("rgb")?"rgba":0===t.indexOf("hsl")?"hsla":void C(!1,t+" is not valid color value!")}function It(t){return t.replace(/#([0-9a-f])\1([0-9a-f])\2([0-9a-f])\3([0-9a-f]?)\4$/,"#$1$2$3$4")}Ft.install=function(t){t.config.devtools=!1,t.component(Ft.name,Ft)};var Nt=Ft,Bt=(i("a93b"),{name:"DatColor",props:{color:{required:!0},label:String},model:{prop:"color",event:"change"},components:{ColorPicker:Nt},data:function(){return{currentColor:this.color,showColorPicker:!1}},computed:{inputColor:function(){if(7!==this.color.length||"#"!==this.color[0])return"black";var t=parseInt(this.currentColor.substr(1,2),16),e=parseInt(this.currentColor.substr(3,2),16),i=parseInt(this.currentColor.substr(5,2),16),r=(299*t+587*e+114*i)/1e3;return r>=128?"black":"white"}},methods:{onChange:function(t){this.currentColor=t.hex,this.$emit("change",this.currentColor)},onMouseOver:function(){this.showColorPicker=!0,window.addEventListener("keydown",this.onKeyDown)},onMouseLeave:function(){this.showColorPicker=!1,window.removeEventListener("keydown",this.onKeyDown)},onKeyDown:function(t){"Enter"!==t.key&&13!==t.keyCode||(this.showColorPicker=!1)}}}),zt=Bt,Vt=(i("d171"),l(zt,m,b,!1,null,null,null)),Ut=Vt.exports,Dt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("li",{class:["folder",{closed:t.close}]},[i("div",{ref:"label",staticClass:"group"},[i("div",{staticClass:"text",on:{click:t.handleClick}},[t._v("\n          "+t._s(t.label)+"\n      ")]),i("ul",[t._t("default")],2)])])},$t=[],Yt={name:"DatFolder",props:{label:String,closed:Boolean},data:function(){return{close:this.closed}},methods:{handleClick:function(){this.close=!this.close}}},Xt=Yt,Ht=(i("a76a"),l(Xt,Dt,$t,!1,null,null,null)),Wt=Ht.exports,Gt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("li",{staticClass:"control-item number"},[i("label",{ref:"label"},[i("span",{staticClass:"label-text"},[t._v(t._s(t.label))]),i("div",{staticClass:"control"},[i("slider",{directives:[{name:"show",rawName:"v-show",value:t.hasSlider,expression:"hasSlider"}],staticClass:"slider",attrs:{min:t.minValue,max:t.maxValue,value:t.currentValue},on:{updateState:t.sanitizeNumber}}),i("input",{directives:[{name:"model",rawName:"v-model",value:t.currentValue,expression:"currentValue"}],ref:"input",staticClass:"input",attrs:{type:"number",min:t.minValue,max:t.maxValue,step:t.stepValue},domProps:{value:t.currentValue},on:{change:t.handleChange,input:function(e){e.target.composing||(t.currentValue=e.target.value)}}})],1)])])},qt=[],Kt=(i("fca0"),i("c5f6"),i("09e4")),Jt=i.n(Kt),Qt=i("6e6b"),Zt=i.n(Qt),te=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("span",{ref:"slider",staticClass:"slider",style:{width:t.width+"px","background-size":t.bgWidth+"% 100%"},on:{mousedown:t.handleMouseDown}})},ee=[],ie={name:"Slider",props:{value:[Number,String],min:Number,max:Number,width:Number},data:function(){return{currentValue:Jt()(this.value)||0}},watch:{value:function(t){this.currentValue=Jt()(t)}},computed:{bgWidth:function(){return Zt()(100*(this.currentValue-this.min)/(this.max-this.min),0,100)}},methods:{handleMouseDown:function(t){this.updateState(t.pageX),window.addEventListener("mousemove",this.handleMouseMove),window.addEventListener("mouseup",this.handleMouseUp)},handleMouseMove:function(t){this.updateState(t.pageX)},handleMouseUp:function(t){this.updateState(t.pageX),window.removeEventListener("mousemove",this.handleMouseMove),window.removeEventListener("mouseup",this.handleMouseUp)},updateState:function(t){var e=this.$refs.slider.getBoundingClientRect(),i=t-e.left,r=e.right-e.left,n=this.min+Zt()(i/r,0,1)*(this.max-this.min);this.$emit("updateState",n)}}},re=ie,ne=(i("ca50"),l(re,te,ee,!1,null,null,null)),se=ne.exports,ae={name:"DatNumber",props:{showSlider:{type:Boolean,default:!0},min:Number,max:Number,step:Number,value:{type:[Number,String],required:!0},label:String},model:{prop:"value",event:"change"},components:{Slider:se},data:function(){var t="number"===typeof this.min?this.min:Number.NEGATIVE_INFINITY,e="number"===typeof this.max?this.max:Number.POSITIVE_INFINITY;if(t>e){var i=[e,t];t=i[0],e=i[1]}return{currentValue:Jt()(this.value),minValue:t,maxValue:e}},computed:{hasSlider:function(){return this.showSlider&&Number.isFinite(this.minValue)&&Number.isFinite(this.maxValue)},stepValue:function(){if(!this.step){var t=this.maxValue-this.minValue;return Math.pow(10,Math.floor(Math.log(Math.abs(t))/Math.LN10))/10}return Jt()(this.step)}},watch:{value:function(t){this.currentValue=Jt()(t)}},methods:{sanitizeNumber:function(t){var e=[this.minValue,this.maxValue,this.stepValue],i=e[0],r=e[1],n=e[2],s=Zt()(Jt()(t),i,r);0!==n&&Number.isFinite(n)&&(s=Math.round(s/n)*n),this.currentValue=s,this.$emit("change",s)},handleChange:function(t){this.sanitizeNumber(t.target.value)}}},oe=ae,le=(i("d698"),l(oe,Gt,qt,!1,null,null,null)),he=le.exports,ce=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("li",{staticClass:"control-item select"},[i("label",{ref:"label"},[i("span",{staticClass:"label-text"},[t._v(t._s(t.label))]),i("div",{staticClass:"control"},[i("select",{staticClass:"w-100",domProps:{value:t.currentValue},on:{change:t.handleChange}},t._l(t.items,(function(e){return i("option",{key:e.value,domProps:{value:e.value}},[t._v("\n          "+t._s(e.name)+"\n        ")])})),0)])])])},ue=[],fe={name:"DatSelect",props:{value:[String,Number],items:Array,label:String},model:{prop:"value",event:"change"},data:function(){return{currentValue:this.value||""}},watch:{value:function(t){this.currentValue=t||""}},methods:{handleChange:function(t){this.currentValue=t.target.value,this.$emit("change",t.target.value)}}},de=fe,_e=l(de,ce,ue,!1,null,null,null),pe=_e.exports,ge=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("li",{staticClass:"control-item string"},[i("label",{ref:"label"},[i("span",{staticClass:"label-text"},[t._v(t._s(t.label))]),i("div",{staticClass:"control"},[i("input",{attrs:{type:"text"},domProps:{value:t.currentValue},on:{input:t.handleChange}})])])])},me=[],be={name:"DatString",props:{value:String,label:String},model:{prop:"value",event:"change"},data:function(){return{currentValue:this.value||""}},watch:{value:function(t){this.currentValue=t}},methods:{handleChange:function(t){this.currentValue=t.target.value,this.$emit("change",this.currentValue)}}},ye=be,ve=l(ye,ge,me,!1,null,null,null),xe=ve.exports,we=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:["vue-dat-gui",{closed:t.isClosed}]},[i("div",{staticClass:"group group--main"},["top"===t.closePosition?i("div",{staticClass:"toggle-button",on:{click:t.toggleOpen}},[t._v(t._s(t.title))]):t._e(),i("ul",[t._t("default")],2),"bottom"===t.closePosition?i("div",{staticClass:"toggle-button",on:{click:t.toggleOpen}},[t._v("\n      "+t._s(t.title)+"\n    ")]):t._e()])])},ke=[],Ae={name:"DatGui",props:{openText:{type:String,default:"Open Controls"},closeText:{type:String,default:"Close Controls"},closePosition:{type:String,default:"bottom"},closed:{type:Boolean,default:!1}},data:function(){return{isClosed:this.closed}},computed:{title:function(){return this.isClosed?this.openText:this.closeText}},methods:{toggleOpen:function(){this.isClosed=!this.isClosed}}},Se=Ae,Ee=(i("9260"),l(Se,we,ke,!1,null,null,null)),Re=Ee.exports,Ce=[c,g,Ut,Wt,he,pe,xe,Re],Te={install:function(t){Ce.map((function(e){return t.component(e.name,e)}))}};"undefined"!==typeof window&&window.Vue&&window.Vue.use(Te);var Me=Te;e["default"]=Me},fba5:function(t,e,i){var r=i("cb5a");function n(t){return r(this.__data__,t)>-1}t.exports=n},fca0:function(t,e,i){var r=i("5ca1"),n=i("7726").isFinite;r(r.S,"Number",{isFinite:function(t){return"number"==typeof t&&n(t)}})},fdef:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},fe0f:function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,".w-100{width:100%}.vue-dat-gui li.folder .text{font-weight:700;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;padding:5px 5px 5px 16px;background:#000 url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlI+hKgFxoCgAOw==) 6px 48% no-repeat;text-align:left;border-bottom:1px solid hsla(0,0%,100%,.2)}.vue-dat-gui li.folder ul{margin-left:4px;width:calc(100% - 4px)}.vue-dat-gui li.folder.closed .title{background:#000 url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlGIWqMCbWAEAOw==) 6px 48% no-repeat}.vue-dat-gui li.folder.closed ul{display:none}",""])},ffd6:function(t,e,i){var r=i("3729"),n=i("1310"),s="[object Symbol]";function a(t){return"symbol"==typeof t||n(t)&&r(t)==s}t.exports=a}})["default"]},"24fb":function(t,e,i){"use strict";function r(t,e){var i=t[1]||"",r=t[3];if(!r)return i;if(e&&"function"===typeof btoa){var s=n(r),a=r.sources.map((function(t){return"/*# sourceURL=".concat(r.sourceRoot||"").concat(t," */")}));return[i].concat(a).concat([s]).join("\n")}return[i].join("\n")}function n(t){var e=btoa(unescape(encodeURIComponent(JSON.stringify(t)))),i="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(e);return"/*# ".concat(i," */")}t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var i=r(e,t);return e[2]?"@media ".concat(e[2]," {").concat(i,"}"):i})).join("")},e.i=function(t,i,r){"string"===typeof t&&(t=[[null,t,""]]);var n={};if(r)for(var s=0;s<this.length;s++){var a=this[s][0];null!=a&&(n[a]=!0)}for(var o=0;o<t.length;o++){var l=[].concat(t[o]);r&&n[l[0]]||(i&&(l[2]?l[2]="".concat(i," and ").concat(l[2]):l[2]=i),e.push(l))}},e}},2991:function(t,e,i){"use strict";i.r(e);var r=i("3343");for(var n in r)["default"].indexOf(n)<0&&function(t){i.d(e,t,(function(){return r[t]}))}(n)},3343:function(t,e,i){var r=i("f861");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);var n=i("35d6").default;t.exports.__inject__=function(t){n("118d8786",r,t)}},"35d6":function(t,e,i){"use strict";function r(t,e){for(var i=[],r={},n=0;n<e.length;n++){var s=e[n],a=s[0],o=s[1],l=s[2],h=s[3],c={id:t+":"+n,css:o,media:l,sourceMap:h};r[a]?r[a].parts.push(c):i.push(r[a]={id:a,parts:[c]})}return i}function n(t,e,i){var n=r(t,e);s(n,i)}function s(t,e){const i=e._injectedStyles||(e._injectedStyles={});for(var r=0;r<t.length;r++){var n=t[r],s=i[n.id];if(!s){for(var a=0;a<n.parts.length;a++)o(n.parts[a],e);i[n.id]=!0}}}function a(t){var e=document.createElement("style");return e.type="text/css",t.appendChild(e),e}function o(t,e){var i=a(e),r=t.css,n=t.media,s=t.sourceMap;if(n&&i.setAttribute("media",n),s&&(r+="\n/*# sourceURL="+s.sources[0]+" */",r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(s))))+" */"),i.styleSheet)i.styleSheet.cssText=r;else{while(i.firstChild)i.removeChild(i.firstChild);i.appendChild(document.createTextNode(r))}}i.r(e),i.d(e,"default",(function(){return n}))},"5a74":function(t,e,i){"use strict";if(i.r(e),"undefined"!==typeof window){var r=window.document.currentScript;if(Object({NODE_ENV:"production",BASE_URL:"/vue/components/"}).NEED_CURRENTSCRIPT_POLYFILL){var n=i("8875");r=n(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:n})}var s=r&&r.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);s&&(i.p=s[1])}var a=i("8bbf"),o=i.n(a);const l=/-(\w)/g,h=t=>t.replace(l,(t,e)=>e?e.toUpperCase():""),c=/\B([A-Z])/g,u=t=>t.replace(c,"-$1").toLowerCase();function f(t){const e={};return t.forEach(t=>{e[t]=void 0}),e}function d(t,e,i){t[e]=[].concat(t[e]||[]),t[e].unshift(i)}function _(t,e){if(t){const i=t.$options[e]||[];i.forEach(e=>{e.call(t)})}}function p(t,e){return new CustomEvent(t,{bubbles:!1,cancelable:!1,detail:e})}const g=t=>/function Boolean/.test(String(t)),m=t=>/function Number/.test(String(t));function b(t,e,{type:i}={}){if(g(i))return"true"===t||"false"===t?"true"===t:""===t||t===e||null!=t;if(m(i)){const e=parseFloat(t,10);return isNaN(e)?t:e}return t}function y(t,e){const i=[];for(let r=0,n=e.length;r<n;r++)i.push(v(t,e[r]));return i}function v(t,e){if(3===e.nodeType)return e.data.trim()?e.data:null;if(1===e.nodeType){const i={attrs:x(e),domProps:{innerHTML:e.innerHTML}};return i.attrs.slot&&(i.slot=i.attrs.slot,delete i.attrs.slot),t(e.tagName,i)}return null}function x(t){const e={};for(let i=0,r=t.attributes.length;i<r;i++){const r=t.attributes[i];e[r.nodeName]=r.nodeValue}return e}function w(t,e){const i="function"===typeof e&&!e.cid;let r,n,s,a=!1;function o(t){if(a)return;const e="function"===typeof t?t.options:t,i=Array.isArray(e.props)?e.props:Object.keys(e.props||{});r=i.map(u),n=i.map(h);const o=Array.isArray(e.props)?{}:e.props||{};s=n.reduce((t,e,r)=>(t[e]=o[i[r]],t),{}),d(e,"beforeCreate",(function(){const t=this.$emit;this.$emit=(e,...i)=>(this.$root.$options.customElement.dispatchEvent(p(e,i)),t.call(this,e,...i))})),d(e,"created",(function(){n.forEach(t=>{this.$root.props[t]=this[t]})})),n.forEach(t=>{Object.defineProperty(c.prototype,t,{get(){return this._wrapper.props[t]},set(e){this._wrapper.props[t]=e},enumerable:!1,configurable:!0})}),a=!0}function l(t,e){const i=h(e),r=t.hasAttribute(e)?t.getAttribute(e):void 0;t._wrapper.props[i]=b(r,e,s[i])}class c extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"});const i=this._wrapper=new t({name:"shadow-root",customElement:this,shadowRoot:this.shadowRoot,data(){return{props:{},slotChildren:[]}},render(t){return t(e,{ref:"inner",props:this.props},this.slotChildren)}}),r=new MutationObserver(t=>{let e=!1;for(let i=0;i<t.length;i++){const r=t[i];a&&"attributes"===r.type&&r.target===this?l(this,r.attributeName):e=!0}e&&(i.slotChildren=Object.freeze(y(i.$createElement,this.childNodes)))});r.observe(this,{childList:!0,subtree:!0,characterData:!0,attributes:!0})}get vueComponent(){return this._wrapper.$refs.inner}connectedCallback(){const t=this._wrapper;if(t._isMounted)_(this.vueComponent,"activated");else{const i=()=>{t.props=f(n),r.forEach(t=>{l(this,t)})};a?i():e().then(t=>{(t.__esModule||"Module"===t[Symbol.toStringTag])&&(t=t.default),o(t),i()}),t.slotChildren=Object.freeze(y(t.$createElement,this.childNodes)),t.$mount(),this.shadowRoot.appendChild(t.$el)}}disconnectedCallback(){_(this.vueComponent,"deactivated")}}return i||o(e),c}var k=w;i("24fb"),i("35d6");function A(t,e,i,r,n,s,a,o){var l,h="function"===typeof t?t.options:t;if(e&&(h.render=e,h.staticRenderFns=i,h._compiled=!0),r&&(h.functional=!0),s&&(h._scopeId="data-v-"+s),a?(l=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},h._ssrRegister=l):n&&(l=o?function(){n.call(this,(h.functional?this.parent:this).$root.$options.shadowRoot)}:n),l)if(h.functional){h._injectStyles=l;var c=h.render;h.render=function(t,e){return l.call(e),c(t,e)}}else{var u=h.beforeCreate;h.beforeCreate=u?[].concat(u,l):[l]}return{exports:t,options:h}}var S=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"home"},[i("dat-gui",{attrs:{closeText:"Close controls",openText:"Open controls",closePosition:"bottom"}},[i("dat-number",{attrs:{"show-slider":"",min:0,max:5,step:.001,label:"x_good"},model:{value:t.x_good,callback:function(e){t.x_good=e},expression:"x_good"}}),i("dat-number",{attrs:{"show-slider":"",min:-5,max:1,step:1,label:"x_var (log)"},model:{value:t.x_var_log,callback:function(e){t.x_var_log=e},expression:"x_var_log"}})],1),i("button",{on:{click:t.step}},[t._v("Step")]),i("button",{on:{click:t.run}},[t._v("Run")]),i("button",{on:{click:t.reset}},[t._v("Reset")]),i("button",{on:{click:t.draw}},[t._v("Draw")]),i("div",{attrs:{id:"draw-shapes"}}),i("pre",{staticClass:"output"},[t._v("solution: "+t._s(Math.pow(4.5,1/3))+"\nx_var: "+t._s(t.x_var)+"\nx_good: "+t._s(t.x_good)+"\ncost_good: "+t._s(t.cost(t.x_good))+"\nx_log: "+t._s(t.x_log))])],1)},E=[],R=i("2247"),C=i.n(R),T=i("f077");function M(){var t=0,e=0;while(0===t)t=Math.random();while(0===e)e=Math.random();return Math.sqrt(-2*Math.log(t))*Math.cos(2*Math.PI*e)}o.a.use(C.a);var O={data(){return{x_good:3,r_good:1e99,x_var:.1,x_log:[]}},mounted(){let t=document.getElementById("draw-shapes"),e={width:600,height:100},i=new T["a"](e).appendTo(t);i.scene._matrix.manual=!0,i.scene._matrix.translate(0,i.height).scale(1,-1),this.two=i,window.mytwo=i,this.draw()},computed:{x_var_log:{get(){return Math.log10(this.x_var)},set(t){this.x_var=Math.pow(10,t)}}},methods:{reset(){this.x_good=3,this.x_log=[],this.draw()},run(){console.log("run"),this.x_good=this.optimize(this.x_good,this.x_var),this.draw()},cost(t){return 20*t*t+1/t*180},optimize(t,e=.1){let i=1e99;for(let r=0;r<50;r++){let r=t+e*M(),n=this.cost(r);n<i&&(t=r,i=n,this.x_log.push(t))}return t},step(){let t=this.x_good+this.x_var*M(),e=this.cost(t);e<this.r_good&&(this.x_good=t,this.r_good=e,this.x_log.push(t))},draw(){const t=this.two;t.clear();let e=this.x_log.map((e,i)=>{let r=t.makeCircle(5*i,15*e,2);return r.fill="#FF8000",r.linewidth=0,r});t.makeLine(0,15*this.x_good,600,15*this.x_good);t.makeGroup(...e);t.update()}}},j=O;function F(t){var e=i("2991");e.__inject__&&e.__inject__(t)}var P=A(j,S,E,!1,F,null,null,!0),L=P.exports;window.customElements.define("exp-04",k(o.a,L))},8875:function(t,e,i){var r,n,s;(function(i,a){n=[],r=a,s="function"===typeof r?r.apply(e,n):r,void 0===s||(t.exports=s)})("undefined"!==typeof self&&self,(function(){function t(){var e=Object.getOwnPropertyDescriptor(document,"currentScript");if(!e&&"currentScript"in document&&document.currentScript)return document.currentScript;if(e&&e.get!==t&&document.currentScript)return document.currentScript;try{throw new Error}catch(d){var i,r,n,s=/.*at [^(]*\((.*):(.+):(.+)\)$/gi,a=/@([^@]*):(\d+):(\d+)\s*$/gi,o=s.exec(d.stack)||a.exec(d.stack),l=o&&o[1]||!1,h=o&&o[2]||!1,c=document.location.href.replace(document.location.hash,""),u=document.getElementsByTagName("script");l===c&&(i=document.documentElement.outerHTML,r=new RegExp("(?:[^\\n]+?\\n){0,"+(h-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),n=i.replace(r,"$1").trim());for(var f=0;f<u.length;f++){if("interactive"===u[f].readyState)return u[f];if(u[f].src===l)return u[f];if(l===c&&u[f].innerHTML&&u[f].innerHTML.trim()===n)return u[f]}return null}}return t}))},"8bbf":function(t,e){t.exports=Vue},c8ba:function(t,e){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(r){"object"===typeof window&&(i=window)}t.exports=i},f077:function(t,e,i){"use strict";(function(t){i.d(e,"a",(function(){return Ki}));var r,n,s=Object.defineProperty,a=(t,e,i)=>e in t?s(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i,o=(t,e)=>{for(var i in e)s(t,i,{get:e[i],enumerable:!0})},l=(t,e,i)=>(a(t,"symbol"!==typeof e?e+"":e,i),i),h={move:"M",line:"L",curve:"C",arc:"A",close:"Z"},c={};o(c,{HALF_PI:()=>f,NumArray:()=>v,TWO_PI:()=>u,decomposeMatrix:()=>d,getComputedMatrix:()=>p,getPoT:()=>b,lerp:()=>g,mod:()=>y,setMatrix:()=>_,toFixed:()=>w}),"undefined"!==typeof window?r=window:"undefined"!==typeof t?r=t:"undefined"!==typeof self&&(r=self);var u=2*Math.PI,f=.5*Math.PI;function d(t,e,i,r,n,s){let a;return arguments.length<=1?(a=t.a,e=t.b,i=t.c,r=t.d,n=t.e,s=t.f):a=t,{translateX:n,translateY:s,scaleX:Math.sqrt(a*a+e*e),scaleY:Math.sqrt(i*i+r*r),rotation:180*Math.atan2(e,a)/Math.PI}}function _(t){n=t}function p(t,e){e=e&&e.identity()||new n;let i=t;const r=[];while(i&&i._matrix)r.push(i._matrix),i=i.parent;r.reverse();for(let n=0;n<r.length;n++){const t=r[n],i=t.elements;e.multiply(i[0],i[1],i[2],i[3],i[4],i[5],i[6],i[7],i[8],i[9])}return e}function g(t,e,i){return i*(e-t)+t}var m=[2,4,8,16,32,64,128,256,512,1024,2048,4096];function b(t){let e=0;while(m[e]&&m[e]<t)e++;return m[e]}function y(t,e){while(t<0)t+=e;return t%e}var v=r.Float32Array||Array,x=Math.floor;function w(t){return x(1e6*t)/1e6}var k={};o(k,{Curve:()=>j,getAnchorsFromArcData:()=>U,getComponentOnCubicBezier:()=>F,getControlPoints:()=>z,getCurveBoundingBox:()=>I,getCurveFromPoints:()=>B,getCurveLength:()=>L,getReflection:()=>V,integrate:()=>N,subdivide:()=>P});var A=class{constructor(){l(this,"_events",{}),l(this,"_bound",!1)}addEventListener(t,e){const i=this._events[t]||(this._events[t]=[]);return i.push(e),this._bound=!0,this}on(){return this.addEventListener.apply(this,arguments)}bind(){return this.addEventListener.apply(this,arguments)}removeEventListener(t,e){if(!this._events)return this;if(!t&&!e)return this._events={},this._bound=!1,this;const i=t?[t]:Object.keys(this._events);for(let r=0,n=i.length;r<n;r++){t=i[r];let n=this._events[t];if(n){let i=[];if(e)for(let t=0,r=n.length;t<r;t++){let r=n[t];r=r.handler?r.handler:r,e!==r&&i.push(r)}this._events[t]=i}}return this}off(){return this.removeEventListener.apply(this,arguments)}unbind(){return this.removeEventListener.apply(this,arguments)}dispatchEvent(t){if(!this._events)return this;const e=Array.prototype.slice.call(arguments,1),i=this._events[t];if(i)for(let r=0;r<i.length;r++)i[r].call(this,...e);return this}trigger(){return this.dispatchEvent.apply(this,arguments)}listen(t,e,i){const r=this;function n(){i.apply(r,arguments)}return t&&(n.obj=t,n.name=e,n.handler=i,t.on(e,n)),r}ignore(t,e,i){return t.off(e,i),this}};l(A,"Types",{play:"play",pause:"pause",update:"update",render:"render",resize:"resize",change:"change",remove:"remove",insert:"insert",order:"order",load:"load"}),l(A,"Methods",["addEventListener","on","removeEventListener","off","unbind","dispatchEvent","trigger","listen","ignore"]);var S={x:{enumerable:!0,get:function(){return this._x},set:function(t){this._x!==t&&(this._x=t,this._bound&&this.dispatchEvent(A.Types.change))}},y:{enumerable:!0,get:function(){return this._y},set:function(t){this._y!==t&&(this._y=t,this._bound&&this.dispatchEvent(A.Types.change))}}},E=class extends A{constructor(t=0,e=0){super(),l(this,"_x",0),l(this,"_y",0);for(let i in S)Object.defineProperty(this,i,S[i]);this.x=t,this.y=e}static add(t,e){return new E(t.x+e.x,t.y+e.y)}static sub(t,e){return new E(t.x-e.x,t.y-e.y)}static subtract(t,e){return E.sub(t,e)}static ratioBetween(t,e){return(t.x*e.x+t.y*e.y)/(t.length()*e.length())}static angleBetween(t,e){if(arguments.length>=4){const t=arguments[0]-arguments[2],e=arguments[1]-arguments[3];return Math.atan2(e,t)}const i=t.x-e.x,r=t.y-e.y;return Math.atan2(r,i)}static distanceBetween(t,e){return Math.sqrt(E.distanceBetweenSquared(t,e))}static distanceBetweenSquared(t,e){const i=t.x-e.x,r=t.y-e.y;return i*i+r*r}set(t,e){return this.x=t,this.y=e,this}copy(t){return this.x=t.x,this.y=t.y,this}clear(){return this.x=0,this.y=0,this}clone(){return new E(this.x,this.y)}add(t,e){return arguments.length<=0||(arguments.length<=1?"number"===typeof t?(this.x+=t,this.y+=t):t&&"number"===typeof t.x&&"number"===typeof t.y&&(this.x+=t.x,this.y+=t.y):(this.x+=t,this.y+=e)),this}addSelf(t){return this.add.apply(this,arguments)}sub(t,e){return arguments.length<=0||(arguments.length<=1?"number"===typeof t?(this.x-=t,this.y-=t):t&&"number"===typeof t.x&&"number"===typeof t.y&&(this.x-=t.x,this.y-=t.y):(this.x-=t,this.y-=e)),this}subtract(){return this.sub.apply(this,arguments)}subSelf(t){return this.sub.apply(this,arguments)}subtractSelf(t){return this.sub.apply(this,arguments)}multiply(t,e){return arguments.length<=0||(arguments.length<=1?"number"===typeof t?(this.x*=t,this.y*=t):t&&"number"===typeof t.x&&"number"===typeof t.y&&(this.x*=t.x,this.y*=t.y):(this.x*=t,this.y*=e)),this}multiplySelf(t){return this.multiply.apply(this,arguments)}multiplyScalar(t){return this.multiply(t)}divide(t,e){return arguments.length<=0||(arguments.length<=1?"number"===typeof t?(this.x/=t,this.y/=t):t&&"number"===typeof t.x&&"number"===typeof t.y&&(this.x/=t.x,this.y/=t.y):(this.x/=t,this.y/=e),isNaN(this.x)&&(this.x=0),isNaN(this.y)&&(this.y=0)),this}divideSelf(t){return this.divide.apply(this,arguments)}divideScalar(t){return this.divide(t)}negate(){return this.multiply(-1)}dot(t){return this.x*t.x+this.y*t.y}length(){return Math.sqrt(this.lengthSquared())}lengthSquared(){return this.x*this.x+this.y*this.y}normalize(){return this.divideScalar(this.length())}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,i=this.y-t.y;return e*e+i*i}setLength(t){return this.normalize().multiplyScalar(t)}equals(t,e){return e="undefined"===typeof e?1e-4:e,this.distanceTo(t)<e}lerp(t,e){const i=(t.x-this.x)*e+this.x,r=(t.y-this.y)*e+this.y;return this.set(i,r)}isZero(t){return t="undefined"===typeof t?1e-4:t,this.length()<t}toString(){return this.x+", "+this.y}toObject(){return{x:this.x,y:this.y}}rotate(t){const e=this.x,i=this.y,r=Math.cos(t),n=Math.sin(t);return this.x=e*r-i*n,this.y=e*n+i*r,this}},R=E;l(R,"zero",new E);var C=class extends R{constructor(t=0,e=0,i=0,r=0,n=0,s=0,a=h.move){super(t,e),l(this,"controls",{left:new R,right:new R}),l(this,"_command",h.move),l(this,"_relative",!0),l(this,"_rx",0),l(this,"_ry",0),l(this,"_xAxisRotation",0),l(this,"_largeArcFlag",0),l(this,"_sweepFlag",1);for(let l in T)Object.defineProperty(this,l,T[l]);this.command=a,this.relative=!0;const o=C.makeBroadcast(this);this.controls.left.set(i,r).addEventListener(A.Types.change,o),this.controls.right.set(n,s).addEventListener(A.Types.change,o)}static makeBroadcast(t){return e;function e(){t._bound&&t.dispatchEvent(A.Types.change)}}copy(t){return this.x=t.x,this.y=t.y,"string"===typeof t.command&&(this.command=t.command),t.controls&&(t.controls.left&&this.controls.left.copy(t.controls.left),t.controls.right&&this.controls.right.copy(t.controls.right)),"boolean"===typeof t.relative&&(this.relative=t.relative),"number"===typeof t.rx&&(this.rx=t.rx),"number"===typeof t.ry&&(this.ry=t.ry),"number"===typeof t.xAxisRotation&&(this.xAxisRotation=t.xAxisRotation),"number"===typeof t.largeArcFlag&&(this.largeArcFlag=t.largeArcFlag),"number"===typeof t.sweepFlag&&(this.sweepFlag=t.sweepFlag),this}clone(){return(new C).copy(this)}toObject(){return{x:this.x,y:this.y,command:this.command,relative:this.relative,controls:{left:this.controls.left.toObject(),right:this.controls.right.toObject()},rx:this.rx,ry:this.ry,xAxisRotation:this.xAxisRotation,largeArcFlag:this.largeArcFlag,sweepFlag:this.sweepFlag}}toString(){return JSON.stringify(this.toObject())}},T={command:{enumerable:!0,get:function(){return this._command},set:function(t){this._command!==t&&(this._command=t,this._bound&&this.dispatchEvent(A.Types.change))}},relative:{enumerable:!0,get:function(){return this._relative},set:function(t){this._relative!==!!t&&(this._relative=!!t,this._bound&&this.dispatchEvent(A.Types.change))}},rx:{enumerable:!0,get:function(){return this._rx},set:function(t){this._rx!==t&&(this._rx=t,this._bound&&this.dispatchEvent(A.Types.change))}},ry:{enumerable:!0,get:function(){return this._ry},set:function(t){this._ry!==t&&(this._ry=t,this._bound&&this.dispatchEvent(A.Types.change))}},xAxisRotation:{enumerable:!0,get:function(){return this._xAxisRotation},set:function(t){this._xAxisRotation!==t&&(this._xAxisRotation=t,this._bound&&this.dispatchEvent(A.Types.change))}},largeArcFlag:{enumerable:!0,get:function(){return this._largeArcFlag},set:function(t){this._largeArcFlag!==t&&(this._largeArcFlag=t,this._bound&&this.dispatchEvent(A.Types.change))}},sweepFlag:{get:function(){return this._sweepFlag},set:function(t){this._sweepFlag!==t&&(this._sweepFlag=t,this._bound&&this.dispatchEvent(A.Types.change))}}},M=0,O={nextFrameID:null,Types:{webgl:"WebGLRenderer",svg:"SVGRenderer",canvas:"CanvasRenderer"},Version:"v0.8.3",PublishDate:"2022-01-29T18:46:24.333Z",Identifier:"two-",Resolution:12,AutoCalculateImportedMatrices:!0,Instances:[],uniqueId:function(){return M++}},j={CollinearityEpsilon:Math.pow(10,-30),RecursionLimit:16,CuspLimit:0,Tolerance:{distance:.25,angle:0,epsilon:Number.EPSILON},abscissas:[[.5773502691896257],[0,.7745966692414834],[.33998104358485626,.8611363115940526],[0,.5384693101056831,.906179845938664],[.2386191860831969,.6612093864662645,.932469514203152],[0,.4058451513773972,.7415311855993945,.9491079123427585],[.1834346424956498,.525532409916329,.7966664774136267,.9602898564975363],[0,.3242534234038089,.6133714327005904,.8360311073266358,.9681602395076261],[.14887433898163122,.4333953941292472,.6794095682990244,.8650633666889845,.9739065285171717],[0,.26954315595234496,.5190961292068118,.7301520055740494,.8870625997680953,.978228658146057],[.1252334085114689,.3678314989981802,.5873179542866175,.7699026741943047,.9041172563704749,.9815606342467192],[0,.2304583159551348,.44849275103644687,.6423493394403402,.8015780907333099,.9175983992229779,.9841830547185881],[.10805494870734367,.31911236892788974,.5152486363581541,.6872929048116855,.827201315069765,.9284348836635735,.9862838086968123],[0,.20119409399743451,.3941513470775634,.5709721726085388,.7244177313601701,.8482065834104272,.937273392400706,.9879925180204854],[.09501250983763744,.2816035507792589,.45801677765722737,.6178762444026438,.755404408355003,.8656312023878318,.9445750230732326,.9894009349916499]],weights:[[1],[.8888888888888888,.5555555555555556],[.6521451548625461,.34785484513745385],[.5688888888888889,.47862867049936647,.23692688505618908],[.46791393457269104,.3607615730481386,.17132449237917036],[.4179591836734694,.3818300505051189,.27970539148927664,.1294849661688697],[.362683783378362,.31370664587788727,.22238103445337448,.10122853629037626],[.3302393550012598,.31234707704000286,.26061069640293544,.1806481606948574,.08127438836157441],[.29552422471475287,.26926671930999635,.21908636251598204,.1494513491505806,.06667134430868814],[.2729250867779006,.26280454451024665,.23319376459199048,.18629021092773426,.1255803694649046,.05566856711617366],[.24914704581340277,.2334925365383548,.20316742672306592,.16007832854334622,.10693932599531843,.04717533638651183],[.2325515532308739,.22628318026289723,.2078160475368885,.17814598076194574,.13887351021978725,.09212149983772845,.04048400476531588],[.2152638534631578,.2051984637212956,.18553839747793782,.15720316715819355,.12151857068790319,.08015808715976021,.03511946033175186],[.2025782419255613,.19843148532711158,.1861610000155622,.16626920581699392,.13957067792615432,.10715922046717194,.07036604748810812,.03075324199611727],[.1894506104550685,.18260341504492358,.16915651939500254,.14959598881657674,.12462897125553388,.09515851168249279,.062253523938647894,.027152459411754096]]};function F(t,e,i,r,n){const s=1-t;return s*s*s*e+3*s*s*t*i+3*s*t*t*r+t*t*t*n}function P(t,e,i,r,n,s,a,o,l){l=l||j.RecursionLimit;const h=l+1;if(Math.abs(t-a)<.001&&Math.abs(e-o)<.001)return[new C(a,o)];const c=[];for(let u=0;u<h;u++){const l=u/h,f=F(l,t,i,n,a),d=F(l,e,r,s,o);c.push(new C(f,d))}return c}function L(t,e,i,r,n,s,a,o,l){if(t===i&&e===r&&n===a&&s===o){const i=a-t,r=o-e;return Math.sqrt(i*i+r*r)}const h=9*(i-n)+3*(a-t),c=6*(t+n)-12*i,u=3*(i-t),f=9*(r-s)+3*(o-e),d=6*(e+s)-12*r,_=3*(r-e);function p(t){const e=(h*t+c)*t+u,i=(f*t+d)*t+_;return Math.sqrt(e*e+i*i)}return N(p,0,1,l||j.RecursionLimit)}function I(t,e,i,r,n,s,a,o){const l=[],h=[[],[]];let c,u,f,d,_,p,g,m;for(let x=0;x<2;++x)if(0==x?(u=6*t-12*i+6*n,c=-3*t+9*i-9*n+3*a,f=3*i-3*t):(u=6*e-12*r+6*s,c=-3*e+9*r-9*s+3*o,f=3*r-3*e),Math.abs(c)<1e-12){if(Math.abs(u)<1e-12)continue;d=-f/u,0<d&&d<1&&l.push(d)}else g=u*u-4*f*c,m=Math.sqrt(g),g<0||(_=(-u+m)/(2*c),0<_&&_<1&&l.push(_),p=(-u-m)/(2*c),0<p&&p<1&&l.push(p));let b,y=l.length,v=y;while(y--)d=l[y],b=1-d,h[0][y]=b*b*b*t+3*b*b*d*i+3*b*d*d*n+d*d*d*a,h[1][y]=b*b*b*e+3*b*b*d*r+3*b*d*d*s+d*d*d*o;return h[0][v]=t,h[1][v]=e,h[0][v+1]=a,h[1][v+1]=o,h[0].length=h[1].length=v+2,{min:{x:Math.min.apply(0,h[0]),y:Math.min.apply(0,h[1])},max:{x:Math.max.apply(0,h[0]),y:Math.max.apply(0,h[1])}}}function N(t,e,i,r){let n=j.abscissas[r-2],s=j.weights[r-2],a=.5*(i-e),o=a+e,l=0,h=r+1>>1,c=1&r?s[l++]*t(o):0;while(l<h){const e=a*n[l];c+=s[l++]*(t(o+e)+t(o-e))}return a*c}function B(t,e){const i=t.length,r=i-1;for(let n=0;n<i;n++){const s=t[n],a=e?y(n-1,i):Math.max(n-1,0),o=e?y(n+1,i):Math.min(n+1,r),l=t[a],c=s,u=t[o];z(l,c,u),c.command=0===n?h.move:h.curve}}function z(t,e,i){const r=R.angleBetween(t,e),n=R.angleBetween(i,e);let s=R.distanceBetween(t,e),a=R.distanceBetween(i,e),o=(r+n)/2;return s<1e-4||a<1e-4?("boolean"!==typeof e.relative||e.relative||(e.controls.left.copy(e),e.controls.right.copy(e)),e):(s*=.33,a*=.33,n<r?o+=f:o-=f,e.controls.left.x=Math.cos(o)*s,e.controls.left.y=Math.sin(o)*s,o-=Math.PI,e.controls.right.x=Math.cos(o)*a,e.controls.right.y=Math.sin(o)*a,"boolean"!==typeof e.relative||e.relative||(e.controls.left.x+=e.x,e.controls.left.y+=e.y,e.controls.right.x+=e.x,e.controls.right.y+=e.y),e)}function V(t,e,i){return new R(2*t.x-(e.x+t.x)-(i?t.x:0),2*t.y-(e.y+t.y)-(i?t.y:0))}function U(t,e,i,r,n,s,a){const o=O.Resolution,l=[];for(let c=0;c<o;c++){let t=(c+1)/o;a&&(t=1-t);const e=t*s+n,u=i*Math.cos(e),f=r*Math.sin(e),d=new C(u,f);d.command=h.line,l.push(d)}}var D=r.devicePixelRatio||1;function $(t){return t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1}function Y(t){return D/$(t)}var X=Array.prototype.slice;function H(t){if(null===t||void 0===t)return!1;const e=t.length;return"number"==typeof e&&e>=0&&e<4294967296}var W={isNaN:function(t){return"number"===typeof t&&t!==+t},isElement:function(t){return!(!t||1!==t.nodeType)},isObject:function(t){const e=typeof t;return"function"===e||"object"===e&&!!t},extend:function(t){const e=X.call(arguments,1);for(let i=0;i<e.length;i++){const r=e[i];for(let e in r)t[e]=r[e]}return t},defaults:function(t){const e=X.call(arguments,1);for(let i=0;i<e.length;i++){const r=e[i];for(let e in r)void 0===t[e]&&(t[e]=r[e])}return t},each:function(t,e,i){const r=i||this,n=!H(t)&&Object.keys(t),s=(n||t).length;for(let a=0;a<s;a++){const i=n?n[a]:a;e.call(r,t[i],i,t)}return t},performance:r.performance&&r.performance.now?r.performance:Date},G=class extends A{constructor(){super(),l(this,"_flagId",!1),l(this,"_flagClassName",!1),l(this,"_renderer",{}),l(this,"_id",""),l(this,"_className",""),l(this,"classList",[]);for(let t in q)Object.defineProperty(this,t,q[t])}flagReset(){this._flagId=this._flagClassName=!1}},q={renderer:{enumerable:!1,get:function(){return this._renderer}},id:{enumerable:!0,get:function(){return this._id},set:function(t){const e=this._id;t!==this._id&&(this._id=t,this._flagId=!0,this.parent&&(delete this.parent.children.ids[e],this.parent.children.ids[this._id]=this))}},className:{enumerable:!0,get:function(){return this._className},set:function(t){this._className!==t&&(this._flagClassName=!0,this.classList=t.split(/\s+?/),this._className=t)}}},K=Math.cos,J=Math.sin,Q=Math.tan,Z=[],tt=class extends A{constructor(t,e,i,r,n,s){super(),l(this,"elements",new v(9)),l(this,"manual",!1);let a=t;Array.isArray(a)||(a=Array.prototype.slice.call(arguments)),this.identity(),a.length>0&&this.set(a)}static Multiply(t,e,i){if(e.length<=3){const i=t;let r,n,s;const a=e[0]||0,o=e[1]||0,l=e[2]||0;return r=i[0]*a+i[1]*o+i[2]*l,n=i[3]*a+i[4]*o+i[5]*l,s=i[6]*a+i[7]*o+i[8]*l,{x:r,y:n,z:s}}const r=t[0],n=t[1],s=t[2],a=t[3],o=t[4],l=t[5],h=t[6],c=t[7],u=t[8],f=e[0],d=e[1],_=e[2],p=e[3],g=e[4],m=e[5],b=e[6],y=e[7],x=e[8];return i=i||new v(9),i[0]=r*f+n*p+s*b,i[1]=r*d+n*g+s*y,i[2]=r*_+n*m+s*x,i[3]=a*f+o*p+l*b,i[4]=a*d+o*g+l*y,i[5]=a*_+o*m+l*x,i[6]=h*f+c*p+u*b,i[7]=h*d+c*g+u*y,i[8]=h*_+c*m+u*x,i}set(t,e,i,r,n,s,a,o,l){if("undefined"===typeof e){const h=t;t=h[0],e=h[1],i=h[2],r=h[3],n=h[4],s=h[5],a=h[6],o=h[7],l=h[8]}return this.elements[0]=t,this.elements[1]=e,this.elements[2]=i,this.elements[3]=r,this.elements[4]=n,this.elements[5]=s,this.elements[6]=a,this.elements[7]=o,this.elements[8]=l,this.trigger(A.Types.change)}copy(t){return this.elements[0]=t.elements[0],this.elements[1]=t.elements[1],this.elements[2]=t.elements[2],this.elements[3]=t.elements[3],this.elements[4]=t.elements[4],this.elements[5]=t.elements[5],this.elements[6]=t.elements[6],this.elements[7]=t.elements[7],this.elements[8]=t.elements[8],this.manual=t.manual,this.trigger(A.Types.change)}identity(){return this.elements[0]=tt.Identity[0],this.elements[1]=tt.Identity[1],this.elements[2]=tt.Identity[2],this.elements[3]=tt.Identity[3],this.elements[4]=tt.Identity[4],this.elements[5]=tt.Identity[5],this.elements[6]=tt.Identity[6],this.elements[7]=tt.Identity[7],this.elements[8]=tt.Identity[8],this.trigger(A.Types.change)}multiply(t,e,i,r,n,s,a,o,l){if("undefined"===typeof e)return this.elements[0]*=t,this.elements[1]*=t,this.elements[2]*=t,this.elements[3]*=t,this.elements[4]*=t,this.elements[5]*=t,this.elements[6]*=t,this.elements[7]*=t,this.elements[8]*=t,this.trigger(A.Types.change);if("undefined"===typeof r){t=t||0,e=e||0,i=i||0,n=this.elements;const r=n[0]*t+n[1]*e+n[2]*i,s=n[3]*t+n[4]*e+n[5]*i,a=n[6]*t+n[7]*e+n[8]*i;return{x:r,y:s,z:a}}const h=this.elements,c=[t,e,i,r,n,s,a,o,l],u=h[0],f=h[1],d=h[2],_=h[3],p=h[4],g=h[5],m=h[6],b=h[7],y=h[8],v=c[0],x=c[1],w=c[2],k=c[3],S=c[4],E=c[5],R=c[6],C=c[7],T=c[8];return this.elements[0]=u*v+f*k+d*R,this.elements[1]=u*x+f*S+d*C,this.elements[2]=u*w+f*E+d*T,this.elements[3]=_*v+p*k+g*R,this.elements[4]=_*x+p*S+g*C,this.elements[5]=_*w+p*E+g*T,this.elements[6]=m*v+b*k+y*R,this.elements[7]=m*x+b*S+y*C,this.elements[8]=m*w+b*E+y*T,this.trigger(A.Types.change)}inverse(t){const e=this.elements;t=t||new tt;const i=e[0],r=e[1],n=e[2],s=e[3],a=e[4],o=e[5],l=e[6],h=e[7],c=e[8],u=c*a-o*h,f=-c*s+o*l,d=h*s-a*l;let _=i*u+r*f+n*d;return _?(_=1/_,t.elements[0]=u*_,t.elements[1]=(-c*r+n*h)*_,t.elements[2]=(o*r-n*a)*_,t.elements[3]=f*_,t.elements[4]=(c*i-n*l)*_,t.elements[5]=(-o*i+n*s)*_,t.elements[6]=d*_,t.elements[7]=(-h*i+r*l)*_,t.elements[8]=(a*i-r*s)*_,t):null}scale(t,e){const i=arguments.length;return i<=1&&(e=t),this.multiply(t,0,0,0,e,0,0,0,1)}rotate(t){const e=K(t),i=J(t);return this.multiply(e,-i,0,i,e,0,0,0,1)}translate(t,e){return this.multiply(1,0,t,0,1,e,0,0,1)}skewX(t){const e=Q(t);return this.multiply(1,e,0,0,1,0,0,0,1)}skewY(t){const e=Q(t);return this.multiply(1,0,0,e,1,0,0,0,1)}toString(t){return Z.length=0,this.toTransformArray(t,Z),Z.map(w).join(" ")}toTransformArray(t,e){const i=this.elements,r=!!e,n=i[0],s=i[1],a=i[2],o=i[3],l=i[4],h=i[5];if(t){const t=i[6],c=i[7],u=i[8];return r?(e[0]=n,e[1]=o,e[2]=t,e[3]=s,e[4]=l,e[5]=c,e[6]=a,e[7]=h,void(e[8]=u)):[n,o,t,s,l,c,a,h,u]}return r?(e[0]=n,e[1]=o,e[2]=s,e[3]=l,e[4]=a,void(e[5]=h)):[n,o,s,l,a,h]}toArray(t,e){const i=this.elements,r=!!e,n=i[0],s=i[1],a=i[2],o=i[3],l=i[4],h=i[5];if(t){const t=i[6],c=i[7],u=i[8];return r?(e[0]=n,e[1]=s,e[2]=a,e[3]=o,e[4]=l,e[5]=h,e[6]=t,e[7]=c,void(e[8]=u)):[n,s,a,o,l,h,t,c,u]}return r?(e[0]=n,e[1]=s,e[2]=a,e[3]=o,e[4]=l,void(e[5]=h)):[n,s,a,o,l,h]}toObject(){return{elements:this.toArray(!0),manual:!!this.manual}}clone(){return(new tt).copy(this)}},et=tt;l(et,"Identity",[1,0,0,0,1,0,0,0,1]),_(et);var it=class extends G{constructor(){super(),l(this,"_flagMatrix",!0),l(this,"_flagScale",!1),l(this,"_matrix",null),l(this,"_worldMatrix",null),l(this,"_position",null),l(this,"_rotation",0),l(this,"_scale",1),l(this,"_skewX",0),l(this,"_skewY",0);for(let t in rt)Object.defineProperty(this,t,rt[t]);this._renderer.flagMatrix=nt.bind(this),this.isShape=!0,this.id=O.Identifier+O.uniqueId(),this.matrix=new et,this.worldMatrix=new et,this.position=new R,this.rotation=0,this.scale=1,this.skewX=0,this.skewY=0}get renderer(){return this._renderer}set renderer(t){this._renderer=t}get translation(){return rt.position.get.apply(this,arguments)}set translation(t){rt.position.set.apply(this,arguments)}addTo(t){return t.add(this),this}remove(){return this.parent?(this.parent.remove(this),this):this}clone(t){const e=new it;return e.position.copy(this.position),e.rotation=this.rotation,e.scale=this.scale,e.skewX=this.skewX,e.skewY=this.skewY,this.matrix.manual&&e.matrix.copy(this.matrix),t&&t.add(e),e._update()}_update(t){return!this._matrix.manual&&this._flagMatrix&&(this._matrix.identity().translate(this.position.x,this.position.y),this._scale instanceof R?this._matrix.scale(this._scale.x,this._scale.y):this._matrix.scale(this._scale),this._matrix.rotate(this.rotation),this._matrix.skewX(this.skewX),this._matrix.skewY(this.skewY)),t&&this.parent&&this.parent._update&&this.parent._update(),this}flagReset(){return this._flagMatrix=this._flagScale=!1,super.flagReset.call(this),this}},rt={position:{enumerable:!0,get:function(){return this._position},set:function(t){this._position&&this._position.unbind(A.Types.change,this._renderer.flagMatrix),this._position=t,this._position.bind(A.Types.change,this._renderer.flagMatrix),nt.call(this)}},rotation:{enumerable:!0,get:function(){return this._rotation},set:function(t){this._rotation=t,this._flagMatrix=!0}},scale:{enumerable:!0,get:function(){return this._scale},set:function(t){this._scale instanceof R&&this._scale.unbind(A.Types.change,this._renderer.flagMatrix),this._scale=t,this._scale instanceof R&&this._scale.bind(A.Types.change,this._renderer.flagMatrix),this._flagMatrix=!0,this._flagScale=!0}},skewX:{enumerable:!0,get:function(){return this._skewX},set:function(t){this._skewX=t,this._flagMatrix=!0}},skewY:{enumerable:!0,get:function(){return this._skewY},set:function(t){this._skewY=t,this._flagMatrix=!0}},matrix:{enumerable:!0,get:function(){return this._matrix},set:function(t){this._matrix=t,this._flagMatrix=!0}},worldMatrix:{enumerable:!0,get:function(){return p(this,this._worldMatrix),this._worldMatrix},set:function(t){this._worldMatrix=t}}};function nt(){this._flagMatrix=!0}var st=class extends Array{constructor(){super(),l(this,"_events",new A),arguments[0]&&Array.isArray(arguments[0])?arguments[0].length>0&&this.push.apply(this,arguments[0]):arguments.length>0&&this.push.apply(this,arguments)}get _bound(){return this._events._bound}set _bound(t){this._events._bound=t}addEventListener(){return this._events.addEventListener.apply(this,arguments)}on(){return this._events.on.apply(this,arguments)}bind(){return this._events.bind.apply(this,arguments)}removeEventListener(){return this._events.removeEventListener.apply(this,arguments)}off(){return this._events.off.apply(this,arguments)}unbind(){return this._events.unbind.apply(this,arguments)}dispatchEvent(){return this._events.dispatchEvent.apply(this,arguments)}trigger(){return this._events.trigger.apply(this,arguments)}listen(){return this._events.listen.apply(this,arguments)}ignore(){return this._events.ignore.apply(this,arguments)}pop(){const t=super.pop.apply(this,arguments);return this.trigger(A.Types.remove,[t]),t}shift(){const t=super.shift.apply(this,arguments);return this.trigger(A.Types.remove,[t]),t}push(){const t=super.push.apply(this,arguments);return this.trigger(A.Types.insert,arguments),t}unshift(){const t=super.unshift.apply(this,arguments);return this.trigger(A.Types.insert,arguments),t}splice(){const t=super.splice.apply(this,arguments);if(this.trigger(A.Types.remove,t),arguments.length>2){const t=this.slice(arguments[0],arguments[0]+arguments.length-2);this.trigger(A.Types.insert,t),this.trigger(A.Types.order)}return t}sort(){return super.sort.apply(this,arguments),this.trigger(A.Types.order),this}reverse(){return super.reverse.apply(this,arguments),this.trigger(A.Types.order),this}indexOf(){return super.indexOf.apply(this,arguments)}},at=class extends st{constructor(t){t=Array.isArray(t)?t:Array.prototype.slice.call(arguments),super(t),l(this,"ids",{}),this.attach(t),this.on(A.Types.insert,this.attach),this.on(A.Types.remove,this.detach)}attach(t){for(let e=0;e<t.length;e++){const i=t[e];i&&i.id&&(this.ids[i.id]=i)}return this}detach(t){for(let e=0;e<t.length;e++)delete this.ids[t[e].id];return this}},ot=Math.min,lt=Math.max,ht=class extends it{constructor(t){super(),l(this,"_flagAdditions",!1),l(this,"_flagSubtractions",!1),l(this,"_flagOrder",!1),l(this,"_flagOpacity",!0),l(this,"_flagBeginning",!1),l(this,"_flagEnding",!1),l(this,"_flagLength",!1),l(this,"_flagMask",!1),l(this,"_fill","#fff"),l(this,"_stroke","#000"),l(this,"_linewidth",1),l(this,"_opacity",1),l(this,"_visible",!0),l(this,"_cap","round"),l(this,"_join","round"),l(this,"_miter",4),l(this,"_closed",!0),l(this,"_curved",!1),l(this,"_automatic",!0),l(this,"_beginning",0),l(this,"_ending",1),l(this,"_length",0),l(this,"_mask",null);for(let e in ut)Object.defineProperty(this,e,ut[e]);this._renderer.type="group",this.additions=[],this.subtractions=[],this.children=Array.isArray(t)?t:Array.prototype.slice.call(arguments)}static InsertChildren(t){for(let e=0;e<t.length;e++)ft.call(this,t[e],this)}static RemoveChildren(t){for(let e=0;e<t.length;e++)ft.call(this,t[e])}static OrderChildren(t){this._flagOrder=!0}clone(t){const e=new ht,i=this.children.map((function(t){return t.clone()}));return e.add(i),e.opacity=this.opacity,this.mask&&(e.mask=this.mask),e.translation.copy(this.translation),e.rotation=this.rotation,e.scale=this.scale,e.className=this.className,this.matrix.manual&&e.matrix.copy(this.matrix),t&&t.add(e),e._update()}toObject(){const t={children:[],translation:this.translation.toObject(),rotation:this.rotation,scale:this.scale instanceof R?this.scale.toObject():this.scale,opacity:this.opacity,className:this.className,mask:this.mask?this.mask.toObject():null};return this.matrix.manual&&(t.matrix=this.matrix.toObject()),W.each(this.children,(function(e,i){t.children[i]=e.toObject()}),this),t}corner(){const t=this.getBoundingClientRect(!0);for(let e=0;e<this.children.length;e++){const i=this.children[e];i.translation.x-=t.left,i.translation.y-=t.top}return this.mask&&(this.mask.translation.x-=t.left,this.mask.translation.y-=t.top),this}center(){const t=this.getBoundingClientRect(!0),e=t.left+t.width/2-this.translation.x,i=t.top+t.height/2-this.translation.y;for(let r=0;r<this.children.length;r++){const t=this.children[r];t.isShape&&(t.translation.x-=e,t.translation.y-=i)}return this.mask&&(this.mask.translation.x-=e,this.mask.translation.y-=i),this}getById(t){let e=null;function i(r){if(r.id===t)return r;if(r.children)for(let t=0;t<r.children.length;t++)if(e=i(r.children[t]),e)return e;return null}return i(this)}getByClassName(t){const e=[];function i(r){if(Array.prototype.indexOf.call(r.classList,t)>=0&&e.push(r),r.children)for(let t=0;t<r.children.length;t++){const e=r.children[t];i(e)}return e}return i(this)}getByType(t){const e=[];function i(r){if(r instanceof t&&e.push(r),r.children)for(let t=0;t<r.children.length;t++){const e=r.children[t];i(e)}return e}return i(this)}add(t){t=t instanceof Array?t.slice():Array.prototype.slice.call(arguments);for(let e=0;e<t.length;e++){const i=t[e];if(!i||!i.id)continue;const r=Array.prototype.indexOf.call(this.children,i);r>=0&&this.children.splice(r,1),this.children.push(i)}return this}remove(t){const e=arguments.length,i=this.parent;if(e<=0&&i)return i.remove(this),this;t=t instanceof Array?t.slice():Array.prototype.slice.call(arguments);for(let r=0;r<t.length;r++){const e=t[r];if(!e||!this.children.ids[e.id])continue;const i=this.children.indexOf(e);i>=0&&this.children.splice(i,1)}return this}getBoundingClientRect(t){let e,i,r,n,s,a,o,l,h,c;this._update(!0);let u=1/0,f=-1/0,d=1/0,_=-1/0;const g=/texture|gradient/i;i=t?this._matrix:p(this);for(let p=0;p<this.children.length;p++){const i=this.children[p];i.visible&&!g.test(i._renderer.type)&&(e=i.getBoundingClientRect(t),o="number"!==typeof e.top||W.isNaN(e.top)||!isFinite(e.top),l="number"!==typeof e.left||W.isNaN(e.left)||!isFinite(e.left),h="number"!==typeof e.right||W.isNaN(e.right)||!isFinite(e.right),c="number"!==typeof e.bottom||W.isNaN(e.bottom)||!isFinite(e.bottom),o||l||h||c||(d=ot(e.top,d),u=ot(e.left,u),f=lt(e.right,f),_=lt(e.bottom,_)))}return t&&(r=i.multiply(u,d,1),n=i.multiply(u,_,1),s=i.multiply(f,d,1),a=i.multiply(f,_,1),d=ot(r.y,n.y,s.y,a.y),u=ot(r.x,n.x,s.x,a.x),f=lt(r.x,n.x,s.x,a.x),_=lt(r.y,n.y,s.y,a.y)),{top:d,left:u,right:f,bottom:_,width:f-u,height:_-d}}noFill(){return this.children.forEach((function(t){t.noFill()})),this}noStroke(){return this.children.forEach((function(t){t.noStroke()})),this}subdivide(){const t=arguments;return this.children.forEach((function(e){e.subdivide.apply(e,t)})),this}_update(){let t,e,i;if(this._flagBeginning||this._flagEnding){const r=Math.min(this._beginning,this._ending),n=Math.max(this._beginning,this._ending),s=this.length;let a=0;const o=r*s,l=n*s;for(t=0;t<this.children.length;t++)i=this.children[t],e=i.length,o>a+e?(i.beginning=1,i.ending=1):l<a?(i.beginning=0,i.ending=0):o>a&&o<a+e?(i.beginning=(o-a)/e,i.ending=1):l>a&&l<a+e?(i.beginning=0,i.ending=(l-a)/e):(i.beginning=0,i.ending=1),a+=e}return super._update.apply(this,arguments)}flagReset(){return this._flagAdditions&&(this.additions.length=0,this._flagAdditions=!1),this._flagSubtractions&&(this.subtractions.length=0,this._flagSubtractions=!1),this._flagOrder=this._flagMask=this._flagOpacity=this._flagBeginning=this._flagEnding=!1,super.flagReset.call(this),this}},ct=ht;l(ct,"Children",at),l(ct,"Properties",["fill","stroke","linewidth","cap","join","miter","closed","curved","automatic"]);var ut={visible:{enumerable:!0,get:function(){return this._visible},set:function(t){this._flagVisible=this._visible!==t||this._flagVisible,this._visible=t}},opacity:{enumerable:!0,get:function(){return this._opacity},set:function(t){this._flagOpacity=this._opacity!==t||this._flagOpacity,this._opacity=t}},beginning:{enumerable:!0,get:function(){return this._beginning},set:function(t){this._flagBeginning=this._beginning!==t||this._flagBeginning,this._beginning=t}},ending:{enumerable:!0,get:function(){return this._ending},set:function(t){this._flagEnding=this._ending!==t||this._flagEnding,this._ending=t}},length:{enumerable:!0,get:function(){if(this._flagLength||this._length<=0){if(this._length=0,!this.children)return this._length;for(let t=0;t<this.children.length;t++){const e=this.children[t];this._length+=e.length}}return this._length}},fill:{enumerable:!0,get:function(){return this._fill},set:function(t){this._fill=t;for(let e=0;e<this.children.length;e++){const i=this.children[e];i.fill=t}}},stroke:{enumerable:!0,get:function(){return this._stroke},set:function(t){this._stroke=t;for(let e=0;e<this.children.length;e++){const i=this.children[e];i.stroke=t}}},linewidth:{enumerable:!0,get:function(){return this._linewidth},set:function(t){this._linewidth=t;for(let e=0;e<this.children.length;e++){const i=this.children[e];i.linewidth=t}}},join:{enumerable:!0,get:function(){return this._join},set:function(t){this._join=t;for(let e=0;e<this.children.length;e++){const i=this.children[e];i.join=t}}},miter:{enumerable:!0,get:function(){return this._miter},set:function(t){this._miter=t;for(let e=0;e<this.children.length;e++){const i=this.children[e];i.miter=t}}},cap:{enumerable:!0,get:function(){return this._cap},set:function(t){this._cap=t;for(let e=0;e<this.children.length;e++){const i=this.children[e];i.cap=t}}},closed:{enumerable:!0,get:function(){return this._closed},set:function(t){this._closed=t;for(let e=0;e<this.children.length;e++){const i=this.children[e];i.closed=t}}},curved:{enumerable:!0,get:function(){return this._curved},set:function(t){this._curved=t;for(let e=0;e<this.children.length;e++){const i=this.children[e];i.curved=t}}},automatic:{enumerable:!0,get:function(){return this._automatic},set:function(t){this._automatic=t;for(let e=0;e<this.children.length;e++){const i=this.children[e];i.automatic=t}}},children:{enumerable:!0,get:function(){return this._children},set:function(t){const e=ct.InsertChildren.bind(this),i=ct.RemoveChildren.bind(this),r=ct.OrderChildren.bind(this);this._children&&(this._children.unbind(),this._children.length>0&&i(this._children)),this._children=new at(t),this._children.bind(A.Types.insert,e),this._children.bind(A.Types.remove,i),this._children.bind(A.Types.order,r),t.length>0&&e(t)}},mask:{enumerable:!0,get:function(){return this._mask},set:function(t){this._mask=t,this._flagMask=!0,W.isObject(t)&&!t.clip&&(t.clip=!0)}}};function ft(t,e){const i=t.parent;let r;function n(){e.subtractions.length>0&&(r=Array.prototype.indexOf.call(e.subtractions,t),r>=0&&e.subtractions.splice(r,1)),e.additions.length>0&&(r=Array.prototype.indexOf.call(e.additions,t),r>=0&&e.additions.splice(r,1)),t.parent=e,e.additions.push(t),e._flagAdditions=!0}function s(){r=Array.prototype.indexOf.call(i.additions,t),r>=0&&i.additions.splice(r,1),r=Array.prototype.indexOf.call(i.subtractions,t),r<0&&(i.subtractions.push(t),i._flagSubtractions=!0)}i!==e?(i&&i.children.ids[t.id]&&(r=Array.prototype.indexOf.call(i.children,t),i.children.splice(r,1),s()),e?n():(s(),i._flagAdditions&&0===i.additions.length&&(i._flagAdditions=!1),i._flagSubtractions&&0===i.subtractions.length&&(i._flagSubtractions=!1),delete t.parent)):n()}var dt=new et,_t=[],pt=Math.max,gt=Math.min,mt=Math.abs,bt=Math.sin,yt=Math.cos,vt=Math.acos,xt=Math.sqrt,wt={isHidden:/(undefined|none|transparent)/i,alignments:{left:"start",middle:"center",right:"end"},shim:function(t,e){return t.tagName=t.nodeName=e||"canvas",t.nodeType=1,t.getAttribute=function(t){return this[t]},t.setAttribute=function(t,e){return this[t]=e,this},t},group:{renderChild:function(t){wt[t._renderer.type].render.call(t,this.ctx,!0,this.clip)},render:function(t){if(!this._visible)return this;this._update();const e=this._matrix.elements,i=this.parent;this._renderer.opacity=this._opacity*(i&&i._renderer?i._renderer.opacity:1);const r=this._mask,n=Et(e),s=!n||!!r;if(this._renderer.context||(this._renderer.context={}),this._renderer.context.ctx=t,s&&(t.save(),n||t.transform(e[0],e[3],e[1],e[4],e[2],e[5])),r&&wt[r._renderer.type].render.call(r,t,!0),this._opacity>0&&0!==this._scale)for(let a=0;a<this.children.length;a++){const e=this.children[a];wt[e._renderer.type].render.call(e,t)}return s&&t.restore(),this.flagReset()}},path:{render:function(t,e,i){let r,n,s,a,o,l,c,u,f,d,_,p,g,m,b,v,x,w,k,A,S,E,C,T,M,O,j,F,P,L,I,N,B,z,V,U,D,$,Y,X,H;if(z=this.parent&&this.parent._renderer?this.parent._renderer.opacity:1,P=this._mask,L=this._clip,o=this._opacity*(z||1),l=this._visible,!e&&(!l||L||0===o))return this;this._update(),r=this._matrix.elements,n=this._stroke,s=this._linewidth,a=this._fill,c=this._cap,u=this._join,f=this._miter,d=this._closed,_=this._renderer.vertices,p=_.length,g=p-1,I=Et(r),B=this.dashes,I||(t.save(),t.transform(r[0],r[3],r[1],r[4],r[2],r[5])),P&&wt[P._renderer.type].render.call(P,t,!0),a&&("string"===typeof a?t.fillStyle=a:(wt[a._renderer.type].render.call(a,t,this),t.fillStyle=a._renderer.effect)),n&&("string"===typeof n?t.strokeStyle=n:(wt[n._renderer.type].render.call(n,t,this),t.strokeStyle=n._renderer.effect),s&&(t.lineWidth=s),f&&(t.miterLimit=f),u&&(t.lineJoin=u),!d&&c&&(t.lineCap=c)),"number"===typeof o&&(t.globalAlpha=o),B&&B.length>0&&(t.lineDashOffset=B.offset||0,t.setLineDash(B)),t.beginPath();for(let W=0;W<p;W++)switch(v=_[W],j=v.x,F=v.y,v.command){case h.close:t.closePath();break;case h.arc:V=v.rx,U=v.ry,D=v.xAxisRotation,$=v.largeArcFlag,Y=v.sweepFlag,m=d?y(W-1,p):pt(W-1,0),b=_[m],X=b.x,H=b.y,wt.renderSvgArcCommand(t,X,H,V,U,$,Y,D,j,F);break;case h.curve:m=d?y(W-1,p):Math.max(W-1,0),b=_[m],C=b.controls&&b.controls.right||R.zero,T=v.controls&&v.controls.left||R.zero,b._relative?(S=C.x+b.x,E=C.y+b.y):(S=C.x,E=C.y),v._relative?(k=T.x+v.x,A=T.y+v.y):(k=T.x,A=T.y),t.bezierCurveTo(S,E,k,A,j,F),W>=g&&d&&(x=w,M=v.controls&&v.controls.right||R.zero,O=x.controls&&x.controls.left||R.zero,v._relative?(S=M.x+v.x,E=M.y+v.y):(S=M.x,E=M.y),x._relative?(k=O.x+x.x,A=O.y+x.y):(k=O.x,A=O.y),j=x.x,F=x.y,t.bezierCurveTo(S,E,k,A,j,F));break;case h.line:t.lineTo(j,F);break;case h.move:w=v,t.moveTo(j,F);break}return d&&t.closePath(),L||i||(wt.isHidden.test(a)||(N=a._renderer&&a._renderer.offset,N&&(t.save(),t.translate(-a._renderer.offset.x,-a._renderer.offset.y),t.scale(a._renderer.scale.x,a._renderer.scale.y)),t.fill(),N&&t.restore()),wt.isHidden.test(n)||(N=n._renderer&&n._renderer.offset,N&&(t.save(),t.translate(-n._renderer.offset.x,-n._renderer.offset.y),t.scale(n._renderer.scale.x,n._renderer.scale.y),t.lineWidth=s/n._renderer.scale.x),t.stroke(),N&&t.restore())),I||t.restore(),L&&!i&&t.clip(),B&&B.length>0&&t.setLineDash(_t),this.flagReset()}},points:{render:function(t,e,i){let r,n,s,a,o,l,h,c,f,_,g,m,b,y,v,x;if(x=this.parent&&this.parent._renderer?this.parent._renderer.opacity:1,o=this._opacity*(x||1),l=this._visible,!e&&(!l||0===o))return this;this._update(),r=this._matrix.elements,n=this._stroke,s=this._linewidth,a=this._fill,c=this._renderer.collection,f=c.length,b=Et(r),v=this.dashes,h=this._size,b||(t.save(),t.transform(r[0],r[3],r[1],r[4],r[2],r[5])),a&&("string"===typeof a?t.fillStyle=a:(wt[a._renderer.type].render.call(a,t,this),t.fillStyle=a._renderer.effect)),n&&("string"===typeof n?t.strokeStyle=n:(wt[n._renderer.type].render.call(n,t,this),t.strokeStyle=n._renderer.effect),s&&(t.lineWidth=s)),"number"===typeof o&&(t.globalAlpha=o),v&&v.length>0&&(t.lineDashOffset=v.offset||0,t.setLineDash(v)),t.beginPath();let w,k=.5*h;this._sizeAttenuation||(p(this,dt),w=dt.elements,w=d(w[0],w[3],w[1],w[4],w[2],w[5]),k/=Math.max(w.scaleX,w.scaleY));for(let d=0;d<f;d++)_=c[d],g=_.x,m=_.y,t.moveTo(g+k,m),t.arc(g,m,k,0,u);return i||(wt.isHidden.test(a)||(y=a._renderer&&a._renderer.offset,y&&(t.save(),t.translate(-a._renderer.offset.x,-a._renderer.offset.y),t.scale(a._renderer.scale.x,a._renderer.scale.y)),t.fill(),y&&t.restore()),wt.isHidden.test(n)||(y=n._renderer&&n._renderer.offset,y&&(t.save(),t.translate(-n._renderer.offset.x,-n._renderer.offset.y),t.scale(n._renderer.scale.x,n._renderer.scale.y),t.lineWidth=s/n._renderer.scale.x),t.stroke(),y&&t.restore())),b||t.restore(),v&&v.length>0&&t.setLineDash(_t),this.flagReset()}},text:{render:function(t,e,i){const r=this.parent&&this.parent._renderer?this.parent._renderer.opacity:1,n=this._opacity*r,s=this._visible,a=this._mask,o=this._clip;if(!e&&(!s||o||0===n))return this;this._update();const l=this._matrix.elements,h=this._stroke,c=this._linewidth,u=this._fill,f=this._decoration,d=Et(l),_=u._renderer&&u._renderer.offset&&h._renderer&&h._renderer.offset,p=this.dashes,g=wt.alignments[this._alignment]||this._alignment,m=this._baseline;let b,y,v,x,w,k,A,S,E,R,C;if(d||(t.save(),t.transform(l[0],l[3],l[1],l[4],l[2],l[5])),a&&wt[a._renderer.type].render.call(a,t,!0),_||(t.font=[this._style,this._weight,this._size+"px/"+this._leading+"px",this._family].join(" ")),t.textAlign=g,t.textBaseline=m,u&&("string"===typeof u?t.fillStyle=u:(wt[u._renderer.type].render.call(u,t,this),t.fillStyle=u._renderer.effect)),h&&("string"===typeof h?t.strokeStyle=h:(wt[h._renderer.type].render.call(h,t,this),t.strokeStyle=h._renderer.effect),c&&(t.lineWidth=c)),"number"===typeof n&&(t.globalAlpha=n),p&&p.length>0&&(t.lineDashOffset=p.offset||0,t.setLineDash(p)),o||i||(wt.isHidden.test(u)||(u._renderer&&u._renderer.offset?(k=u._renderer.scale.x,A=u._renderer.scale.y,t.save(),t.translate(-u._renderer.offset.x,-u._renderer.offset.y),t.scale(k,A),b=this._size/u._renderer.scale.y,y=this._leading/u._renderer.scale.y,t.font=[this._style,this._weight,b+"px/",y+"px",this._family].join(" "),v=u._renderer.offset.x/u._renderer.scale.x,x=u._renderer.offset.y/u._renderer.scale.y,t.fillText(this.value,v,x),t.restore()):t.fillText(this.value,0,0)),wt.isHidden.test(h)||(h._renderer&&h._renderer.offset?(k=h._renderer.scale.x,A=h._renderer.scale.y,t.save(),t.translate(-h._renderer.offset.x,-h._renderer.offset.y),t.scale(k,A),b=this._size/h._renderer.scale.y,y=this._leading/h._renderer.scale.y,t.font=[this._style,this._weight,b+"px/",y+"px",this._family].join(" "),v=h._renderer.offset.x/h._renderer.scale.x,x=h._renderer.offset.y/h._renderer.scale.y,w=c/h._renderer.scale.x,t.lineWidth=w,t.strokeText(this.value,v,x),t.restore()):t.strokeText(this.value,0,0))),/(underline|strikethrough)/i.test(f)){const e=t.measureText(this.value);let i=1;switch(f){case"underline":E=e.actualBoundingBoxAscent,C=e.actualBoundingBoxAscent;break;case"strikethrough":E=0,C=0,i=.5;break}switch(m){case"top":E+=this._size*i,C+=this._size*i;break;case"baseline":case"bottom":E-=this._size*i,C-=this._size*i;break}switch(g){case"left":case"start":S=0,R=e.width;break;case"right":case"end":S=-e.width,R=0;break;default:S=-e.width/2,R=e.width/2}t.lineWidth=Math.max(Math.floor(this._size/15),1),t.strokeStyle=t.fillStyle,t.beginPath(),t.moveTo(S,E),t.lineTo(R,C),t.stroke()}return d||t.restore(),o&&!i&&t.clip(),p&&p.length>0&&t.setLineDash(_t),this.flagReset()}},"linear-gradient":{render:function(t,e){if(e){if(this._update(),!this._renderer.effect||this._flagEndPoints||this._flagStops||this._flagUnits){let i,r=this.left._x,n=this.left._y,s=this.right._x,a=this.right._y;/objectBoundingBox/i.test(this._units)&&(i=e.getBoundingClientRect(!0),r=(r-.5)*i.width,n=(n-.5)*i.height,s=(s-.5)*i.width,a=(a-.5)*i.height),this._renderer.effect=t.createLinearGradient(r,n,s,a);for(let t=0;t<this.stops.length;t++){const e=this.stops[t];this._renderer.effect.addColorStop(e._offset,e._color)}}return this.flagReset()}}},"radial-gradient":{render:function(t,e){if(e){if(this._update(),!this._renderer.effect||this._flagCenter||this._flagFocal||this._flagRadius||this._flagStops||this._flagUnits){let i,r=this.center._x,n=this.center._y,s=this.focal._x,a=this.focal._y,o=this._radius;/objectBoundingBox/i.test(this._units)&&(i=e.getBoundingClientRect(!0),r=r*i.width*.5,n=n*i.height*.5,s=s*i.width*.5,a=a*i.height*.5,o*=.5*Math.min(i.width,i.height)),this._renderer.effect=t.createRadialGradient(r,n,0,s,a,o);for(let t=0;t<this.stops.length;t++){const e=this.stops[t];this._renderer.effect.addColorStop(e._offset,e._color)}}return this.flagReset()}}},texture:{render:function(t){this._update();const e=this.image;return(!this._renderer.effect||(this._flagLoaded||this._flagImage||this._flagVideo||this._flagRepeat)&&this.loaded)&&(this._renderer.effect=t.createPattern(this.image,this._repeat)),(this._flagOffset||this._flagLoaded||this._flagScale)&&(this._renderer.offset instanceof R||(this._renderer.offset=new R),this._renderer.offset.x=-this._offset.x,this._renderer.offset.y=-this._offset.y,e&&(this._renderer.offset.x+=e.width/2,this._renderer.offset.y+=e.height/2,this._scale instanceof R?(this._renderer.offset.x*=this._scale.x,this._renderer.offset.y*=this._scale.y):(this._renderer.offset.x*=this._scale,this._renderer.offset.y*=this._scale))),(this._flagScale||this._flagLoaded)&&(this._renderer.scale instanceof R||(this._renderer.scale=new R),this._scale instanceof R?this._renderer.scale.copy(this._scale):this._renderer.scale.set(this._scale,this._scale)),this.flagReset()}},renderSvgArcCommand:function(t,e,i,r,n,s,a,o,l,h){o=o*Math.PI/180,r=mt(r),n=mt(n);const c=(e-l)/2,f=(i-h)/2,d=yt(o)*c+bt(o)*f,_=-bt(o)*c+yt(o)*f,p=d*d,g=_*_;let m=r*r,b=n*n;const y=p/m+g/b;if(y>1){const t=xt(y);r*=t,n*=t,m=r*r,b=n*n}const v=m*g+b*p,x=(m*b-v)/v;let w=xt(pt(0,x));s===a&&(w=-w);const k=w*r*_/n,A=-w*n*d/r,S=yt(o)*k-bt(o)*A+(e+l)/2,E=bt(o)*k+yt(o)*A+(i+h)/2,R=St(1,0,(d-k)/r,(_-A)/n),C=St((d-k)/r,(_-A)/n,(-d-k)/r,(-_-A)/n)%u,T=R+C,M=0===a;At(t,S,E,r,n,R,T,M,o)}},kt=class extends A{constructor(t){super();const e=!1!==t.smoothing;this.domElement=t.domElement||document.createElement("canvas"),this.ctx=this.domElement.getContext("2d"),this.overdraw=t.overdraw||!1,"undefined"!==typeof this.ctx.imageSmoothingEnabled&&(this.ctx.imageSmoothingEnabled=e),this.scene=new ct,this.scene.parent=this}setSize(t,e,i){return this.width=t,this.height=e,this.ratio="undefined"===typeof i?Y(this.ctx):i,this.domElement.width=t*this.ratio,this.domElement.height=e*this.ratio,this.domElement.style&&W.extend(this.domElement.style,{width:t+"px",height:e+"px"}),this.trigger(A.Types.resize,t,e,i)}render(){const t=1===this.ratio;return t||(this.ctx.save(),this.ctx.scale(this.ratio,this.ratio)),this.overdraw||this.ctx.clearRect(0,0,this.width,this.height),wt.group.render.call(this.scene,this.ctx),t||this.ctx.restore(),this}};function At(t,e,i,r,n,s,a,o,l){const h=a-s,c=j.Tolerance.epsilon,f=Math.abs(h)<c;let d=y(h,u);d<c&&(d=f?0:u),!0!==o||f||(d===u?d=-u:d-=u);for(let u=0;u<O.Resolution;u++){const a=u/(O.Resolution-1),o=s+a*d;let h=e+r*Math.cos(o),c=i+n*Math.sin(o);if(0!==l){const t=Math.cos(l),r=Math.sin(l),n=h-e,s=c-i;h=n*t-s*r+e,c=n*r+s*t+i}t.lineTo(h,c)}}function St(t,e,i,r){const n=t*i+e*r,s=xt(t*t+e*e)*xt(i*i+r*r);let a=vt(pt(-1,gt(1,n/s)));return t*r-e*i<0&&(a=-a),a}function Et(t){return 1==t[0]&&0==t[3]&&0==t[1]&&1==t[4]&&0==t[2]&&0==t[5]}l(kt,"Utils",wt);var Rt={Image:null,isHeadless:!1,shim:function(t,e){return kt.Utils.shim(t),"undefined"!==typeof e&&(Rt.Image=e),Rt.isHeadless=!0,t}},Ct={hasEventListeners:"function"===typeof r.addEventListener,bind:function(t,e,i,r){return this.hasEventListeners?t.addEventListener(e,i,!!r):t.attachEvent("on"+e,i),Ct},unbind:function(t,e,i,r){return Ct.hasEventListeners?t.removeEventListeners(e,i,!!r):t.detachEvent("on"+e,i),Ct},getRequestAnimationFrame:function(){const t=["ms","moz","webkit","o"];let e=0,i=r.requestAnimationFrame;if(!i){for(let e=0;e<t.length;e++)i=r[t[e]+"RequestAnimationFrame"]||i;i=i||n}function n(t,i){const n=(new Date).getTime(),s=Math.max(0,16-(n-e)),a=r.setTimeout(o,s);function o(){t(n+s)}return e=n+s,a}return i}},Tt=r.document?r.document.createElement("div"):{};Tt.id="help-two-load",Object.defineProperty(Ct,"temp",{enumerable:!0,get:function(){return W.isElement(Tt)&&!r.document.head.contains(Tt)&&(Tt.style.display="none",r.document.head.appendChild(Tt)),Tt}});var Mt=class extends Error{constructor(t){super(),l(this,"name","Two.js"),l(this,"message"),this.message=t}},Ot=class{constructor(){l(this,"map",{})}add(t,e){return this.map[t]=e,this}remove(t){return delete this.map[t],this}get(t){return this.map[t]}contains(t){return t in this.map}};function jt(t,e){if(0===e||1===e)return!0;const i=t._length,r=i*e;let n=0;for(let s=0;s<t._lengths.length;s++){const e=t._lengths[s];if(n>=r)return r-n>=0;n+=e}return!1}function Ft(t,e){const i=t._length;if(e<=0)return 0;if(e>=i)return t._lengths.length-1;for(let r=0,n=0;r<t._lengths.length;r++){if(n+t._lengths[r]>=e)return e-=n,Math.max(r-1,0)+e/t._lengths[r];n+=t._lengths[r]}return-1}function Pt(t,e,i){let r,n,s,a,o,l,h,c;const u=e.controls&&e.controls.right,f=t.controls&&t.controls.left;return r=e.x,o=e.y,n=(u||e).x,l=(u||e).y,s=(f||t).x,h=(f||t).y,a=t.x,c=t.y,u&&e._relative&&(n+=e.x,l+=e.y),f&&t._relative&&(s+=t.x,h+=t.y),L(r,o,n,l,s,h,a,c,i)}function Lt(t,e,i){let r,n,s,a,o,l,h,c;const u=e.controls&&e.controls.right,f=t.controls&&t.controls.left;return r=e.x,o=e.y,n=(u||e).x,l=(u||e).y,s=(f||t).x,h=(f||t).y,a=t.x,c=t.y,u&&e._relative&&(n+=e.x,l+=e.y),f&&t._relative&&(s+=t.x,h+=t.y),P(r,o,n,l,s,h,a,c,i)}var It=class extends G{constructor(t,e,i){super(),l(this,"_flagOffset",!0),l(this,"_flagOpacity",!0),l(this,"_flagColor",!0),l(this,"_offset",0),l(this,"_opacity",1),l(this,"_color","#fff");for(let r in Bt)Object.defineProperty(this,r,Bt[r]);this._renderer.type="stop",this.offset="number"===typeof t?t:It.Index<=0?0:1,this.opacity="number"===typeof i?i:1,this.color="string"===typeof e?e:It.Index<=0?"#fff":"#000",It.Index=(It.Index+1)%2}clone(){const t=new It;return W.each(It.Properties,(function(e){t[e]=this[e]}),this),t}toObject(){const t={};return W.each(It.Properties,(function(e){t[e]=this[e]}),this),t}flagReset(){return this._flagOffset=this._flagColor=this._flagOpacity=!1,super.flagReset.call(this),this}},Nt=It;l(Nt,"Index",0),l(Nt,"Properties",["offset","opacity","color"]);var Bt={offset:{enumerable:!0,get:function(){return this._offset},set:function(t){this._offset=t,this._flagOffset=!0,this.parent&&(this.parent._flagStops=!0)}},opacity:{enumerable:!0,get:function(){return this._opacity},set:function(t){this._opacity=t,this._flagOpacity=!0,this.parent&&(this.parent._flagStops=!0)}},color:{enumerable:!0,get:function(){return this._color},set:function(t){this._color=t,this._flagColor=!0,this.parent&&(this.parent._flagStops=!0)}}},zt=class extends G{constructor(t){super(),l(this,"_flagStops",!1),l(this,"_flagSpread",!1),l(this,"_flagUnits",!1),l(this,"_spread",""),l(this,"_units","");for(let e in Ut)Object.defineProperty(this,e,Ut[e]);this._renderer.type="gradient",this.id=O.Identifier+O.uniqueId(),this.classList=[],this._renderer.flagStops=Dt.bind(this),this._renderer.bindStops=$t.bind(this),this._renderer.unbindStops=Yt.bind(this),this.spread="pad",this.units="objectBoundingBox",t&&(this.stops=t)}clone(t){const e=this.stops.map((function(t){return t.clone()})),i=new zt(e);return W.each(zt.Properties,(function(t){i[t]=this[t]}),this),t&&t.add(i),i}toObject(){const t={stops:this.stops.map((function(t){return t.toObject()}))};return W.each(zt.Properties,(function(e){t[e]=this[e]}),this),t}_update(){return(this._flagSpread||this._flagStops)&&this.trigger(A.Types.change),this}flagReset(){return this._flagSpread=this._flagUnits=this._flagStops=!1,super.flagReset.call(this),this}},Vt=zt;l(Vt,"Stop",Nt),l(Vt,"Properties",["spread","stops","renderer","units"]);var Ut={spread:{enumerable:!0,get:function(){return this._spread},set:function(t){this._spread=t,this._flagSpread=!0}},units:{enumerable:!0,get:function(){return this._units},set:function(t){this._units=t,this._flagUnits=!0}},stops:{enumerable:!0,get:function(){return this._stops},set:function(t){const e=this._renderer.bindStops,i=this._renderer.unbindStops;this._stops&&this._stops.unbind(A.Types.insert,e).unbind(A.Types.remove,i),this._stops=new st((t||[]).slice(0)),this._stops.bind(A.Types.insert,e).bind(A.Types.remove,i),e(this._stops)}}};function Dt(){this._flagStops=!0}function $t(t){let e=t.length;while(e--)t[e].bind(A.Types.change,this._renderer.flagStops),t[e].parent=this;this._renderer.flagStops()}function Yt(t){let e=t.length;while(e--)t[e].unbind(A.Types.change,this._renderer.flagStops),delete t[e].parent;this._renderer.flagStops()}var Xt=class extends Vt{constructor(t,e,i,r,n){super(n),l(this,"_flagEndPoints",!1),l(this,"_left",null),l(this,"_right",null);for(let s in Wt)Object.defineProperty(this,s,Wt[s]);this._renderer.type="linear-gradient",this._renderer.flagEndPoints=Gt.bind(this),this.left=new R,this.right=new R,"number"===typeof t&&(this.left.x=t),"number"===typeof e&&(this.left.y=e),"number"===typeof i&&(this.right.x=i),"number"===typeof r&&(this.right.y=r)}clone(t){const e=this.stops.map((function(t){return t.clone()})),i=new Xt(this.left._x,this.left._y,this.right._x,this.right._y,e);return W.each(Vt.Properties,(function(t){i[t]=this[t]}),this),t&&t.add(i),i}toObject(){const t=super.toObject.call(this);return t.left=this.left.toObject(),t.right=this.right.toObject(),t}_update(){return(this._flagEndPoints||this._flagSpread||this._flagStops)&&this.trigger(A.Types.change),this}flagReset(){return this._flagEndPoints=!1,super.flagReset.call(this),this}},Ht=Xt;l(Ht,"Properties",["left","right"]),l(Ht,"Stop",Nt);var Wt={left:{enumerable:!0,get:function(){return this._left},set:function(t){this._left instanceof R&&this._left.unbind(A.Types.change,this._renderer.flagEndPoints),this._left=t,this._left.bind(A.Types.change,this._renderer.flagEndPoints),this._flagEndPoints=!0}},right:{enumerable:!0,get:function(){return this._right},set:function(t){this._right instanceof R&&this._right.unbind(A.Types.change,this._renderer.flagEndPoints),this._right=t,this._right.bind(A.Types.change,this._renderer.flagEndPoints),this._flagEndPoints=!0}}};function Gt(){this._flagEndPoints=!0}var qt=class extends Vt{constructor(t,e,i,r,n,s){super(r),l(this,"_flagRadius",!1),l(this,"_flagCenter",!1),l(this,"_flagFocal",!1),l(this,"_radius",0),l(this,"_center",null),l(this,"_focal",null);for(let a in Qt)Object.defineProperty(this,a,Qt[a]);this._renderer.type="radial-gradient",this._renderer.flagCenter=Zt.bind(this),this._renderer.flagFocal=te.bind(this),this.center=new R,this.radius="number"===typeof i?i:1,this.focal=new R,"number"===typeof t&&(this.center.x=t),"number"===typeof e&&(this.center.y=e),this.focal.copy(this.center),"number"===typeof n&&(this.focal.x=n),"number"===typeof s&&(this.focal.y=s)}clone(t){const e=this.stops.map((function(t){return t.clone()})),i=new qt(this.center._x,this.center._y,this._radius,e,this.focal._x,this.focal._y);return W.each(Vt.Properties.concat(qt.Properties),(function(t){i[t]=this[t]}),this),t&&t.add(i),i}toObject(){const t=super.toObject.call(this);return W.each(qt.Properties,(function(e){t[e]=this[e]}),this),t.center=this.center.toObject(),t.focal=this.focal.toObject(),t}_update(){return(this._flagRadius||this._flatCenter||this._flagFocal||this._flagSpread||this._flagStops)&&this.trigger(A.Types.change),this}flagReset(){return this._flagRadius=this._flagCenter=this._flagFocal=!1,super.flagReset.call(this),this}},Kt=qt;l(Kt,"Stop",Nt),l(Kt,"Properties",["center","radius","focal"]);var Jt,Qt={radius:{enumerable:!0,get:function(){return this._radius},set:function(t){this._radius=t,this._flagRadius=!0}},center:{enumerable:!0,get:function(){return this._center},set:function(t){this._center&&this._center.unbind(A.Types.change,this._renderer.flagCenter),this._center=t,this._center.bind(A.Types.change,this._renderer.flagCenter),this._flagCenter=!0}},focal:{enumerable:!0,get:function(){return this._focal},set:function(t){this._focal&&this._focal.unbind(A.Types.change,this._renderer.flagFocal),this._focal=t,this._focal.bind(A.Types.change,this._renderer.flagFocal),this._flagFocal=!0}}};function Zt(){this._flagCenter=!0}function te(){this._flagFocal=!0}var ee={video:/\.(mp4|webm|ogg)$/i,image:/\.(jpe?g|png|gif|tiff|webp)$/i,effect:/texture|gradient/i};r.document&&(Jt=document.createElement("a"));var ie=class extends G{constructor(t,e){super(),l(this,"_flagSrc",!1),l(this,"_flagImage",!1),l(this,"_flagVideo",!1),l(this,"_flagLoaded",!1),l(this,"_flagRepeat",!1),l(this,"_flagOffset",!1),l(this,"_flagScale",!1),l(this,"_src",""),l(this,"_image",null),l(this,"_loaded",!1),l(this,"_repeat","no-repeat"),l(this,"_scale",1),l(this,"_offset",null),this._renderer={};for(let i in ne)Object.defineProperty(this,i,ne[i]);if(this._renderer.type="texture",this._renderer.flagOffset=se.bind(this),this._renderer.flagScale=ae.bind(this),this.id=O.Identifier+O.uniqueId(),this.classList=[],this.loaded=!1,this.repeat="no-repeat",this.offset=new R,"function"===typeof e){const t=function(){this.unbind(A.Types.load,t),"function"===typeof e&&e()}.bind(this);this.bind(A.Types.load,t)}if("string"===typeof t)this.src=t;else if("object"===typeof t){const e=Object.prototype.toString.call(t);"[object HTMLImageElement]"!==e&&"[object HTMLCanvasElement]"!==e&&"[object HTMLVideoElement]"!==e&&"[object Image]"!==e||(this.image=t)}this._update()}static getAbsoluteURL(t){return Jt?(Jt.href=t,Jt.href):t}static loadHeadlessBuffer(t,e){t.image.onload=e,t.image.src=t.src}static getTag(t){return t&&t.nodeName&&t.nodeName.toLowerCase()||"img"}static getImage(t){const e=ie.getAbsoluteURL(t);if(ie.ImageRegistry.contains(e))return ie.ImageRegistry.get(e);let i;return Rt.Image?(i=new Rt.Image,kt.Utils.shim(i,"img")):r.document?i=ee.video.test(e)?document.createElement("video"):document.createElement("img"):console.warn("Two.js: no prototypical image defined for Two.Texture"),i.crossOrigin="anonymous",i}static load(t,e){let i=t.image,r=ie.getTag(i);t._flagImage&&(/canvas/i.test(r)?ie.Register.canvas(t,e):(t._src=!Rt.isHeadless&&i.getAttribute("two-src")||i.src,ie.Register[r](t,e))),t._flagSrc&&(i||(i=ie.getImage(t.src),t.image=i),r=ie.getTag(i),ie.Register[r](t,e))}clone(){const t=new ie(this.src);return t.repeat=this.repeat,t.offset.copy(this.origin),t.scale=this.scale,t}toObject(){return{src:this.src,repeat:this.repeat,origin:this.origin.toObject(),scale:"number"===typeof this.scale?this.scale:this.scale.toObject()}}_update(){return(this._flagSrc||this._flagImage)&&(this.trigger(A.Types.change),(this._flagSrc||this._flagImage)&&(this.loaded=!1,ie.load(this,function(){this.loaded=!0,this.trigger(A.Types.change).trigger(A.Types.load)}.bind(this)))),this._image&&this._image.readyState>=4&&(this._flagVideo=!0),this}flagReset(){return this._flagSrc=this._flagImage=this._flagLoaded=this._flagRepeat=this._flagVideo=this._flagScale=this._flagOffset=!1,super.flagReset.call(this),this}},re=ie;l(re,"Properties",["src","loaded","repeat","scale","offset","image"]),l(re,"RegularExpressions",ee),l(re,"ImageRegistry",new Ot),l(re,"Register",{canvas:function(t,e){t._src="#"+t.id,ie.ImageRegistry.add(t.src,t.image),"function"===typeof e&&e()},img:function(t,e){const i=t.image,r=function(t){!Rt.isHeadless&&i.removeEventListener&&"function"===typeof i.removeEventListener&&(i.removeEventListener("load",r,!1),i.removeEventListener("error",n,!1)),"function"===typeof e&&e()},n=function(e){throw Rt.isHeadless||"function"!==typeof i.removeEventListener||(i.removeEventListener("load",r,!1),i.removeEventListener("error",n,!1)),new Mt("unable to load "+t.src)};"number"===typeof i.width&&i.width>0&&"number"===typeof i.height&&i.height>0?r():Rt.isHeadless||"function"!==typeof i.addEventListener||(i.addEventListener("load",r,!1),i.addEventListener("error",n,!1)),t._src=ie.getAbsoluteURL(t._src),!Rt.isHeadless&&i&&i.getAttribute("two-src")||(Rt.isHeadless||i.setAttribute("two-src",t.src),ie.ImageRegistry.add(t.src,i),Rt.isHeadless?ie.loadHeadlessBuffer(t,r):t.image.src=t.src)},video:function(t,e){if(Rt.isHeadless)throw new Mt("video textures are not implemented in headless environments.");const i=function(n){t.image.removeEventListener("canplaythrough",i,!1),t.image.removeEventListener("error",r,!1),t.image.width=t.image.videoWidth,t.image.height=t.image.videoHeight,"function"===typeof e&&e()},r=function(e){throw t.image.removeEventListener("canplaythrough",i,!1),t.image.removeEventListener("error",r,!1),new Mt("unable to load "+t.src)};t._src=ie.getAbsoluteURL(t._src),t.image.getAttribute("two-src")||(t.image.setAttribute("two-src",t.src),ie.ImageRegistry.add(t.src,t.image)),t.image.readyState>=4?i():(t.image.addEventListener("canplaythrough",i,!1),t.image.addEventListener("error",r,!1),t.image.src=t.src,t.image.load())}});var ne={src:{enumerable:!0,get:function(){return this._src},set:function(t){this._src=t,this._flagSrc=!0}},loaded:{enumerable:!0,get:function(){return this._loaded},set:function(t){this._loaded=t,this._flagLoaded=!0}},repeat:{enumerable:!0,get:function(){return this._repeat},set:function(t){this._repeat=t,this._flagRepeat=!0}},image:{enumerable:!0,get:function(){return this._image},set:function(t){const e=re.getTag(t);let i;switch(e){case"canvas":i="#"+t.id;break;default:i=t.src}re.ImageRegistry.contains(i)?this._image=re.ImageRegistry.get(t.src):this._image=t,this._flagImage=!0}},offset:{enumerable:!0,get:function(){return this._offset},set:function(t){this._offset&&this._offset.unbind(A.Types.change,this._renderer.flagOffset),this._offset=t,this._offset.bind(A.Types.change,this._renderer.flagOffset),this._flagOffset=!0}},scale:{enumerable:!0,get:function(){return this._scale},set:function(t){this._scale instanceof R&&this._scale.unbind(A.Types.change,this._renderer.flagScale),this._scale=t,this._scale instanceof R&&this._scale.bind(A.Types.change,this._renderer.flagScale),this._flagScale=!0}}};function se(){this._flagOffset=!0}function ae(){this._flagScale=!0}var oe=Math.min,le=Math.max,he=Math.ceil,ce=Math.floor,ue=new R,fe=class extends it{constructor(t,e,i,r){super(),l(this,"_flagVertices",!0),l(this,"_flagLength",!0),l(this,"_flagFill",!0),l(this,"_flagStroke",!0),l(this,"_flagLinewidth",!0),l(this,"_flagOpacity",!0),l(this,"_flagVisible",!0),l(this,"_flagCap",!0),l(this,"_flagJoin",!0),l(this,"_flagMiter",!0),l(this,"_flagMask",!1),l(this,"_flagClip",!1),l(this,"_length",0),l(this,"_fill","#fff"),l(this,"_stroke","#000"),l(this,"_linewidth",1),l(this,"_opacity",1),l(this,"_visible",!0),l(this,"_cap","round"),l(this,"_join","round"),l(this,"_miter",4),l(this,"_closed",!0),l(this,"_curved",!1),l(this,"_automatic",!0),l(this,"_beginning",0),l(this,"_ending",1),l(this,"_mask",null),l(this,"_clip",!1),l(this,"_dashes",null);for(let n in _e)Object.defineProperty(this,n,_e[n]);this._renderer.type="path",this._renderer.flagVertices=pe.bind(this),this._renderer.bindVertices=ge.bind(this),this._renderer.unbindVertices=me.bind(this),this._renderer.flagFill=be.bind(this),this._renderer.flagStroke=ye.bind(this),this._renderer.vertices=[],this._renderer.collection=[],this._closed=!!e,this._curved=!!i,this.beginning=0,this.ending=1,this.fill="#fff",this.stroke="#000",this.linewidth=1,this.opacity=1,this.className="",this.visible=!0,this.cap="butt",this.join="miter",this.miter=4,this.vertices=t,this.automatic=!r,this.dashes=[],this.dashes.offset=0}clone(t){const e=new fe;for(let i=0;i<this.vertices.length;i++)e.vertices.push(this.vertices[i].clone());for(let i=0;i<fe.Properties.length;i++){const t=fe.Properties[i];e[t]=this[t]}return e.className=this.className,e.translation.copy(this.translation),e.rotation=this.rotation,e.scale=this.scale,e.skewX=this.skewX,e.skewY=this.skewY,this.matrix.manual&&e.matrix.copy(this.matrix),t&&t.add(e),e._update()}toObject(){const t={vertices:this.vertices.map((function(t){return t.toObject()}))};return W.each(fe.Properties,(function(e){"undefined"!==typeof this[e]&&(this[e].toObject?t[e]=this[e].toObject():t[e]=this[e])}),this),t.className=this.className,t.translation=this.translation.toObject(),t.rotation=this.rotation,t.scale=this.scale instanceof R?this.scale.toObject():this.scale,t.skewX=this.skewX,t.skewY=this.skewY,this.matrix.manual&&(t.matrix=this.matrix.toObject()),t}noFill(){return this.fill="transparent",this}noStroke(){return this.stroke=void 0,this}corner(){const t=this.getBoundingClientRect(!0),e=t.width/2,i=t.height/2,r=t.left+t.width/2,n=t.top+t.height/2;for(let s=0;s<this.vertices.length;s++){const t=this.vertices[s];t.x-=r,t.y-=n,t.x+=e,t.y+=i}return this.mask&&(this.mask.translation.x-=r,this.mask.translation.x+=e,this.mask.translation.y-=n,this.mask.translation.y+=i),this}center(){const t=this.getBoundingClientRect(!0),e=t.left+t.width/2-this.translation.x,i=t.top+t.height/2-this.translation.y;for(let r=0;r<this.vertices.length;r++){const t=this.vertices[r];t.x-=e,t.y-=i}return this.mask&&(this.mask.translation.x-=e,this.mask.translation.y-=i),this}getBoundingClientRect(t){let e,i,r,n,s,a,o,l,h,c,u,f,d,_,g=1/0,m=-1/0,b=1/0,y=-1/0;if(this._update(!0),e=t?this._matrix:p(this),i=(this.linewidth||0)/2,r=this._renderer.vertices.length,r<=0)return{width:0,height:0};for(n=0;n<r;n++)if(a=this._renderer.vertices[n],s=this._renderer.vertices[(n+r-1)%r],s.controls&&a.controls){o=s.controls.right.x,l=s.controls.right.y,s.relative&&(o+=s.x,l+=s.y),h=a.controls.left.x,c=a.controls.left.y,a.relative&&(h+=a.x,c+=a.y);const t=I(s.x,s.y,o,l,h,c,a.x,a.y);b=oe(t.min.y-i,b),g=oe(t.min.x-i,g),m=le(t.max.x+i,m),y=le(t.max.y+i,y)}else n<=1&&(b=oe(s.y-i,b),g=oe(s.x-i,g),m=le(s.x+i,m),y=le(s.y+i,y)),b=oe(a.y-i,b),g=oe(a.x-i,g),m=le(a.x+i,m),y=le(a.y+i,y);return u=e.multiply(g,b,1),f=e.multiply(g,y,1),d=e.multiply(m,b,1),_=e.multiply(m,y,1),b=oe(u.y,f.y,d.y,_.y),g=oe(u.x,f.x,d.x,_.x),m=le(u.x,f.x,d.x,_.x),y=le(u.y,f.y,d.y,_.y),{top:b,left:g,right:m,bottom:y,width:m-g,height:y-b}}getPointAt(t,e){let i,r,n,s,a,o,l,c,u,f,d,_,p,m,b,v=this.length*Math.min(Math.max(t,0),1);const x=this.vertices.length,w=x-1;let k=null,A=null;for(let h=0,g=this._lengths.length,C=0;h<g;h++){if(C+this._lengths[h]>=v){this._closed?(i=y(h,x),r=y(h-1,x),0===h&&(i=r,r=h)):(i=h,r=Math.min(Math.max(h-1,0),w)),k=this.vertices[i],A=this.vertices[r],v-=C,t=0!==this._lengths[h]?v/this._lengths[h]:0;break}C+=this._lengths[h]}if(null===k||null===A)return null;if(!k)return A;if(!A)return k;b=A.controls&&A.controls.right,m=k.controls&&k.controls.left,a=A.x,f=A.y,o=(b||A).x,d=(b||A).y,l=(m||k).x,_=(m||k).y,c=k.x,p=k.y,b&&A.relative&&(o+=A.x,d+=A.y),m&&k.relative&&(l+=k.x,_+=k.y),s=F(t,a,o,l,c),u=F(t,f,d,_,p);const S=g(a,o,t),E=g(f,d,t),R=g(o,l,t),T=g(d,_,t),M=g(l,c,t),O=g(_,p,t),j=g(S,R,t),P=g(E,T,t),L=g(R,M,t),I=g(T,O,t);return W.isObject(e)?(e.x=s,e.y=u,e instanceof C&&(e.controls.left.x=j,e.controls.left.y=P,e.controls.right.x=L,e.controls.right.y=I,("boolean"!==typeof e.relative||e.relative)&&(e.controls.left.x-=s,e.controls.left.y-=u,e.controls.right.x-=s,e.controls.right.y-=u)),e.t=t,e):(n=new C(s,u,j-s,P-u,L-s,I-u,this._curved?h.curve:h.line),n.t=t,n)}plot(){if(this.curved)return B(this._collection,this.closed),this;for(let t=0;t<this._collection.length;t++)this._collection[t].command=0===t?h.move:h.line;return this}subdivide(t){this._update();const e=this.vertices.length-1,i=this._closed||this.vertices[e]._command===h.close;let r,n=this.vertices[e],s=[];return W.each(this.vertices,(function(a,o){if(o<=0&&!i)n=a;else{if(a.command===h.move)return s.push(new C(n.x,n.y)),o>0&&(s[s.length-1].command=h.line),void(n=a);r=Lt(a,n,t),s=s.concat(r),W.each(r,(function(t,e){e<=0&&n.command===h.move?t.command=h.move:t.command=h.line})),o>=e&&(this._closed&&this._automatic?(n=a,r=Lt(a,n,t),s=s.concat(r),W.each(r,(function(t,e){e<=0&&n.command===h.move?t.command=h.move:t.command=h.line}))):i&&s.push(new C(a.x,a.y)),s[s.length-1].command=i?h.close:h.line),n=a}}),this),this._automatic=!1,this._curved=!1,this.vertices=s,this}_updateLength(t,e){e||this._update();const i=this.vertices.length,r=i-1,n=!1;let s=this.vertices[r],a=0;return"undefined"===typeof this._lengths&&(this._lengths=[]),W.each(this.vertices,(function(e,o){if(o<=0&&!n||e.command===h.move)return s=e,void(this._lengths[o]=0);this._lengths[o]=Pt(e,s,t),a+=this._lengths[o],o>=r&&n&&(s=this.vertices[(o+1)%i],this._lengths[o+1]=Pt(e,s,t),a+=this._lengths[o+1]),s=e}),this),this._length=a,this._flagLength=!1,this}_update(){if(this._flagVertices){this._automatic&&this.plot(),this._flagLength&&this._updateLength(void 0,!0);const t=this._collection.length,e=this._closed,i=Math.min(this._beginning,this._ending),r=Math.max(this._beginning,this._ending),n=Ft(this,i*this._length),s=Ft(this,r*this._length),a=he(n),o=ce(s);let l,c,u,f,d,_;for(this._renderer.vertices.length=0,_=0;_<t;_++)this._renderer.collection.length<=_&&this._renderer.collection.push(new C),_>o&&!c?(d=this._renderer.collection[_].copy(this._collection[_]),this.getPointAt(r,d),d.command=this._renderer.collection[_].command,this._renderer.vertices.push(d),c=d,u=this._collection[_-1],u&&u.controls&&(d.controls.relative?d.controls.right.clear():d.controls.right.copy(d),this._renderer.collection[_-1].controls.right.copy(u).lerp(u.controls.right,d.t))):_>=a&&_<=o&&(d=this._renderer.collection[_].copy(this._collection[_]),this._renderer.vertices.push(d),_===o&&jt(this,r)?(c=d,!e&&c.controls&&(c.relative?c.controls.right.clear():c.controls.right.copy(c))):_===a&&jt(this,i)&&(l=d,l.command=h.move,!e&&l.controls&&(l.relative?l.controls.left.clear():l.controls.left.copy(l))));a>0&&!l&&(_=a-1,d=this._renderer.collection[_].copy(this._collection[_]),this.getPointAt(i,d),d.command=h.move,this._renderer.vertices.unshift(d),f=this._collection[_+1],f&&f.controls&&(d.controls.left.clear(),f.relative?this._renderer.collection[_+1].controls.left.copy(f.controls.left).lerp(R.zero,d.t):(ue.copy(f),this._renderer.collection[_+1].controls.left.copy(f.controls.left).lerp(f,d.t))))}return it.prototype._update.apply(this,arguments),this}flagReset(){return this._flagVertices=this._flagLength=this._flagFill=this._flagStroke=this._flagLinewidth=this._flagOpacity=this._flagVisible=this._flagCap=this._flagJoin=this._flagMiter=this._flagClip=!1,it.prototype.flagReset.call(this),this}},de=fe;l(de,"Properties",["fill","stroke","linewidth","opacity","visible","cap","join","miter","closed","curved","automatic","beginning","ending"]),l(de,"Utils",{getCurveLength:Pt});var _e={linewidth:{enumerable:!0,get:function(){return this._linewidth},set:function(t){this._linewidth=t,this._flagLinewidth=!0}},opacity:{enumerable:!0,get:function(){return this._opacity},set:function(t){this._opacity=t,this._flagOpacity=!0}},visible:{enumerable:!0,get:function(){return this._visible},set:function(t){this._visible=t,this._flagVisible=!0}},cap:{enumerable:!0,get:function(){return this._cap},set:function(t){this._cap=t,this._flagCap=!0}},join:{enumerable:!0,get:function(){return this._join},set:function(t){this._join=t,this._flagJoin=!0}},miter:{enumerable:!0,get:function(){return this._miter},set:function(t){this._miter=t,this._flagMiter=!0}},fill:{enumerable:!0,get:function(){return this._fill},set:function(t){(this._fill instanceof Vt||this._fill instanceof Ht||this._fill instanceof Kt||this._fill instanceof re)&&this._fill.unbind(A.Types.change,this._renderer.flagFill),this._fill=t,this._flagFill=!0,(this._fill instanceof Vt||this._fill instanceof Ht||this._fill instanceof Kt||this._fill instanceof re)&&this._fill.bind(A.Types.change,this._renderer.flagFill)}},stroke:{enumerable:!0,get:function(){return this._stroke},set:function(t){(this._stroke instanceof Vt||this._stroke instanceof Ht||this._stroke instanceof Kt||this._stroke instanceof re)&&this._stroke.unbind(A.Types.change,this._renderer.flagStroke),this._stroke=t,this._flagStroke=!0,(this._stroke instanceof Vt||this._stroke instanceof Ht||this._stroke instanceof Kt||this._stroke instanceof re)&&this._stroke.bind(A.Types.change,this._renderer.flagStroke)}},length:{get:function(){return this._flagLength&&this._updateLength(),this._length}},closed:{enumerable:!0,get:function(){return this._closed},set:function(t){this._closed=!!t,this._flagVertices=!0}},curved:{enumerable:!0,get:function(){return this._curved},set:function(t){this._curved=!!t,this._flagVertices=!0}},automatic:{enumerable:!0,get:function(){return this._automatic},set:function(t){if(t===this._automatic)return;this._automatic=!!t;const e=this._automatic?"ignore":"listen";W.each(this.vertices,(function(t){t[e]()}))}},beginning:{enumerable:!0,get:function(){return this._beginning},set:function(t){this._beginning=t,this._flagVertices=!0}},ending:{enumerable:!0,get:function(){return this._ending},set:function(t){this._ending=t,this._flagVertices=!0}},vertices:{enumerable:!0,get:function(){return this._collection},set:function(t){const e=this._renderer.bindVertices,i=this._renderer.unbindVertices;this._collection&&this._collection.unbind(A.Types.insert,e).unbind(A.Types.remove,i),this._collection=t instanceof st?t:new st(t||[]),this._collection.bind(A.Types.insert,e).bind(A.Types.remove,i),e(this._collection)}},mask:{enumerable:!0,get:function(){return this._mask},set:function(t){this._mask=t,this._flagMask=!0,W.isObject(t)&&!t.clip&&(t.clip=!0)}},clip:{enumerable:!0,get:function(){return this._clip},set:function(t){this._clip=t,this._flagClip=!0}},dashes:{enumerable:!0,get:function(){return this._dashes},set:function(t){"number"!==typeof t.offset&&(t.offset=this.dashes&&this._dashes.offset||0),this._dashes=t}}};function pe(){this._flagVertices=!0,this._flagLength=!0,this.parent&&(this.parent._flagLength=!0)}function ge(t){let e=t.length;while(e--)t[e].bind(A.Types.change,this._renderer.flagVertices);this._renderer.flagVertices()}function me(t){let e=t.length;while(e--)t[e].unbind(A.Types.change,this._renderer.flagVertices);this._renderer.flagVertices()}function be(){this._flagFill=!0}function ye(){this._flagStroke=!0}var ve=class extends de{constructor(t,e,i,r){const n=[new C,new C,new C,new C];super(n,!0,!1,!0),l(this,"_flagWidth",0),l(this,"_flagHeight",0),l(this,"_width",0),l(this,"_height",0),l(this,"_origin",null);for(let s in we)Object.defineProperty(this,s,we[s]);this.width=i,this.height=r,this.origin=new R,this.translation.set(t,e),this._update()}_update(){if(this._flagVertices||this._flagWidth||this._flagHeight){const t=this._width/2,e=this._height/2;this._closed||4!==this.vertices.length||this.vertices.push(new C),this.vertices[0].set(-t,-e).sub(this._origin).command=h.move,this.vertices[1].set(t,-e).sub(this._origin).command=h.line,this.vertices[2].set(t,e).sub(this._origin).command=h.line,this.vertices[3].set(-t,e).sub(this._origin).command=h.line,this.vertices[4]&&(this.vertices[4].set(-t,-e).sub(this._origin).command=h.line)}return super._update.call(this),this}flagReset(){return this._flagWidth=this._flagHeight=!1,super.flagReset.call(this),this}clone(t){const e=new ve(0,0,this.width,this.height);e.translation.copy(this.translation),e.rotation=this.rotation,e.scale=this.scale,e.skewX=this.skewX,e.skewY=this.skewY,this.matrix.manual&&e.matrix.copy(this.matrix);for(let i=0;i<de.Properties.length;i++){const t=de.Properties[i];e[t]=this[t]}return t&&t.add(e),e}toObject(){const t=super.toObject.call(this);return t.width=this.width,t.height=this.height,t.origin=this.origin.toObject(),t}},xe=ve;l(xe,"Properties",["width","height"]);var we={width:{enumerable:!0,get:function(){return this._width},set:function(t){this._width=t,this._flagWidth=!0}},height:{enumerable:!0,get:function(){return this._height},set:function(t){this._height=t,this._flagHeight=!0}},origin:{enumerable:!0,get:function(){return this._origin},set:function(t){this._origin&&this._origin.unbind(A.Types.change,this._renderer.flagVertices),this._origin=t,this._origin.bind(A.Types.change,this._renderer.flagVertices),this._renderer.flagVertices()}}},ke=class extends xe{constructor(t,e,i,r,n,s){super(e,i,0,0),l(this,"_flagTexture",!1),l(this,"_flagColumns",!1),l(this,"_flagRows",!1),l(this,"_flagFrameRate",!1),l(this,"_flagIndex",!1),l(this,"_amount",1),l(this,"_duration",0),l(this,"_startTime",0),l(this,"_playing",!1),l(this,"_firstFrame",0),l(this,"_lastFrame",0),l(this,"_loop",!0),l(this,"_texture",null),l(this,"_columns",1),l(this,"_rows",1),l(this,"_frameRate",0),l(this,"_index",0),l(this,"_origin",null);for(let a in Se)Object.defineProperty(this,a,Se[a]);this.noStroke(),this.noFill(),t instanceof re?this.texture=t:"string"===typeof t&&(this.texture=new re(t)),this.origin=new R,this._update(),"number"===typeof r&&(this.columns=r),"number"===typeof n&&(this.rows=n),"number"===typeof s&&(this.frameRate=s),this.index=0}play(t,e,i){return this._playing=!0,this._firstFrame=0,this._lastFrame=this.amount-1,this._startTime=W.performance.now(),"number"===typeof t&&(this._firstFrame=t),"number"===typeof e&&(this._lastFrame=e),"function"===typeof i?this._onLastFrame=i:delete this._onLastFrame,this._index!==this._firstFrame&&(this._startTime-=1e3*Math.abs(this._index-this._firstFrame)/this._frameRate),this}pause(){return this._playing=!1,this}stop(){return this._playing=!1,this._index=0,this}clone(t){const e=new ke(this.texture,this.translation.x,this.translation.y,this.columns,this.rows,this.frameRate);return this.playing&&(e.play(this._firstFrame,this._lastFrame),e._loop=this._loop),t&&t.add(e),e}toObject(){const t=super.toObject.call(this);return t.texture=this.texture.toObject(),t.columns=this.columns,t.rows=this.rows,t.frameRate=this.frameRate,t.index=this.index,t._firstFrame=this._firstFrame,t._lastFrame=this._lastFrame,t._loop=this._loop,t}_update(){const t=this._texture,e=this._columns,i=this._rows;let r,n,s,a,o,l,h,c,u;if(t&&((this._flagColumns||this._flagRows)&&(this._amount=this._columns*this._rows),this._flagFrameRate&&(this._duration=1e3*this._amount/this._frameRate),this._flagTexture&&(this.fill=t),t.loaded)){h=t.image.width,c=t.image.height,r=h/e,n=c/i,a=this._amount,this.width!==r&&(this.width=r),this.height!==n&&(this.height=n),this._playing&&this._frameRate>0&&(W.isNaN(this._lastFrame)&&(this._lastFrame=a-1),s=W.performance.now()-this._startTime,u=this._lastFrame+1,o=1e3*(u-this._firstFrame)/this._frameRate,this._loop?s%=o:s=Math.min(s,o),l=g(this._firstFrame,u,s/o),l=Math.floor(l),l!==this._index&&(this._index=l,l>=this._lastFrame-1&&this._onLastFrame&&this._onLastFrame()));const f=this._index%e,d=Math.floor(this._index/e),_=-r*f+(h-r)/2,p=-n*d+(c-n)/2;_!==t.offset.x&&(t.offset.x=_),p!==t.offset.y&&(t.offset.y=p)}return super._update.call(this),this}flagReset(){return this._flagTexture=this._flagColumns=this._flagRows=this._flagFrameRate=!1,super.flagReset.call(this),this}},Ae=ke;l(Ae,"Properties",["texture","columns","rows","frameRate","index"]);var Se={texture:{enumerable:!0,get:function(){return this._texture},set:function(t){this._texture=t,this._flagTexture=!0}},columns:{enumerable:!0,get:function(){return this._columns},set:function(t){this._columns=t,this._flagColumns=!0}},rows:{enumerable:!0,get:function(){return this._rows},set:function(t){this._rows=t,this._flagRows=!0}},frameRate:{enumerable:!0,get:function(){return this._frameRate},set:function(t){this._frameRate=t,this._flagFrameRate=!0}},index:{enumerable:!0,get:function(){return this._index},set:function(t){this._index=t,this._flagIndex=!0}}},Ee=Math.cos,Re=Math.sin,Ce=class extends de{constructor(t,e,i,r){const n=r?Math.max(r,2):4,s=[];for(let a=0;a<n;a++)s.push(new C(0,0,0,0,0,0));super(s,!0,!0,!0),l(this,"_flagRadius",!1),l(this,"_radius",0);for(let a in Me)Object.defineProperty(this,a,Me[a]);"number"===typeof i&&(this.radius=i),this._update(),"number"===typeof t&&(this.translation.x=t),"number"===typeof e&&(this.translation.y=e)}_update(){if(this._flagVertices||this._flagRadius){let t=this.vertices.length;!this._closed&&t>2&&(t-=1);const e=4/3*Math.tan(Math.PI/(2*t)),i=this._radius,r=i*e;for(let n=0;n<this.vertices.length;n++){const e=n/t,s=e*u,a=i*Ee(s),o=i*Re(s),l=r*Ee(s-f),c=r*Re(s-f),d=r*Ee(s+f),_=r*Re(s+f),p=this.vertices[n];p.command=0===n?h.move:h.curve,p.set(a,o),p.controls.left.set(l,c),p.controls.right.set(d,_)}}return super._update.call(this),this}flagReset(){return this._flagRadius=!1,super.flagReset.call(this),this}clone(t){const e=new Ce(0,0,this.radius,this.vertices.length);e.translation.copy(this.translation),e.rotation=this.rotation,e.scale=this.scale,e.skewX=this.skewX,e.skewY=this.skewY,this.matrix.manual&&e.matrix.copy(this.matrix);for(let i=0;i<de.Properties.length;i++){const t=de.Properties[i];e[t]=this[t]}return t&&t.add(e),e}toObject(){const t=super.toObject.call(this);for(let e=0;e<Ce.Properties.length;e++){const i=Ce.Properties[e];t[i]=this[i]}return t}},Te=Ce;l(Te,"Properties",["radius"]);var Me={radius:{enumerable:!0,get:function(){return this._radius},set:function(t){this._radius=t,this._flagRadius=!0}}},Oe=Math.cos,je=Math.sin,Fe=class extends de{constructor(t,e,i,r,n){"number"!==typeof r&&"number"===typeof i&&(r=i);const s=n?Math.max(n,2):4,a=[];for(let o=0;o<s;o++)a.push(new C);super(a,!0,!0,!0),l(this,"_flagWidth",!1),l(this,"_flagHeight",!1),l(this,"_width",0),l(this,"_height",0);for(let o in Le)Object.defineProperty(this,o,Le[o]);"number"===typeof i&&(this.width=2*i),"number"===typeof r&&(this.height=2*r),this._update(),this.translation.set(t,e)}_update(){if(this._flagVertices||this._flagWidth||this._flagHeight){let t=this.vertices.length;!this._closed&&t>2&&(t-=1);const e=4/3*Math.tan(Math.PI/(2*this.vertices.length)),i=this._width/2,r=this._height/2;for(let n=0;n<this.vertices.length;n++){const s=n/t,a=s*u,o=i*Oe(a),l=r*je(a),c=i*e*Oe(a-f),d=r*e*je(a-f),_=i*e*Oe(a+f),p=r*e*je(a+f),g=this.vertices[n];g.command=0===n?h.move:h.curve,g.set(o,l),g.controls.left.set(c,d),g.controls.right.set(_,p)}}return super._update.call(this),this}flagReset(){return this._flagWidth=this._flagHeight=!1,super.flagReset.call(this),this}clone(t){const e=this.width/2,i=this.height/2,r=this.vertices.length,n=new Fe(0,0,e,i,r);n.translation.copy(this.translation),n.rotation=this.rotation,n.scale=this.scale,n.skewX=this.skewX,n.skewY=this.skewY,this.matrix.manual&&n.matrix.copy(this.matrix);for(let s=0;s<de.Properties.length;s++){const t=de.Properties[s];n[t]=this[t]}return t&&t.add(n),n}toObject(){const t=super.toObject.call(this);for(let e=0;e<Fe.Properties.length;e++){const i=Fe.Properties[e];t[i]=this[i]}return t}},Pe=Fe;l(Pe,"Properties",["width","height"]);var Le={width:{enumerable:!0,get:function(){return this._width},set:function(t){this._width=t,this._flagWidth=!0}},height:{enumerable:!0,get:function(){return this._height},set:function(t){this._height=t,this._flagHeight=!0}}},Ie=class extends de{constructor(t,e,i,r){const n=[new C(t,e),new C(i,r)];super(n);for(let s in Ne)Object.defineProperty(this,s,Ne[s]);this.vertices[0].command=h.move,this.vertices[1].command=h.line,this.automatic=!1}},Ne={left:{enumerable:!0,get:function(){return this.vertices[0]},set:function(t){if(W.isObject(t))this.vertices.splice(0,1,t);else{const t=new Mt("Two.Line.x argument is not an object.");console.warn(t.name,t.message)}}},right:{enumerable:!0,get:function(){return this.vertices[0]},set:function(t){if(W.isObject(t))this.vertices.splice(1,1,t);else{const t=new Mt("Two.Line.y argument is not an object.");console.warn(t.name,t.message)}}}},Be=class extends de{constructor(t,e,i,r,n){"undefined"===typeof n&&"number"===typeof i&&"number"===typeof r&&(n=Math.floor(Math.min(i,r)/12));const s=[];for(let a=0;a<10;a++)s.push(new C(0,0,0,0,0,0,0===a?h.move:h.curve));super(s),l(this,"_flagWidth",!1),l(this,"_flagHeight",!1),l(this,"_flagRadius",!1),l(this,"_width",0),l(this,"_height",0),l(this,"_radius",12);for(let a in Ve)Object.defineProperty(this,a,Ve[a]);this.closed=!0,this.automatic=!1,this._renderer.flagRadius=Ue.bind(this),"number"===typeof i&&(this.width=i),"number"===typeof r&&(this.height=r),"number"===typeof n&&(this.radius=n),this._update(),this.translation.set(t,e)}_update(){if(this._flagVertices||this._flagWidth||this._flagHeight||this._flagRadius){const t=this._width,e=this._height;let i,r,n;this._radius instanceof R?(i=this._radius.x,r=this._radius.y):(i=this._radius,r=this._radius);let s=t/2,a=e/2;n=this.vertices[0],n.x=-(s-i),n.y=-a,n=this.vertices[1],n.x=s-i,n.y=-a,n.controls.left.clear(),n.controls.right.x=i,n.controls.right.y=0,n=this.vertices[2],n.x=s,n.y=-(a-r),n.controls.right.clear(),n.controls.left.clear(),n=this.vertices[3],n.x=s,n.y=a-r,n.controls.left.clear(),n.controls.right.x=0,n.controls.right.y=r,n=this.vertices[4],n.x=s-i,n.y=a,n.controls.right.clear(),n.controls.left.clear(),n=this.vertices[5],n.x=-(s-i),n.y=a,n.controls.left.clear(),n.controls.right.x=-i,n.controls.right.y=0,n=this.vertices[6],n.x=-s,n.y=a-r,n.controls.left.clear(),n.controls.right.clear(),n=this.vertices[7],n.x=-s,n.y=-(a-r),n.controls.left.clear(),n.controls.right.x=0,n.controls.right.y=-r,n=this.vertices[8],n.x=-(s-i),n.y=-a,n.controls.left.clear(),n.controls.right.clear(),n=this.vertices[9],n.copy(this.vertices[8])}return super._update.call(this),this}flagReset(){return this._flagWidth=this._flagHeight=this._flagRadius=!1,super.flagReset.call(this),this}clone(t){const e=this.width,i=this.height,r=this.radius,n=new Be(0,0,e,i,r);n.translation.copy(this.translation),n.rotation=this.rotation,n.scale=this.scale,n.skewX=this.skewX,n.skewY=this.skewY,this.matrix.manual&&n.matrix.copy(this.matrix);for(let s=0;s<de.Properties.length;s++){const t=de.Properties[s];n[t]=this[t]}return t&&t.add(n),n}toObject(){const t=super.toObject.call(this);for(let e=0;e<Be.Properties.length;e++){const i=Be.Properties[e];t[i]=this[i]}return t.radius="number"===typeof this.radius?this.radius:this.radius.toObject(),t}},ze=Be;l(ze,"Properties",["width","height","radius"]);var Ve={width:{enumerable:!0,get:function(){return this._width},set:function(t){this._width=t,this._flagWidth=!0}},height:{enumerable:!0,get:function(){return this._height},set:function(t){this._height=t,this._flagHeight=!0}},radius:{enumerable:!0,get:function(){return this._radius},set:function(t){this._radius instanceof R&&this._radius.unbind(A.Types.change,this._renderer.flagRadius),this._radius=t,this._radius instanceof R&&this._radius.bind(A.Types.change,this._renderer.flagRadius),this._flagRadius=!0}}};function Ue(){this._flagRadius=!0}var De=Math.min,$e=Math.max,Ye=class extends it{constructor(t,e,i,r){super(),l(this,"_flagValue",!0),l(this,"_flagFamily",!0),l(this,"_flagSize",!0),l(this,"_flagLeading",!0),l(this,"_flagAlignment",!0),l(this,"_flagBaseline",!0),l(this,"_flagStyle",!0),l(this,"_flagWeight",!0),l(this,"_flagDecoration",!0),l(this,"_flagFill",!0),l(this,"_flagStroke",!0),l(this,"_flagLinewidth",!0),l(this,"_flagOpacity",!0),l(this,"_flagVisible",!0),l(this,"_flagMask",!1),l(this,"_flagClip",!1),l(this,"_value",""),l(this,"_family","sans-serif"),l(this,"_size",13),l(this,"_leading",17),l(this,"_alignment","center"),l(this,"_baseline","middle"),l(this,"_style","normal"),l(this,"_weight",500),l(this,"_decoration","none"),l(this,"_fill","#000"),l(this,"_stroke","transparent"),l(this,"_linewidth",1),l(this,"_opacity",1),l(this,"_visible",!0),l(this,"_mask",null),l(this,"_clip",!1),l(this,"_dashes",null);for(let n in He)Object.defineProperty(this,n,He[n]);if(this._renderer.type="text",this._renderer.flagFill=We.bind(this),this._renderer.flagStroke=Ge.bind(this),this.value=t,"number"===typeof e&&(this.translation.x=e),"number"===typeof i&&(this.translation.y=i),this.dashes=[],this.dashes.offset=0,!W.isObject(r))return this;for(let n=0;n<Ye.Properties.length;n++){const t=Ye.Properties[n];t in r&&(this[t]=r[t])}}clone(t){const e=new Ye(this.value);e.translation.copy(this.translation),e.rotation=this.rotation,e.scale=this.scale;for(let i=0;i<Ye.Properties.length;i++){const t=Ye.Properties[i];e[t]=this[t]}return this.matrix.manual&&e.matrix.copy(this.matrix),t&&t.add(e),e._update()}toObject(){const t={translation:this.translation.toObject(),rotation:this.rotation,scale:this.scale};this.matrix.manual&&(t.matrix=this.matrix.toObject());for(let e=0;e<Ye.Properties.length;e++){const i=Ye.Properties[e];t[i]=this[i]}return t}noFill(){return this.fill="transparent",this}noStroke(){return this.stroke=void 0,this.linewidth=void 0,this}getBoundingClientRect(t){let e,i,r,n,s,a,o,l,h;this._update(!0),e=t?this._matrix:p(this);const c=this.leading,u=this.value.length*this.size*Ye.Ratio,f=(this._linewidth||0)/2;switch(this.alignment){case"left":a=-f,o=u+f;break;case"right":a=-(u+f),o=f;break;default:a=-(u/2+f),o=u/2+f}switch(this.baseline){case"top":l=-f,h=c+f;break;case"bottom":l=-(c+f),h=f;break;default:l=-(c/2+f),h=c/2+f}return i=e.multiply(a,l,1),r=e.multiply(a,h,1),n=e.multiply(o,l,1),s=e.multiply(o,h,1),l=De(i.y,r.y,n.y,s.y),a=De(i.x,r.x,n.x,s.x),o=$e(i.x,r.x,n.x,s.x),h=$e(i.y,r.y,n.y,s.y),{top:l,left:a,right:o,bottom:h,width:o-a,height:h-l}}flagReset(){return super.flagReset.call(this),this._flagValue=this._flagFamily=this._flagSize=this._flagLeading=this._flagAlignment=this._flagFill=this._flagStroke=this._flagLinewidth=this._flagOpacity=this._flagVisible=this._flagClip=this._flagDecoration=this._flagClassName=this._flagBaseline=this._flagWeight=this._flagStyle=!1,this}},Xe=Ye;l(Xe,"Ratio",.6),l(Xe,"Properties",["value","family","size","leading","alignment","linewidth","style","weight","decoration","baseline","opacity","visible","fill","stroke"]);var He={value:{enumerable:!0,get:function(){return this._value},set:function(t){this._value=t,this._flagValue=!0}},family:{enumerable:!0,get:function(){return this._family},set:function(t){this._family=t,this._flagFamily=!0}},size:{enumerable:!0,get:function(){return this._size},set:function(t){this._size=t,this._flagSize=!0}},leading:{enumerable:!0,get:function(){return this._leading},set:function(t){this._leading=t,this._flagLeading=!0}},alignment:{enumerable:!0,get:function(){return this._alignment},set:function(t){this._alignment=t,this._flagAlignment=!0}},linewidth:{enumerable:!0,get:function(){return this._linewidth},set:function(t){this._linewidth=t,this._flagLinewidth=!0}},style:{enumerable:!0,get:function(){return this._style},set:function(t){this._style=t,this._flagStyle=!0}},weight:{enumerable:!0,get:function(){return this._weight},set:function(t){this._weight=t,this._flagWeight=!0}},decoration:{enumerable:!0,get:function(){return this._decoration},set:function(t){this._decoration=t,this._flagDecoration=!0}},baseline:{enumerable:!0,get:function(){return this._baseline},set:function(t){this._baseline=t,this._flagBaseline=!0}},opacity:{enumerable:!0,get:function(){return this._opacity},set:function(t){this._opacity=t,this._flagOpacity=!0}},visible:{enumerable:!0,get:function(){return this._visible},set:function(t){this._visible=t,this._flagVisible=!0}},fill:{enumerable:!0,get:function(){return this._fill},set:function(t){(this._fill instanceof Vt||this._fill instanceof Ht||this._fill instanceof Kt||this._fill instanceof re)&&this._fill.unbind(A.Types.change,this._renderer.flagFill),this._fill=t,this._flagFill=!0,(this._fill instanceof Vt||this._fill instanceof Ht||this._fill instanceof Kt||this._fill instanceof re)&&this._fill.bind(A.Types.change,this._renderer.flagFill)}},stroke:{enumerable:!0,get:function(){return this._stroke},set:function(t){(this._stroke instanceof Vt||this._stroke instanceof Ht||this._stroke instanceof Kt||this._stroke instanceof re)&&this._stroke.unbind(A.Types.change,this._renderer.flagStroke),this._stroke=t,this._flagStroke=!0,(this._stroke instanceof Vt||this._stroke instanceof Ht||this._stroke instanceof Kt||this._stroke instanceof re)&&this._stroke.bind(A.Types.change,this._renderer.flagStroke)}},mask:{enumerable:!0,get:function(){return this._mask},set:function(t){this._mask=t,this._flagMask=!0,W.isObject(t)&&!t.clip&&(t.clip=!0)}},clip:{enumerable:!0,get:function(){return this._clip},set:function(t){this._clip=t,this._flagClip=!0}},dashes:{enumerable:!0,get:function(){return this._dashes},set:function(t){"number"!==typeof t.offset&&(t.offset=this.dashes&&this._dashes.offset||0),this._dashes=t}}};function We(){this._flagFill=!0}function Ge(){this._flagStroke=!0}var qe={path:/[+-]?(?:\d*\.\d+|\d+)(?:[eE][+-]\d+)?/g,cssBackgroundImage:/url\(['"]?#([\w\d-_]*)['"]?\)/i,unitSuffix:/[a-zA-Z%]*/i},Ke={start:"left",middle:"center",end:"right"},Je=["id","class","transform","xmlns","viewBox"],Qe=["x","y","width","height","href","xlink:href"];function Ze(t){return Ke[t]}function ti(t){const e=t.getAttribute("dominant-baseline"),i=t.getAttribute("alignment-baseline");return e||i}function ei(t){return t.replace(/svg:/gi,"").toLowerCase()}function ii(t,e){if(e.x+=t.translateX,e.y+=t.translateY,e.x*=t.scaleX,e.y*=t.scaleY,0!==t.rotation){const i=e.length();e.x=i*Math.cos(t.rotation),e.y=i*Math.sin(t.rotation)}}function ri(t,e){e||(e={});const i=t.split(";");for(let r=0;r<i.length;r++){const t=i[r].split(":"),n=t[0],s=t[1];"undefined"!==typeof n&&"undefined"!==typeof s&&(e[n]=s.replace(/\s/,""))}return e}function ni(t){const e={},i=si(t),r=Math.max(i.length,t.style.length);for(let n=0;n<r;n++){const r=t.style[n],s=i[n];r&&(e[r]=t.style[r]),s&&(e[s]=t.getAttribute(s))}return e}function si(t){const e=t.getAttributeNames();for(let i=0;i<Je.length;i++){const t=Je[i],r=Array.prototype.indexOf.call(e,t);r>=0&&e.splice(r,1)}return e}function ai(t,e){const i=e.split(/[\s,]/),r=-parseFloat(i[0]),n=-parseFloat(i[1]),s=parseFloat(i[2]),a=parseFloat(i[3]);if(r&&n)for(let u=0;u<t.children.length;u++){const e=t.children[u];"translation"in e?e.translation.add(r,n):"x"in e?e.x=r:"y"in e&&(e.y=n)}const o="number"===typeof t.x,l="number"===typeof t.y,h="number"===typeof t.width,c="number"===typeof t.height;return o&&(t.translation.x+=t.x),l&&(t.translation.y+=t.y),(h||c)&&(t.scale=new R(1,1)),h&&(t.scale.x=t.width/s),c&&(t.scale.y=t.height/a),t.mask=new xe(0,0,s,a),t.mask.origin.set(-s/2,-a/2),t}function oi(t,e,i){const n={},s={},a={};let o,l,h,c,u,f,_,p,g,m,b,y,v,x,w,k,A;if(r.getComputedStyle){const e=r.getComputedStyle(t);o=e.length;while(o--)h=e[o],c=e[h],"undefined"!==typeof c&&(n[h]=c)}for(o=0;o<t.attributes.length;o++)f=t.attributes[o],/style/i.test(f.nodeName)?ri(f.value,a):s[f.nodeName]=f.value;for(h in"undefined"!==typeof n.opacity&&(n["stroke-opacity"]=n.opacity,n["fill-opacity"]=n.opacity,delete n.opacity),i&&W.defaults(n,i),W.extend(n,a,s),n.visible=!("undefined"===typeof n.display&&/none/i.test(n.display))||"undefined"===typeof n.visibility&&/hidden/i.test(n.visibility),n)switch(c=n[h],h){case"gradientTransform":if(/none/i.test(c))break;if(l=t.gradientTransform&&t.gradientTransform.baseVal&&t.gradientTransform.baseVal.length>0?t.gradientTransform.baseVal[0].matrix:t.getCTM?t.getCTM():null,null===l)break;switch(_=d(l),e._renderer.type){case"linear-gradient":ii(_,e.left),ii(_,e.right);break;case"radial-gradient":e.center.x+=_.translateX,e.center.y+=_.translateY,e.focal.x+=_.translateX,e.focal.y+=_.translateY,e.radius*=Math.max(_.scaleX,_.scaleY);break}break;case"transform":if(/none/i.test(c))break;if(l=t.transform&&t.transform.baseVal&&t.transform.baseVal.length>0?t.transform.baseVal[0].matrix:t.getCTM?t.getCTM():null,null===l)break;O.AutoCalculateImportedMatrices?(_=d(l),e.translation.set(_.translateX,_.translateY),e.rotation=Math.PI*(_.rotation/180),e.scale=new R(_.scaleX,_.scaleY),p=parseFloat((n.x+"").replace("px")),g=parseFloat((n.y+"").replace("px")),p&&(e.translation.x=p),g&&(e.translation.y=g)):(l=t.getCTM(),e._matrix.manual=!0,e._matrix.set(l.a,l.b,l.c,l.d,l.e,l.f));break;case"visible":if(e instanceof ct){e._visible=c;break}e.visible=c;break;case"stroke-linecap":if(e instanceof ct){e._cap=c;break}e.cap=c;break;case"stroke-linejoin":if(e instanceof ct){e._join=c;break}e.join=c;break;case"stroke-miterlimit":if(e instanceof ct){e._miter=c;break}e.miter=c;break;case"stroke-width":if(e instanceof ct){e._linewidth=parseFloat(c);break}e.linewidth=parseFloat(c);break;case"opacity":case"stroke-opacity":case"fill-opacity":if(e instanceof ct){e._opacity=parseFloat(c);break}e.opacity=parseFloat(c);break;case"clip-path":if(qe.cssBackgroundImage.test(c)&&(m=c.replace(qe.cssBackgroundImage,"$1"),ci.defs.current&&ci.defs.current.contains(m)&&(y=ci.defs.current.get(m),y&&y.childNodes.length>0)))switch(y=y.childNodes[0],v=ei(y.nodeName),e.mask=ci[v].call(this,y,{}),e._renderer.type){case"text":case"path":e.position.add(e.mask.position),e.mask.position.clear();break}break;case"fill":case"stroke":u=(e instanceof ct?"_":"")+h,qe.cssBackgroundImage.test(c)?(m=c.replace(qe.cssBackgroundImage,"$1"),ci.defs.current&&ci.defs.current.contains(m)?(y=ci.defs.current.get(m),y.object||(v=ei(y.nodeName),y.object=ci[v].call(this,y,{})),y=y.object):(b=hi(this),y=b.getById(m)),e[u]=y):e[u]=/none/i.test(c)?"transparent":c;break;case"id":e.id=c;break;case"class":case"className":e.classList=c.split(" "),e._flagClassName=!0;break;case"x":case"y":if(x=e instanceof Vt,w=e instanceof Ht,k=e instanceof Kt,x||w||k)break;c.match("[a-z%]$")&&!c.endsWith("px")&&(A=new Mt("only pixel values are supported with the "+h+" attribute."),console.warn(A.name,A.message)),e.translation[h]=parseFloat(c);break;case"font-family":e instanceof Xe&&(e.family=c);break;case"font-size":e instanceof Xe&&(e.size=c);break;case"font-weight":e instanceof Xe&&(e.weight=c);break;case"font-style":e instanceof Xe&&(e.style=c);break;case"text-decoration":e instanceof Xe&&(e.decoration=c);break;case"line-height":e instanceof Xe&&(e.leading=c);break}return Object.keys(t.dataset).length&&(e.dataset=t.dataset),n}function li(t,e){for(let i=0,r=t.childNodes.length;i<r;i++){const r=t.childNodes[i];if(!r.id)continue;const n=ei(t.nodeName);"#text"!==n&&e.add(r.id,r)}}function hi(t){while(t.parent)t=t.parent;return t.scene}var ci={svg:function(t){const e=ci.defs.current=new Ot,i=t.getElementsByTagName("defs");for(let _=0;_<i.length;_++)li(i[_],e);const r=ci.g.call(this,t),n=t.getAttribute("viewBox"),s=t.getAttribute("x"),a=t.getAttribute("y"),o=t.getAttribute("width"),l=t.getAttribute("height");r.defs=e;const h=null!==n,c=null!==s,u=null!==a,f=null!==o,d=null!==l;return c&&(r.x=parseFloat(s.replace(qe.unitSuffix,""))),u&&(r.y=parseFloat(a.replace(qe.unitSuffix,""))),f&&(r.width=parseFloat(o.replace(qe.unitSuffix,""))),d&&(r.height=parseFloat(l.replace(qe.unitSuffix,""))),h&&ai(r,n),delete ci.defs.current,r},defs:function(t){return null},use:function(t,e){let i;const r=t.getAttribute("href")||t.getAttribute("xlink:href");if(!r)return i=new Mt("encountered <use /> with no href."),console.warn(i.name,i.message),null;const n=r.slice(1);if(!ci.defs.current.contains(n))return i=new Mt("unable to find element for reference "+r+"."),console.warn(i.name,i.message),null;const s=ci.defs.current.get(n),a=s.cloneNode(!0);for(let l=0;l<t.attributes.length;l++){const e=t.attributes[l],i=Qe.includes(e.nodeName),r=!a.hasAttribute(e.nodeName);(i||r)&&a.setAttribute(e.nodeName,e.value)}const o=ei(a.nodeName);return ci[o].call(this,a,e)},g:function(t,e){const i=new ct;oi.call(this,t,i,e),this.add(i);const r=ni.call(this,t);for(let n=0,s=t.childNodes.length;n<s;n++){const e=t.childNodes[n],s=e.nodeName;if(!s)return;const a=ei(s);if(a in ci){const t=ci[a].call(i,e,r);t&&!t.parent&&i.add(t)}}return i},polygon:function(t,e){let i;i="string"===typeof t?t:t.getAttribute("points");const r=[];i.replace(/(-?[\d.eE-]+)[,|\s](-?[\d.eE-]+)/g,(function(t,e,i){r.push(new C(parseFloat(e),parseFloat(i)))}));const n=new de(r,!0).noStroke();return n.fill="black",oi.call(this,t,n,e),n},polyline:function(t,e){const i=ci.polygon.call(this,t,e);return i.closed=!1,i},path:function(t,e){let i;i="string"===typeof t?t:t.getAttribute("d");let r=[],n=!1,s=!1;if(i){let t,e,a=new C,o=i.match(/[a-df-z][^a-df-z]*/gi);const l=o.length-1;W.each(o.slice(0),(function(t,e){const i=t.slice(1).trim().match(qe.path),r=t[0],n=r.toLowerCase();let s,a,l,h,c;const u=[];switch(0===e&&(o=[]),n){case"h":case"v":i.length>1&&(s=1);break;case"m":case"l":case"t":i.length>2&&(s=2);break;case"s":case"q":i.length>4&&(s=4);break;case"c":i.length>6&&(s=6);break;case"a":i.length>7&&(s=7);break}if(s){for(a=0,l=i.length,c=0;a<l;a+=s){if(h=r,c>0)switch(r){case"m":h="l";break;case"M":h="L";break}u.push(h+i.slice(a,a+s).join(" ")),c++}o=Array.prototype.concat.apply(o,u)}else o.push(t)})),W.each(o,(function(i,o){let c,u,f;const d=i[0],_=d.toLowerCase();let p,g,m,b,y,v,x,w,k,A,S,E,T,M,O,j,F;switch(e=i.slice(1).trim().match(qe.path),s=d===_,_){case"z":if(o>=l)n=!0;else{u=a.x,f=a.y,c=new C(u,f,void 0,void 0,void 0,void 0,h.close);for(let t=r.length-1;t>=0;t--){const e=r[t];if(/m/i.test(e.command)){a=e;break}}}break;case"m":case"l":t=void 0,u=parseFloat(e[0]),f=parseFloat(e[1]),c=new C(u,f,void 0,void 0,void 0,void 0,/m/i.test(_)?h.move:h.line),s&&c.addSelf(a),a=c;break;case"h":case"v":A=/h/i.test(_)?"x":"y",S=/x/i.test(A)?"y":"x",c=new C(void 0,void 0,void 0,void 0,void 0,void 0,h.line),c[A]=parseFloat(e[0]),c[S]=a[S],s&&(c[A]+=a[A]),a=c;break;case"c":case"s":p=a.x,g=a.y,t||(t=new R),/c/i.test(_)?(m=parseFloat(e[0]),b=parseFloat(e[1]),y=parseFloat(e[2]),v=parseFloat(e[3]),x=parseFloat(e[4]),w=parseFloat(e[5])):(k=V(a,t,s),m=k.x,b=k.y,y=parseFloat(e[0]),v=parseFloat(e[1]),x=parseFloat(e[2]),w=parseFloat(e[3])),s&&(m+=p,b+=g,y+=p,v+=g,x+=p,w+=g),a.controls.right.set(m-a.x,b-a.y),c=new C(x,w,y-x,v-w,void 0,void 0,h.curve),a=c,t=c.controls.left;break;case"t":case"q":p=a.x,g=a.y,t||(t=new R),/q/i.test(_)?(m=parseFloat(e[0]),b=parseFloat(e[1]),y=parseFloat(e[0]),v=parseFloat(e[1]),x=parseFloat(e[2]),w=parseFloat(e[3])):(k=V(a,t,s),m=k.x,b=k.y,y=k.x,v=k.y,x=parseFloat(e[0]),w=parseFloat(e[1])),s&&(m+=p,b+=g,y+=p,v+=g,x+=p,w+=g),a.controls.right.set(.33*(m-a.x),.33*(b-a.y)),c=new C(x,w,y-x,v-w,void 0,void 0,h.curve),a=c,t=c.controls.left;break;case"a":p=a.x,g=a.y,T=parseFloat(e[0]),M=parseFloat(e[1]),O=parseFloat(e[2]),j=parseFloat(e[3]),F=parseFloat(e[4]),x=parseFloat(e[5]),w=parseFloat(e[6]),s&&(x+=p,w+=g),E=new C(x,w),E.command=h.arc,E.rx=T,E.ry=M,E.xAxisRotation=O,E.largeArcFlag=j,E.sweepFlag=F,c=E,a=E,t=void 0;break}c&&(Array.isArray(c)?r=r.concat(c):r.push(c))}))}i=new de(r,n,void 0,!0).noStroke(),i.fill="black";const a=i.getBoundingClientRect(!0);return a.centroid={x:a.left+a.width/2,y:a.top+a.height/2},W.each(i.vertices,(function(t){t.subSelf(a.centroid)})),oi.call(this,t,i,e),i.translation.addSelf(a.centroid),i},circle:function(t,e){const i=parseFloat(t.getAttribute("cx")),r=parseFloat(t.getAttribute("cy")),n=parseFloat(t.getAttribute("r")),s=new Te(0,0,n).noStroke();return s.fill="black",oi.call(this,t,s,e),s.translation.x=i,s.translation.y=r,s},ellipse:function(t,e){const i=parseFloat(t.getAttribute("cx")),r=parseFloat(t.getAttribute("cy")),n=parseFloat(t.getAttribute("rx")),s=parseFloat(t.getAttribute("ry")),a=new Pe(0,0,n,s).noStroke();return a.fill="black",oi.call(this,t,a,e),a.translation.x=i,a.translation.y=r,a},rect:function(t,e){const i=parseFloat(t.getAttribute("rx")),r=parseFloat(t.getAttribute("ry"));if(!W.isNaN(i)||!W.isNaN(r))return ci["rounded-rect"](t);const n=parseFloat(t.getAttribute("width")),s=parseFloat(t.getAttribute("height")),a=n/2,o=s/2,l=new xe(0,0,n,s).noStroke();return l.fill="black",oi.call(this,t,l,e),l.translation.x+=a,l.translation.y+=o,l},"rounded-rect":function(t,e){const i=parseFloat(t.getAttribute("rx"))||0,r=parseFloat(t.getAttribute("ry"))||0,n=parseFloat(t.getAttribute("width")),s=parseFloat(t.getAttribute("height")),a=n/2,o=s/2,l=new R(i,r),h=new ze(0,0,n,s,l).noStroke();return h.fill="black",oi.call(this,t,h,e),h.translation.x+=a,h.translation.y+=o,h},line:function(t,e){const i=parseFloat(t.getAttribute("x1")),r=parseFloat(t.getAttribute("y1")),n=parseFloat(t.getAttribute("x2")),s=parseFloat(t.getAttribute("y2")),a=new Ie(i,r,n,s).noFill();return oi.call(this,t,a,e),a},lineargradient:function(t,e){let i=t.getAttribute("gradientUnits"),r=t.getAttribute("spreadMethod");i||(i="objectBoundingBox"),r||(r="pad");let n=parseFloat(t.getAttribute("x1")||0),s=parseFloat(t.getAttribute("y1")||0),a=parseFloat(t.getAttribute("x2")||0),o=parseFloat(t.getAttribute("y2")||0);const l=(a+n)/2,h=(o+s)/2;/userSpaceOnUse/i.test(i)&&(n-=l,s-=h,a-=l,o-=h);const c=[];for(let f=0;f<t.children.length;f++){const e=t.children[f];let i=e.getAttribute("offset");/%/gi.test(i)&&(i=parseFloat(i.replace(/%/gi,""))/100),i=parseFloat(i);let r,n=e.getAttribute("stop-color"),s=e.getAttribute("stop-opacity"),a=e.getAttribute("style");null===n&&(r=!!a&&a.match(/stop-color:\s?([#a-fA-F0-9]*)/),n=r&&r.length>1?r[1]:void 0),null===s?(r=!!a&&a.match(/stop-opacity:\s?([0-9.-]*)/),s=r&&r.length>1?parseFloat(r[1]):1):s=parseFloat(s),c.push(new Nt(i,n,s))}const u=new Ht(n,s,a,o,c);return u.spread=r,u.units=i,oi.call(this,t,u,e),u},radialgradient:function(t,e){let i=t.getAttribute("gradientUnits"),r=t.getAttribute("spreadMethod");i||(i="objectBoundingBox"),r||(r="pad");let n=parseFloat(t.getAttribute("cx"))||0,s=parseFloat(t.getAttribute("cy"))||0,a=parseFloat(t.getAttribute("r")),o=parseFloat(t.getAttribute("fx")),l=parseFloat(t.getAttribute("fy"));W.isNaN(o)&&(o=n),W.isNaN(l)&&(l=s);const h=Math.abs(n+o)/2,c=Math.abs(s+l)/2;/userSpaceOnUse/i.test(i)&&(n-=h,s-=c,o-=h,l-=c);const u=[];for(let d=0;d<t.children.length;d++){const e=t.children[d];let i=e.getAttribute("offset");/%/gi.test(i)&&(i=parseFloat(i.replace(/%/gi,""))/100),i=parseFloat(i);let r,n=e.getAttribute("stop-color"),s=e.getAttribute("stop-opacity"),a=e.getAttribute("style");null===n&&(r=!!a&&a.match(/stop-color:\s?([#a-fA-F0-9]*)/),n=r&&r.length>1?r[1]:void 0),null===s?(r=!!a&&a.match(/stop-opacity:\s?([0-9.-]*)/),s=r&&r.length>1?parseFloat(r[1]):1):s=parseFloat(s),u.push(new Nt(i,n,s))}const f=new Kt(n,s,a,u,o,l);return f.spread=r,f.units=i,oi.call(this,t,f,e),f},text:function(t,e){const i=Ze(t.getAttribute("text-anchor"))||"left",r=ti(t)||"baseline",n=t.textContent,s=new Xe(n);return oi.call(this,t,s,e),s.alignment=i,s.baseline=r,s},clippath:function(t,e){return ci.defs.current&&!ci.defs.current.contains(t.id)&&ci.defs.current.add(t.id,t),null},image:function(t,e){let i;const r=t.getAttribute("href")||t.getAttribute("xlink:href");if(!r)return i=new Mt("encountered <image /> with no href."),console.warn(i.name,i.message),null;const n=parseFloat(t.getAttribute("x"))||0,s=parseFloat(t.getAttribute("y"))||0,a=parseFloat(t.getAttribute("width")),o=parseFloat(t.getAttribute("height")),l=new Ae(r,n,s);return W.isNaN(a)||(l.width=a),W.isNaN(o)||(l.height=o),oi.call(this,t,l,e),l}};function ui(t,e){const i=new XMLHttpRequest;return i.open("GET",t),i.onreadystatechange=function(){4===i.readyState&&200===i.status&&e(i.responseText)},i.send(),i}var fi=class extends xe{constructor(t,e,i,r){super(e,i,0,0),l(this,"_flagTextures",!1),l(this,"_flagFrameRate",!1),l(this,"_flagIndex",!1),l(this,"_amount",1),l(this,"_duration",0),l(this,"_index",0),l(this,"_startTime",0),l(this,"_playing",!1),l(this,"_firstFrame",0),l(this,"_lastFrame",0),l(this,"_loop",!0),l(this,"_textures",null),l(this,"_frameRate",0),l(this,"_origin",null);for(let n in _i)Object.defineProperty(this,n,_i[n]);this._renderer.flagTextures=pi.bind(this),this._renderer.bindTextures=gi.bind(this),this._renderer.unbindTextures=mi.bind(this),this.noStroke(),this.noFill(),Array.isArray(t)?this.textures=t.map(bi.bind(this)):this.textures=[bi(t)],this.origin=new R,this._update(),this.frameRate="number"===typeof r?r:fi.DefaultFrameRate,this.index=0}play(t,e,i){return this._playing=!0,this._firstFrame=0,this._lastFrame=this.amount-1,this._startTime=W.performance.now(),"number"===typeof t&&(this._firstFrame=t),"number"===typeof e&&(this._lastFrame=e),"function"===typeof i?this._onLastFrame=i:delete this._onLastFrame,this._index!==this._firstFrame&&(this._startTime-=1e3*Math.abs(this._index-this._firstFrame)/this._frameRate),this}pause(){return this._playing=!1,this}stop(){return this._playing=!1,this._index=this._firstFrame,this}clone(t){const e=new fi(this.textures,this.translation.x,this.translation.y,this.frameRate);return e._loop=this._loop,this._playing&&e.play(),t&&t.add(e),e}toObject(){const t=super.toObject.call(this);return t.textures=this.textures.map((function(t){return t.toObject()})),t.frameRate=this.frameRate,t.index=this.index,t._firstFrame=this._firstFrame,t._lastFrame=this._lastFrame,t._loop=this._loop,t}_update(){const t=this._textures;let e,i,r,n,s,a,o,l;return t&&(this._flagTextures&&(this._amount=t.length),this._flagFrameRate&&(this._duration=1e3*this._amount/this._frameRate),this._playing&&this._frameRate>0?(n=this._amount,W.isNaN(this._lastFrame)&&(this._lastFrame=n-1),r=W.performance.now()-this._startTime,l=this._lastFrame+1,s=1e3*(l-this._firstFrame)/this._frameRate,this._loop?r%=s:r=Math.min(r,s),o=g(this._firstFrame,l,r/s),o=Math.floor(o),o!==this._index&&(this._index=o,a=t[this._index],a.loaded&&(e=a.image.width,i=a.image.height,this.width!==e&&(this.width=e),this.height!==i&&(this.height=i),this.fill=a,o>=this._lastFrame-1&&this._onLastFrame&&this._onLastFrame()))):!this._flagIndex&&this.fill instanceof re||(a=t[this._index],a.loaded&&(e=a.image.width,i=a.image.height,this.width!==e&&(this.width=e),this.height!==i&&(this.height=i)),this.fill=a)),super._update.call(this),this}flagReset(){return this._flagTextures=this._flagFrameRate=!1,super.flagReset.call(this),this}},di=fi;l(di,"Properties",["textures","frameRate","index"]),l(di,"DefaultFrameRate",30);var _i={frameRate:{enumerable:!0,get:function(){return this._frameRate},set:function(t){this._frameRate=t,this._flagFrameRate=!0}},index:{enumerable:!0,get:function(){return this._index},set:function(t){this._index=t,this._flagIndex=!0}},textures:{enumerable:!0,get:function(){return this._textures},set:function(t){const e=this._renderer.bindTextures,i=this._renderer.unbindTextures;this._textures&&this._textures.unbind(A.Types.insert,e).unbind(A.Types.remove,i),this._textures=new st((t||[]).slice(0)),this._textures.bind(A.Types.insert,e).bind(A.Types.remove,i),e(this._textures)}}};function pi(){this._flagTextures=!0}function gi(t){let e=t.length;while(e--)t[e].bind(A.Types.change,this._renderer.flagTextures);this._renderer.flagTextures()}function mi(t){let e=t.length;while(e--)t[e].unbind(A.Types.change,this._renderer.flagTextures);this._renderer.flagTextures()}function bi(t){return t instanceof re?t:"string"===typeof t?new re(t):void 0}var yi=class extends de{constructor(t,e,i,r,n,s,a){const o=a||3*O.Resolution,h=[];for(let l=0;l<o;l++)h.push(new C);super(h,!0,!1,!0),l(this,"_flagStartAngle",!1),l(this,"_flagEndAngle",!1),l(this,"_flagInnerRadius",!1),l(this,"_flagOuterRadius",!1),l(this,"_startAngle",0),l(this,"_endAngle",u),l(this,"_innerRadius",0),l(this,"_outerRadius",0);for(let l in xi)Object.defineProperty(this,l,xi[l]);"number"===typeof i&&(this.innerRadius=i),"number"===typeof r&&(this.outerRadius=r),"number"===typeof n&&(this.startAngle=n),"number"===typeof s&&(this.endAngle=s),this._update(),"number"===typeof t&&(this.translation.x=t),"number"===typeof e&&(this.translation.y=e)}_update(){if(this._flagVertices||this._flagStartAngle||this._flagEndAngle||this._flagInnerRadius||this._flagOuterRadius){const t=this._startAngle,e=this._endAngle,i=this._innerRadius,r=this._outerRadius,n=y(t,u)===y(e,u),s=i>0,a=this.vertices;let o,l,c,d,_,p,g,m,b,v,x=s?a.length/2:a.length,w=0;for(n?x--:s||(x-=2),l=0,c=x-1;l<x;l++){switch(d=l/c,_=a[w],p=d*(e-t)+t,g=(e-t)/x,m=r*Math.cos(p),b=r*Math.sin(p),l){case 0:o=h.move;break;default:o=h.curve}_.command=o,_.x=m,_.y=b,_.controls.left.clear(),_.controls.right.clear(),_.command===h.curve&&(v=r*g/Math.PI,_.controls.left.x=v*Math.cos(p-f),_.controls.left.y=v*Math.sin(p-f),_.controls.right.x=v*Math.cos(p+f),_.controls.right.y=v*Math.sin(p+f),1===l&&_.controls.left.multiplyScalar(2),l===c&&_.controls.right.multiplyScalar(2)),w++}if(s){for(n?(a[w].command=h.close,w++):(x--,c=x-1),l=0;l<x;l++)d=l/c,_=a[w],p=(1-d)*(e-t)+t,g=(e-t)/x,m=i*Math.cos(p),b=i*Math.sin(p),o=h.curve,l<=0&&(o=n?h.move:h.line),_.command=o,_.x=m,_.y=b,_.controls.left.clear(),_.controls.right.clear(),_.command===h.curve&&(v=i*g/Math.PI,_.controls.left.x=v*Math.cos(p+f),_.controls.left.y=v*Math.sin(p+f),_.controls.right.x=v*Math.cos(p-f),_.controls.right.y=v*Math.sin(p-f),1===l&&_.controls.left.multiplyScalar(2),l===c&&_.controls.right.multiplyScalar(2)),w++;a[w].copy(a[0]),a[w].command=h.line}else n||(a[w].command=h.line,a[w].x=0,a[w].y=0,w++,a[w].copy(a[0]),a[w].command=h.line)}return super._update.call(this),this}flagReset(){return super.flagReset.call(this),this._flagStartAngle=this._flagEndAngle=this._flagInnerRadius=this._flagOuterRadius=!1,this}clone(t){const e=this.innerRadius,i=this.outerRadius,r=this.startAngle,n=this.endAngle,s=this.vertices.length,a=new yi(0,0,e,i,r,n,s);a.translation.copy(this.translation),a.rotation=this.rotation,a.scale=this.scale,a.skewX=this.skewX,a.skewY=this.skewY,this.matrix.manual&&a.matrix.copy(this.matrix);for(let o=0;o<de.Properties.length;o++){const t=de.Properties[o];a[t]=this[t]}return t&&t.add(a),a}toObject(){const t=super.toObject.call(this);for(let e=0;e<yi.Properties.length;e++){const i=yi.Properties[e];t[i]=this[i]}return t}},vi=yi;l(vi,"Properties",["startAngle","endAngle","innerRadius","outerRadius"]);var xi={startAngle:{enumerable:!0,get:function(){return this._startAngle},set:function(t){this._startAngle=t,this._flagStartAngle=!0}},endAngle:{enumerable:!0,get:function(){return this._endAngle},set:function(t){this._endAngle=t,this._flagEndAngle=!0}},innerRadius:{enumerable:!0,get:function(){return this._innerRadius},set:function(t){this._innerRadius=t,this._flagInnerRadius=!0}},outerRadius:{enumerable:!0,get:function(){return this._outerRadius},set:function(t){this._outerRadius=t,this._flagOuterRadius=!0}}},wi=Math.ceil,ki=Math.floor,Ai=class extends it{constructor(t){super(),l(this,"_flagVertices",!0),l(this,"_flagLength",!0),l(this,"_flagFill",!0),l(this,"_flagStroke",!0),l(this,"_flagLinewidth",!0),l(this,"_flagOpacity",!0),l(this,"_flagVisible",!0),l(this,"_flagSize",!0),l(this,"_flagSizeAttenuation",!0),l(this,"_length",0),l(this,"_fill","#fff"),l(this,"_stroke","#000"),l(this,"_linewidth",1),l(this,"_opacity",1),l(this,"_visible",!0),l(this,"_size",1),l(this,"_sizeAttenuation",!1),l(this,"_beginning",0),l(this,"_ending",1),l(this,"_dashes",null),l(this,"noFill",de.prototype.noFill),l(this,"noStroke",de.prototype.noStroke),l(this,"corner",de.prototype.corner),l(this,"center",de.prototype.center),l(this,"getBoundingClientRect",de.prototype.getBoundingClientRect),l(this,"_updateLength",de.prototype._updateLength);for(let e in Ei)Object.defineProperty(this,e,Ei[e]);this._renderer.type="points",this._renderer.flagVertices=pe.bind(this),this._renderer.bindVertices=ge.bind(this),this._renderer.unbindVertices=me.bind(this),this._renderer.flagFill=be.bind(this),this._renderer.flagStroke=ye.bind(this),this._renderer.vertices=null,this._renderer.collection=null,this.sizeAttenuation=!1,this.beginning=0,this.ending=1,this.fill="#fff",this.stroke="#000",this.className="",this.visible=!0,this.vertices=t,this.dashes=[],this.dashes.offset=0}clone(t){const e=new Ai;for(let i=0;i<this.vertices.length;i++)e.vertices.push(this.vertices[i].clone());for(let i=0;i<Ai.Properties.length;i++){const t=Ai.Properties[i];e[t]=this[t]}return e.className=this.className,e.translation.copy(this.translation),e.rotation=this.rotation,e.scale=this.scale,e.skewX=this.skewX,e.skewY=this.skewY,this.matrix.manual&&e.matrix.copy(this.matrix),t&&t.add(e),e._update()}toObject(){const t={vertices:this.vertices.map((function(t){return t.toObject()}))};return W.each(Ai.Properties,(function(e){t[e]=this[e]}),this),t.className=this.className,t.translation=this.translation.toObject(),t.rotation=this.rotation,t.scale=this.scale instanceof R?this.scale.toObject():this.scale,t.skewX=this.skewX,t.skewY=this.skewY,this.matrix.manual&&(t.matrix=this.matrix.toObject()),t}subdivide(t){this._update();let e=[];for(let i=0;i<this.vertices.length;i++){const r=this.vertices[i],n=this.vertices[i-1];if(!n)continue;const s=r.x,a=r.y,o=n.x,l=n.y,h=P(s,a,s,a,o,l,o,l,t);e=e.concat(h)}return this.vertices=e,this}_update(){if(this._flagVertices){this._flagLength&&this._updateLength(void 0,!0);const t=Math.min(this._beginning,this._ending),e=Math.max(this._beginning,this._ending),i=Ft(this,t*this._length),r=Ft(this,e*this._length),n=wi(i),s=ki(r);let a,o=0;this._renderer.vertices=[],this._renderer.collection=[];for(let l=0;l<this._collection.length;l++)l>=n&&l<=s&&(a=this._collection[l],this._renderer.collection.push(a),this._renderer.vertices[2*o+0]=a.x,this._renderer.vertices[2*o+1]=a.y,o++)}return super._update.apply(this,arguments),this}flagReset(){return this._flagVertices=this._flagLength=this._flagFill=this._flagStroke=this._flagLinewidth=this._flagOpacity=this._flagVisible=this._flagSize=this._flagSizeAttenuation=!1,super.flagReset.call(this),this}},Si=Ai;l(Si,"Properties",["fill","stroke","linewidth","opacity","visible","size","sizeAttenuation","beginning","ending"]);var Ei={linewidth:{enumerable:!0,get:function(){return this._linewidth},set:function(t){this._linewidth=t,this._flagLinewidth=!0}},opacity:{enumerable:!0,get:function(){return this._opacity},set:function(t){this._opacity=t,this._flagOpacity=!0}},visible:{enumerable:!0,get:function(){return this._visible},set:function(t){this._visible=t,this._flagVisible=!0}},size:{enumerable:!0,get:function(){return this._size},set:function(t){this._size=t,this._flagSize=!0}},sizeAttenuation:{enumerable:!0,get:function(){return this._sizeAttenuation},set:function(t){this._sizeAttenuation=t,this._flagSizeAttenuation=!0}},fill:{enumerable:!0,get:function(){return this._fill},set:function(t){(this._fill instanceof Vt||this._fill instanceof Ht||this._fill instanceof Kt||this._fill instanceof re)&&this._fill.unbind(A.Types.change,this._renderer.flagFill),this._fill=t,this._flagFill=!0,(this._fill instanceof Vt||this._fill instanceof Ht||this._fill instanceof Kt||this._fill instanceof re)&&this._fill.bind(A.Types.change,this._renderer.flagFill)}},stroke:{enumerable:!0,get:function(){return this._stroke},set:function(t){(this._stroke instanceof Vt||this._stroke instanceof Ht||this._stroke instanceof Kt||this._stroke instanceof re)&&this._stroke.unbind(A.Types.change,this._renderer.flagStroke),this._stroke=t,this._flagStroke=!0,(this._stroke instanceof Vt||this._stroke instanceof Ht||this._stroke instanceof Kt||this._stroke instanceof re)&&this._stroke.bind(A.Types.change,this._renderer.flagStroke)}},length:{get:function(){return this._flagLength&&this._updateLength(),this._length}},beginning:{enumerable:!0,get:function(){return this._beginning},set:function(t){this._beginning=t,this._flagVertices=!0}},ending:{enumerable:!0,get:function(){return this._ending},set:function(t){this._ending=t,this._flagVertices=!0}},vertices:{enumerable:!0,get:function(){return this._collection},set:function(t){const e=this._renderer.bindVertices,i=this._renderer.unbindVertices;this._collection&&this._collection.unbind(A.Types.insert,e).unbind(A.Types.remove,i),this._collection=t instanceof st?t:new st(t||[]),this._collection.bind(A.Types.insert,e).bind(A.Types.remove,i),e(this._collection)}},dashes:{enumerable:!0,get:function(){return this._dashes},set:function(t){"number"!==typeof t.offset&&(t.offset=this.dashes&&this._dashes.offset||0),this._dashes=t}}},Ri=Math.cos,Ci=Math.sin,Ti=class extends de{constructor(t,e,i,r){r=Math.max(r||0,3),super(),l(this,"_flagWidth",!1),l(this,"_flagHeight",!1),l(this,"_flagSides",!1),l(this,"_width",0),l(this,"_height",0),l(this,"_sides",0);for(let n in Oi)Object.defineProperty(this,n,Oi[n]);this.closed=!0,this.automatic=!1,"number"===typeof i&&(this.width=2*i),"number"===typeof i&&(this.height=2*i),"number"===typeof r&&(this.sides=r),this._update(),"number"===typeof t&&(this.translation.x=t),"number"===typeof e&&(this.translation.y=e)}_update(){if(this._flagVertices||this._flagWidth||this._flagHeight||this._flagSides){const t=this._sides,e=t+1;let i=this.vertices.length;i>t&&(this.vertices.splice(t-1,i-t),i=t);for(let r=0;r<e;r++){const e=(r+.5)/t,n=u*e+Math.PI/2,s=this._width*Ri(n)/2,a=this._height*Ci(n)/2;r>=i?this.vertices.push(new C(s,a)):this.vertices[r].set(s,a),this.vertices[r].command=0===r?h.move:h.line}}return super._update.call(this),this}flagReset(){return this._flagWidth=this._flagHeight=this._flagSides=!1,super.flagReset.call(this),this}clone(t){const e=new Ti(0,0,this.radius,this.sides);e.translation.copy(this.translation),e.rotation=this.rotation,e.scale=this.scale,e.skewX=this.skewX,e.skewY=this.skewY,this.matrix.manual&&e.matrix.copy(this.matrix);for(let i=0;i<de.Properties.length;i++){const t=de.Properties[i];e[t]=this[t]}return t&&t.add(e),e}toObject(){const t=super.toObject.call(this);for(let e=0;e<Ti.Properties.length;e++){const i=Ti.Properties[e];t[i]=this[i]}return t}},Mi=Ti;l(Mi,"Properties",["width","height","sides"]);var Oi={width:{enumerable:!0,get:function(){return this._width},set:function(t){this._width=t,this._flagWidth=!0}},height:{enumerable:!0,get:function(){return this._height},set:function(t){this._height=t,this._flagHeight=!0}},sides:{enumerable:!0,get:function(){return this._sides},set:function(t){this._sides=t,this._flagSides=!0}}},ji=Math.cos,Fi=Math.sin,Pi=class extends de{constructor(t,e,i,r,n){arguments.length<=3&&(r=i,i=r/2),("number"!==typeof n||n<=0)&&(n=5),super(),l(this,"_flagInnerRadius",!1),l(this,"_flagOuterRadius",!1),l(this,"_flagSides",!1),l(this,"_innerRadius",0),l(this,"_outerRadius",0),l(this,"_sides",0);for(let s in Ii)Object.defineProperty(this,s,Ii[s]);this.closed=!0,this.automatic=!1,"number"===typeof i&&(this.innerRadius=i),"number"===typeof r&&(this.outerRadius=r),"number"===typeof n&&(this.sides=n),this._update(),"number"===typeof t&&(this.translation.x=t),"number"===typeof e&&(this.translation.y=e)}_update(){if(this._flagVertices||this._flagInnerRadius||this._flagOuterRadius||this._flagSides){const t=2*this._sides,e=t+1;let i=this.vertices.length;i>t&&(this.vertices.splice(t-1,i-t),i=t);for(let r=0;r<e;r++){const e=(r+.5)/t,n=u*e,s=(r%2?this._outerRadius:this._innerRadius)/2,a=s*ji(n),o=s*Fi(n);r>=i?this.vertices.push(new C(a,o)):this.vertices[r].set(a,o),this.vertices[r].command=0===r?h.move:h.line}}return super._update.call(this),this}flagReset(){return this._flagInnerRadius=this._flagOuterRadius=this._flagSides=!1,super.flagReset.call(this),this}clone(t){const e=this.innerRadius,i=this.outerRadius,r=this.sides,n=new Pi(0,0,e,i,r);n.translation.copy(this.translation),n.rotation=this.rotation,n.scale=this.scale,n.skewX=this.skewX,n.skewY=this.skewY,this.matrix.manual&&n.matrix.copy(this.matrix);for(let s=0;s<de.Properties.length;s++){const t=de.Properties[s];n[t]=this[t]}return t&&t.add(n),n}toObject(){const t=super.toObject.call(this);for(let e=0;e<Pi.Properties.length;e++){const i=Pi.Properties[e];t[i]=this[i]}return t}},Li=Pi;l(Li,"Properties",["innerRadius","outerRadius","sides"]);var Ii={innerRadius:{enumerable:!0,get:function(){return this._innerRadius},set:function(t){this._innerRadius=t,this._flagInnerRadius=!0}},outerRadius:{enumerable:!0,get:function(){return this._ourterRadius},set:function(t){this._ourterRadius=t,this._flagOuterRadius=!0}},sides:{enumerable:!0,get:function(){return this._sides},set:function(t){this._sides=t,this._flagSides=!0}}},Ni=new et,Bi={version:1.1,ns:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",alignments:{left:"start",center:"middle",right:"end"},createElement:function(t,e){const i=t,r=document.createElementNS(Bi.ns,i);return"svg"===i&&(e=W.defaults(e||{},{version:Bi.version})),e&&Object.keys(e).length>0&&Bi.setAttributes(r,e),r},setAttributes:function(t,e){const i=Object.keys(e);for(let r=0;r<i.length;r++)/href/.test(i[r])?t.setAttributeNS(Bi.xlink,i[r],e[i[r]]):t.setAttribute(i[r],e[i[r]]);return this},removeAttributes:function(t,e){for(let i in e)t.removeAttribute(i);return this},toString:function(t,e){let i,r=t.length,n=r-1,s="";for(let a=0;a<r;a++){const o=t[a],l=e?y(a-1,r):Math.max(a-1,0),c=t[l];let u,f,d,_,p,g,m,b,v,x,k,A,S,E,C,T=w(o.x),M=w(o.y);switch(o.command){case h.close:u=h.close;break;case h.arc:k=o.rx,A=o.ry,S=o.xAxisRotation,E=o.largeArcFlag,C=o.sweepFlag,u=h.arc+" "+k+" "+A+" "+S+" "+E+" "+C+" "+T+" "+M;break;case h.curve:m=c.controls&&c.controls.right||R.zero,b=o.controls&&o.controls.left||R.zero,c.relative?(d=w(m.x+c.x),_=w(m.y+c.y)):(d=w(m.x),_=w(m.y)),o.relative?(p=w(b.x+o.x),g=w(b.y+o.y)):(p=w(b.x),g=w(b.y)),u=(0===a?h.move:h.curve)+" "+d+" "+_+" "+p+" "+g+" "+T+" "+M;break;case h.move:i=o,u=h.move+" "+T+" "+M;break;default:u=o.command+" "+T+" "+M}a>=n&&e&&(o.command===h.curve&&(f=i,v=o.controls&&o.controls.right||o,x=f.controls&&f.controls.left||f,o.relative?(d=w(v.x+o.x),_=w(v.y+o.y)):(d=w(v.x),_=w(v.y)),f.relative?(p=w(x.x+f.x),g=w(x.y+f.y)):(p=w(x.x),g=w(x.y)),T=w(f.x),M=w(f.y),u+=" C "+d+" "+_+" "+p+" "+g+" "+T+" "+M),o.command!==h.close&&(u+=" Z")),s+=u+" "}return s},pointsToString:function(t,e){let i="";const r=.5*e;for(let n=0;n<t.length;n++){const e=t[n].x,s=t[n].y-r;i+=h.move+" "+e+" "+s+" ",i+="a "+r+" "+r+" 0 1 0 0.001 0 Z"}return i},getClip:function(t,e){let i=t._renderer.clip;return i||(i=t._renderer.clip=Bi.createElement("clipPath",{"clip-rule":"nonzero"}),e.defs.appendChild(i)),i},group:{appendChild:function(t){const e=t._renderer.elem;if(!e)return;const i=e.nodeName;!i||/(radial|linear)gradient/i.test(i)||t._clip||this.elem.appendChild(e)},removeChild:function(t){const e=t._renderer.elem;if(!e||e.parentNode!=this.elem)return;const i=e.nodeName;i&&(t._clip||this.elem.removeChild(e))},orderChild:function(t){this.elem.appendChild(t._renderer.elem)},renderChild:function(t){Bi[t._renderer.type].render.call(t,this)},render:function(t){if(!this._visible&&!this._flagVisible||0===this._opacity&&!this._flagOpacity)return this;this._update(),this._renderer.elem||(this._renderer.elem=Bi.createElement("g",{id:this.id}),t.appendChild(this._renderer.elem));const e=this._matrix.manual||this._flagMatrix,i={domElement:t,elem:this._renderer.elem};e&&this._renderer.elem.setAttribute("transform","matrix("+this._matrix.toString()+")");for(let r=0;r<this.children.length;r++){const e=this.children[r];Bi[e._renderer.type].render.call(e,t)}return this._flagId&&this._renderer.elem.setAttribute("id",this._id),this._flagOpacity&&this._renderer.elem.setAttribute("opacity",this._opacity),this._flagVisible&&this._renderer.elem.setAttribute("display",this._visible?"inline":"none"),this._flagClassName&&this._renderer.elem.setAttribute("class",this.classList.join(" ")),this._flagAdditions&&this.additions.forEach(Bi.group.appendChild,i),this._flagSubtractions&&this.subtractions.forEach(Bi.group.removeChild,i),this._flagOrder&&this.children.forEach(Bi.group.orderChild,i),this._flagMask&&(this._mask?(Bi[this._mask._renderer.type].render.call(this._mask,t),this._renderer.elem.setAttribute("clip-path","url(#"+this._mask.id+")")):this._renderer.elem.removeAttribute("clip-path")),this.dataset&&Object.assign(this._renderer.elem.dataset,this.dataset),this.flagReset()}},path:{render:function(t){if(0===this._opacity&&!this._flagOpacity)return this;this._update();const e={},i=this._matrix.manual||this._flagMatrix;if(i&&(e.transform="matrix("+this._matrix.toString()+")"),this._flagId&&(e.id=this._id),this._flagVertices){const t=Bi.toString(this._renderer.vertices,this._closed);e.d=t}if(this._fill&&this._fill._renderer&&(this._fill._update(),Bi[this._fill._renderer.type].render.call(this._fill,t,!0)),this._flagFill&&(e.fill=this._fill&&this._fill.id?"url(#"+this._fill.id+")":this._fill),this._stroke&&this._stroke._renderer&&(this._stroke._update(),Bi[this._stroke._renderer.type].render.call(this._stroke,t,!0)),this._flagStroke&&(e.stroke=this._stroke&&this._stroke.id?"url(#"+this._stroke.id+")":this._stroke),this._flagLinewidth&&(e["stroke-width"]=this._linewidth),this._flagOpacity&&(e["stroke-opacity"]=this._opacity,e["fill-opacity"]=this._opacity),this._flagClassName&&(e["class"]=this.classList.join(" ")),this._flagVisible&&(e.visibility=this._visible?"visible":"hidden"),this._flagCap&&(e["stroke-linecap"]=this._cap),this._flagJoin&&(e["stroke-linejoin"]=this._join),this._flagMiter&&(e["stroke-miterlimit"]=this._miter),this.dashes&&this.dashes.length>0&&(e["stroke-dasharray"]=this.dashes.join(" "),e["stroke-dashoffset"]=this.dashes.offset||0),this._renderer.elem?Bi.setAttributes(this._renderer.elem,e):(e.id=this._id,this._renderer.elem=Bi.createElement("path",e),t.appendChild(this._renderer.elem)),this._flagClip){const e=Bi.getClip(this,t),i=this._renderer.elem;this._clip?(i.removeAttribute("id"),e.setAttribute("id",this.id),e.appendChild(i)):(e.removeAttribute("id"),i.setAttribute("id",this.id),this.parent._renderer.elem.appendChild(i))}return this._flagMask&&(this._mask?(Bi[this._mask._renderer.type].render.call(this._mask,t),this._renderer.elem.setAttribute("clip-path","url(#"+this._mask.id+")")):this._renderer.elem.removeAttribute("clip-path")),this.flagReset()}},points:{render:function(t){if(0===this._opacity&&!this._flagOpacity)return this;this._update();const e={},i=this._matrix.manual||this._flagMatrix;if(i&&(e.transform="matrix("+this._matrix.toString()+")"),this._flagId&&(e.id=this._id),this._flagVertices||this._flagSize||this._flagSizeAttenuation){let t=this._size;if(!this._sizeAttenuation){p(this,Ni);const e=Ni.elements,i=d(e[0],e[3],e[1],e[4],e[2],e[5]);t/=Math.max(i.scaleX,i.scaleY)}const i=Bi.pointsToString(this._renderer.collection,t);e.d=i}return this._fill&&this._fill._renderer&&(this._fill._update(),Bi[this._fill._renderer.type].render.call(this._fill,t,!0)),this._flagFill&&(e.fill=this._fill&&this._fill.id?"url(#"+this._fill.id+")":this._fill),this._stroke&&this._stroke._renderer&&(this._stroke._update(),Bi[this._stroke._renderer.type].render.call(this._stroke,t,!0)),this._flagStroke&&(e.stroke=this._stroke&&this._stroke.id?"url(#"+this._stroke.id+")":this._stroke),this._flagLinewidth&&(e["stroke-width"]=this._linewidth),this._flagOpacity&&(e["stroke-opacity"]=this._opacity,e["fill-opacity"]=this._opacity),this._flagClassName&&(e["class"]=this.classList.join(" ")),this._flagVisible&&(e.visibility=this._visible?"visible":"hidden"),this.dashes&&this.dashes.length>0&&(e["stroke-dasharray"]=this.dashes.join(" "),e["stroke-dashoffset"]=this.dashes.offset||0),this._renderer.elem?Bi.setAttributes(this._renderer.elem,e):(e.id=this._id,this._renderer.elem=Bi.createElement("path",e),t.appendChild(this._renderer.elem)),this.flagReset()}},text:{render:function(t){this._update();const e={},i=this._matrix.manual||this._flagMatrix;if(i&&(e.transform="matrix("+this._matrix.toString()+")"),this._flagId&&(e.id=this._id),this._flagFamily&&(e["font-family"]=this._family),this._flagSize&&(e["font-size"]=this._size),this._flagLeading&&(e["line-height"]=this._leading),this._flagAlignment&&(e["text-anchor"]=Bi.alignments[this._alignment]||this._alignment),this._flagBaseline&&(e["alignment-baseline"]=e["dominant-baseline"]=this._baseline),this._flagStyle&&(e["font-style"]=this._style),this._flagWeight&&(e["font-weight"]=this._weight),this._flagDecoration&&(e["text-decoration"]=this._decoration),this._fill&&this._fill._renderer&&(this._fill._update(),Bi[this._fill._renderer.type].render.call(this._fill,t,!0)),this._flagFill&&(e.fill=this._fill&&this._fill.id?"url(#"+this._fill.id+")":this._fill),this._stroke&&this._stroke._renderer&&(this._stroke._update(),Bi[this._stroke._renderer.type].render.call(this._stroke,t,!0)),this._flagStroke&&(e.stroke=this._stroke&&this._stroke.id?"url(#"+this._stroke.id+")":this._stroke),this._flagLinewidth&&(e["stroke-width"]=this._linewidth),this._flagOpacity&&(e.opacity=this._opacity),this._flagClassName&&(e["class"]=this.classList.join(" ")),this._flagVisible&&(e.visibility=this._visible?"visible":"hidden"),this.dashes&&this.dashes.length>0&&(e["stroke-dasharray"]=this.dashes.join(" "),e["stroke-dashoffset"]=this.dashes.offset||0),this._renderer.elem?Bi.setAttributes(this._renderer.elem,e):(e.id=this._id,this._renderer.elem=Bi.createElement("text",e),t.defs.appendChild(this._renderer.elem)),this._flagClip){const e=Bi.getClip(this,t),i=this._renderer.elem;this._clip?(i.removeAttribute("id"),e.setAttribute("id",this.id),e.appendChild(i)):(e.removeAttribute("id"),i.setAttribute("id",this.id),this.parent._renderer.elem.appendChild(i))}return this._flagMask&&(this._mask?(Bi[this._mask._renderer.type].render.call(this._mask,t),this._renderer.elem.setAttribute("clip-path","url(#"+this._mask.id+")")):this._renderer.elem.removeAttribute("clip-path")),this._flagValue&&(this._renderer.elem.textContent=this._value),this.flagReset()}},"linear-gradient":{render:function(t,e){e||this._update();const i={};if(this._flagId&&(i.id=this._id),this._flagEndPoints&&(i.x1=this.left._x,i.y1=this.left._y,i.x2=this.right._x,i.y2=this.right._y),this._flagSpread&&(i.spreadMethod=this._spread),this._flagUnits&&(i.gradientUnits=this._units),this._renderer.elem?Bi.setAttributes(this._renderer.elem,i):(i.id=this._id,this._renderer.elem=Bi.createElement("linearGradient",i),t.defs.appendChild(this._renderer.elem)),this._flagStops){const t=this._renderer.elem.childNodes.length!==this.stops.length;if(t)while(this._renderer.elem.lastChild)this._renderer.elem.removeChild(this._renderer.elem.lastChild);for(let e=0;e<this.stops.length;e++){const i=this.stops[e],r={};i._flagOffset&&(r.offset=100*i._offset+"%"),i._flagColor&&(r["stop-color"]=i._color),i._flagOpacity&&(r["stop-opacity"]=i._opacity),i._renderer.elem?Bi.setAttributes(i._renderer.elem,r):i._renderer.elem=Bi.createElement("stop",r),t&&this._renderer.elem.appendChild(i._renderer.elem),i.flagReset()}}return this.flagReset()}},"radial-gradient":{render:function(t,e){e||this._update();const i={};if(this._flagId&&(i.id=this._id),this._flagCenter&&(i.cx=this.center._x,i.cy=this.center._y),this._flagFocal&&(i.fx=this.focal._x,i.fy=this.focal._y),this._flagRadius&&(i.r=this._radius),this._flagSpread&&(i.spreadMethod=this._spread),this._flagUnits&&(i.gradientUnits=this._units),this._renderer.elem?Bi.setAttributes(this._renderer.elem,i):(i.id=this._id,this._renderer.elem=Bi.createElement("radialGradient",i),t.defs.appendChild(this._renderer.elem)),this._flagStops){const t=this._renderer.elem.childNodes.length!==this.stops.length;if(t)while(this._renderer.elem.lastChild)this._renderer.elem.removeChild(this._renderer.elem.lastChild);for(let e=0;e<this.stops.length;e++){const i=this.stops[e],r={};i._flagOffset&&(r.offset=100*i._offset+"%"),i._flagColor&&(r["stop-color"]=i._color),i._flagOpacity&&(r["stop-opacity"]=i._opacity),i._renderer.elem?Bi.setAttributes(i._renderer.elem,r):i._renderer.elem=Bi.createElement("stop",r),t&&this._renderer.elem.appendChild(i._renderer.elem),i.flagReset()}}return this.flagReset()}},texture:{render:function(t,e){e||this._update();const i={},r={x:0,y:0},n=this.image;if(this._flagId&&(i.id=this._id),this._flagLoaded&&this.loaded)switch(n.nodeName.toLowerCase()){case"canvas":r.href=r["xlink:href"]=n.toDataURL("image/png");break;case"img":case"image":r.href=r["xlink:href"]=this.src;break}if((this._flagOffset||this._flagLoaded||this._flagScale)&&(i.x=this._offset.x,i.y=this._offset.y,n&&(i.x-=n.width/2,i.y-=n.height/2,this._scale instanceof R?(i.x*=this._scale.x,i.y*=this._scale.y):(i.x*=this._scale,i.y*=this._scale)),i.x>0&&(i.x*=-1),i.y>0&&(i.y*=-1)),(this._flagScale||this._flagLoaded||this._flagRepeat)&&(i.width=0,i.height=0,n)){switch(r.width=i.width=n.width,r.height=i.height=n.height,this._repeat){case"no-repeat":i.width+=1,i.height+=1;break}this._scale instanceof R?(i.width*=this._scale.x,i.height*=this._scale.y):(i.width*=this._scale,i.height*=this._scale)}return(this._flagScale||this._flagLoaded)&&(this._renderer.image?Bi.setAttributes(this._renderer.image,r):this._renderer.image=Bi.createElement("image",r)),this._renderer.elem?0!==Object.keys(i).length&&Bi.setAttributes(this._renderer.elem,i):(i.id=this._id,i.patternUnits="userSpaceOnUse",this._renderer.elem=Bi.createElement("pattern",i),t.defs.appendChild(this._renderer.elem)),this._renderer.elem&&this._renderer.image&&!this._renderer.appended&&(this._renderer.elem.appendChild(this._renderer.image),this._renderer.appended=!0),this.flagReset()}}},zi=class extends A{constructor(t){super(),this.domElement=t.domElement||Bi.createElement("svg"),this.scene=new ct,this.scene.parent=this,this.defs=Bi.createElement("defs"),this.domElement.appendChild(this.defs),this.domElement.defs=this.defs,this.domElement.style.overflow="hidden"}setSize(t,e){return this.width=t,this.height=e,Bi.setAttributes(this.domElement,{width:t,height:e}),this.trigger(A.Types.resize,t,e)}render(){return Bi.group.render.call(this.scene,this.domElement),this}};l(zi,"Utils",Bi);var Vi={create:function(t,e,i){const r=t.createShader(t[i]);t.shaderSource(r,e),t.compileShader(r);const n=t.getShaderParameter(r,t.COMPILE_STATUS);if(!n){const e=t.getShaderInfoLog(r);throw t.deleteShader(r),new Mt("unable to compile shader "+r+": "+e)}return r},types:{vertex:"VERTEX_SHADER",fragment:"FRAGMENT_SHADER"},path:{vertex:"\n      precision mediump float;\n      attribute vec2 a_position;\n\n      uniform mat3 u_matrix;\n      uniform vec2 u_resolution;\n      uniform vec4 u_rect;\n\n      varying vec2 v_textureCoords;\n\n      void main() {\n        vec2 rectCoords = (a_position * (u_rect.zw - u_rect.xy)) + u_rect.xy;\n        vec2 projected = (u_matrix * vec3(rectCoords, 1.0)).xy;\n        vec2 normal = projected / u_resolution;\n        vec2 clipspace = (normal * 2.0) - 1.0;\n\n        gl_Position = vec4(clipspace * vec2(1.0, -1.0), 0.0, 1.0);\n        v_textureCoords = a_position;\n      }\n    ",fragment:"\n      precision mediump float;\n\n      uniform sampler2D u_image;\n      varying vec2 v_textureCoords;\n\n      void main() {\n        vec4 texel = texture2D(u_image, v_textureCoords);\n        if (texel.a == 0.0) {\n          discard;\n        }\n        gl_FragColor = texel;\n      }\n    "},points:{vertex:"\n      precision mediump float;\n      attribute vec2 a_position;\n\n      uniform float u_size;\n      uniform mat3 u_matrix;\n      uniform vec2 u_resolution;\n\n      varying vec2 v_textureCoords;\n\n      void main() {\n        vec2 projected = (u_matrix * vec3(a_position, 1.0)).xy;\n        vec2 normal = projected / u_resolution;\n        vec2 clipspace = (normal * 2.0) - 1.0;\n\n        gl_PointSize = u_size;\n        gl_Position = vec4(clipspace * vec2(1.0, -1.0), 0.0, 1.0);\n        v_textureCoords = a_position;\n      }\n    ",fragment:"\n      precision mediump float;\n\n      uniform sampler2D u_image;\n\n      void main() {\n        vec4 texel = texture2D(u_image, gl_PointCoord);\n        if (texel.a == 0.0) {\n          discard;\n        }\n        gl_FragColor = texel;\n      }\n    "}},Ui=et.Multiply,Di=[1,0,0,0,1,0,0,0,1],$i=new v(9),Yi=kt.Utils,Xi=new v([0,0,1,0,0,1,0,1,1,0,1,1]),Hi={precision:.9,isHidden:/(undefined|none|transparent)/i,canvas:r.document?r.document.createElement("canvas"):{getContext:function(){}},alignments:{left:"start",middle:"center",right:"end"},matrix:new et,group:{removeChild:function(t,e){if(t.children)for(let i=0;i<t.children.length;i++)Hi.group.removeChild(t.children[i],e);t._renderer.texture&&(e.deleteTexture(t._renderer.texture),delete t._renderer.texture),t._renderer.positionBuffer&&(e.deleteBuffer(t._renderer.positionBuffer),delete t._renderer.positionBuffer)},render:function(t,e){if(!this._visible)return;this._update();const i=this.parent,r=i._matrix&&i._matrix.manual||i._flagMatrix,n=this._matrix.manual||this._flagMatrix;let s;if((r||n)&&(this._renderer.matrix||(this._renderer.matrix=new v(9)),this._matrix.toTransformArray(!0,$i),Ui($i,i._renderer.matrix,this._renderer.matrix),this._renderer.scale instanceof R||(this._renderer.scale=new R),this._scale instanceof R?(this._renderer.scale.x=this._scale.x,this._renderer.scale.y=this._scale.y):(this._renderer.scale.x=this._scale,this._renderer.scale.y=this._scale),/renderer/i.test(i._renderer.type)||(this._renderer.scale.x*=i._renderer.scale.x,this._renderer.scale.y*=i._renderer.scale.y),r&&(this._flagMatrix=!0)),this._mask&&(t.clear(t.STENCIL_BUFFER_BIT),t.enable(t.STENCIL_TEST),t.stencilFunc(t.ALWAYS,1,0),t.stencilOp(t.KEEP,t.KEEP,t.REPLACE),t.colorMask(!1,!1,!1,!1),Hi[this._mask._renderer.type].render.call(this._mask,t,e,this),t.stencilFunc(t.EQUAL,1,255),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.colorMask(!0,!0,!0,!0)),this._flagOpacity=i._flagOpacity||this._flagOpacity,this._renderer.opacity=this._opacity*(i&&i._renderer?i._renderer.opacity:1),this._flagSubtractions)for(s=0;s<this.subtractions.length;s++)Hi.group.removeChild(this.subtractions[s],t);for(s=0;s<this.children.length;s++){const i=this.children[s];Hi[i._renderer.type].render.call(i,t,e)}return this._mask&&t.disable(t.STENCIL_TEST),this.flagReset()}},path:{updateCanvas:function(t){let e,i,r,n,s,a,o,l,c,u,f,d,_,p;const g=t._renderer.vertices,m=this.canvas,b=this.ctx,v=t._renderer.scale,x=t._stroke,w=t._linewidth,k=t._fill,A=t._renderer.opacity||t._opacity,S=t._cap,E=t._join,C=t._miter,T=t._closed,M=t.dashes,O=g.length,j=O-1;m.width=Math.max(Math.ceil(t._renderer.rect.width*v.x),1),m.height=Math.max(Math.ceil(t._renderer.rect.height*v.y),1);const F=t._renderer.rect.centroid,P=F.x,L=F.y;let I,N,B,z,V,U,D,$;b.clearRect(0,0,m.width,m.height),k&&("string"===typeof k?b.fillStyle=k:(Hi[k._renderer.type].render.call(k,b,t),b.fillStyle=k._renderer.effect)),x&&("string"===typeof x?b.strokeStyle=x:(Hi[x._renderer.type].render.call(x,b,t),b.strokeStyle=x._renderer.effect),w&&(b.lineWidth=w),C&&(b.miterLimit=C),E&&(b.lineJoin=E),!T&&S&&(b.lineCap=S)),"number"===typeof A&&(b.globalAlpha=A),M&&M.length>0&&(b.lineDashOffset=M.offset||0,b.setLineDash(M)),b.save(),b.scale(v.x,v.y),b.translate(P,L),b.beginPath();for(let Y=0;Y<g.length;Y++){const t=g[Y];switch(d=t.x,_=t.y,t.command){case h.close:b.closePath();break;case h.arc:N=t.rx,B=t.ry,z=t.xAxisRotation,V=t.largeArcFlag,U=t.sweepFlag,e=T?y(Y-1,O):Math.max(Y-1,0),i=g[e],D=i.x,$=i.y,Yi.renderSvgArcCommand(b,D,$,N,B,V,U,z,d,_);break;case h.curve:e=T?y(Y-1,O):Math.max(Y-1,0),i=g[e],l=i.controls&&i.controls.right||R.zero,c=t.controls&&t.controls.left||R.zero,i._relative?(a=l.x+i.x,o=l.y+i.y):(a=l.x,o=l.y),t._relative?(n=c.x+t.x,s=c.y+t.y):(n=c.x,s=c.y),b.bezierCurveTo(a,o,n,s,d,_),Y>=j&&T&&(r=I,u=t.controls&&t.controls.right||R.zero,f=r.controls&&r.controls.left||R.zero,t._relative?(a=u.x+t.x,o=u.y+t.y):(a=u.x,o=u.y),r._relative?(n=f.x+r.x,s=f.y+r.y):(n=f.x,s=f.y),d=r.x,_=r.y,b.bezierCurveTo(a,o,n,s,d,_));break;case h.line:b.lineTo(d,_);break;case h.move:I=t,b.moveTo(d,_);break}}T&&b.closePath(),Hi.isHidden.test(k)||(p=k._renderer&&k._renderer.offset,p&&(b.save(),b.translate(-k._renderer.offset.x,-k._renderer.offset.y),b.scale(k._renderer.scale.x,k._renderer.scale.y)),b.fill(),p&&b.restore()),Hi.isHidden.test(x)||(p=x._renderer&&x._renderer.offset,p&&(b.save(),b.translate(-x._renderer.offset.x,-x._renderer.offset.y),b.scale(x._renderer.scale.x,x._renderer.scale.y),b.lineWidth=w/x._renderer.scale.x),b.stroke(),p&&b.restore()),b.restore()},getBoundingClientRect:function(t,e,i){let r,n,s=1/0,a=-1/0,o=1/0,l=-1/0;t.forEach((function(t){const e=t.x,i=t.y,r=t.controls;let n,h,c,u,f,d;o=Math.min(i,o),s=Math.min(e,s),a=Math.max(e,a),l=Math.max(i,l),t.controls&&(f=r.left,d=r.right,f&&d&&(n=t._relative?f.x+e:f.x,h=t._relative?f.y+i:f.y,c=t._relative?d.x+e:d.x,u=t._relative?d.y+i:d.y,n&&h&&c&&u&&(o=Math.min(h,u,o),s=Math.min(n,c,s),a=Math.max(n,c,a),l=Math.max(h,u,l))))})),"number"===typeof e&&(o-=e,s-=e,a+=e,l+=e),r=a-s,n=l-o,i.top=o,i.left=s,i.right=a,i.bottom=l,i.width=r,i.height=n,i.centroid||(i.centroid={}),i.centroid.x=-s,i.centroid.y=-o},render:function(t,e,i){if(!this._visible||!this._opacity)return this;this._update();const r=i||this.parent,n=e[this._renderer.type],s=r._matrix.manual||r._flagMatrix,a=this._matrix.manual||this._flagMatrix,o=this._renderer.parent!==r,l=this._flagVertices||this._flagFill||this._fill instanceof Ht&&(this._fill._flagSpread||this._fill._flagStops||this._fill._flagEndPoints)||this._fill instanceof Kt&&(this._fill._flagSpread||this._fill._flagStops||this._fill._flagRadius||this._fill._flagCenter||this._fill._flagFocal)||this._fill instanceof re&&(this._fill._flagLoaded&&this._fill.loaded||this._fill._flagImage||this._fill._flagVideo||this._fill._flagRepeat||this._fill._flagOffset||this._fill._flagScale)||this._stroke instanceof Ht&&(this._stroke._flagSpread||this._stroke._flagStops||this._stroke._flagEndPoints)||this._stroke instanceof Kt&&(this._stroke._flagSpread||this._stroke._flagStops||this._stroke._flagRadius||this._stroke._flagCenter||this._stroke._flagFocal)||this._stroke instanceof re&&(this._stroke._flagLoaded&&this._stroke.loaded||this._stroke._flagImage||this._stroke._flagVideo||this._stroke._flagRepeat||this._stroke._flagOffset||this._fill._flagScale)||this._flagStroke||this._flagLinewidth||this._flagOpacity||r._flagOpacity||this._flagVisible||this._flagCap||this._flagJoin||this._flagMiter||this._flagScale||this.dashes&&this.dashes.length>0||!this._renderer.texture;if((s||a||o)&&(this._renderer.matrix||(this._renderer.matrix=new v(9)),this._matrix.toTransformArray(!0,$i),Ui($i,r._renderer.matrix,this._renderer.matrix),this._renderer.scale instanceof R||(this._renderer.scale=new R),this._scale instanceof R?(this._renderer.scale.x=this._scale.x*r._renderer.scale.x,this._renderer.scale.y=this._scale.y*r._renderer.scale.y):(this._renderer.scale.x=this._scale*r._renderer.scale.x,this._renderer.scale.y=this._scale*r._renderer.scale.y),o&&(this._renderer.parent=r)),this._mask&&(t.clear(t.STENCIL_BUFFER_BIT),t.enable(t.STENCIL_TEST),t.stencilFunc(t.ALWAYS,1,0),t.stencilOp(t.KEEP,t.KEEP,t.REPLACE),t.colorMask(!1,!1,!1,!1),Hi[this._mask._renderer.type].render.call(this._mask,t,e,this),t.stencilFunc(t.EQUAL,1,255),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.colorMask(!0,!0,!0,!0)),l?(this._renderer.rect||(this._renderer.rect={}),this._renderer.opacity=this._opacity*r._renderer.opacity,Hi.path.getBoundingClientRect(this._renderer.vertices,this._linewidth,this._renderer.rect),Hi.updateTexture.call(Hi,t,this)):(this._fill&&this._fill._update&&this._fill._update(),this._stroke&&this._stroke._update&&this._stroke._update()),this._clip&&!i||!this._renderer.texture)return this;e.current!==n&&(t.useProgram(n),t.bindBuffer(t.ARRAY_BUFFER,e.buffers.position),t.vertexAttribPointer(n.position,2,t.FLOAT,!1,0,0),t.enableVertexAttribArray(n.position),t.bufferData(t.ARRAY_BUFFER,Xi,t.STATIC_DRAW),e.resolution.flagged||t.uniform2f(t.getUniformLocation(n,"u_resolution"),e.resolution.width,e.resolution.height),e.current=n),e.resolution.flagged&&t.uniform2f(t.getUniformLocation(n,"u_resolution"),e.resolution.width,e.resolution.height),t.bindTexture(t.TEXTURE_2D,this._renderer.texture);const h=this._renderer.rect;return t.uniformMatrix3fv(n.matrix,!1,this._renderer.matrix),t.uniform4f(n.rect,h.left,h.top,h.right,h.bottom),t.drawArrays(t.TRIANGLES,0,6),this._mask&&t.disable(t.STENCIL_TEST),this.flagReset()}},points:{updateCanvas:function(t){let e;const i=this.canvas,r=this.ctx,n=t._stroke,s=t._linewidth,a=t._fill,o=t._renderer.opacity||t._opacity,l=t.dashes,h=t._size;let c=h;Hi.isHidden.test(n)||(c+=s),i.width=b(c),i.height=i.width;const f=c/i.width,d=i.width/2,_=i.height/2;r.clearRect(0,0,i.width,i.height),a&&("string"===typeof a?r.fillStyle=a:(Hi[a._renderer.type].render.call(a,r,t),r.fillStyle=a._renderer.effect)),n&&("string"===typeof n?r.strokeStyle=n:(Hi[n._renderer.type].render.call(n,r,t),r.strokeStyle=n._renderer.effect),s&&(r.lineWidth=s/f)),"number"===typeof o&&(r.globalAlpha=o),l&&l.length>0&&(r.lineDashOffset=l.offset||0,r.setLineDash(l)),r.save(),r.translate(d,_),r.scale(Hi.precision,Hi.precision),r.beginPath(),r.arc(0,0,h/f*.5,0,u),r.restore(),closed&&r.closePath(),Hi.isHidden.test(a)||(e=a._renderer&&a._renderer.offset,e&&(r.save(),r.translate(-a._renderer.offset.x,-a._renderer.offset.y),r.scale(a._renderer.scale.x,a._renderer.scale.y)),r.fill(),e&&r.restore()),Hi.isHidden.test(n)||(e=n._renderer&&n._renderer.offset,e&&(r.save(),r.translate(-n._renderer.offset.x,-n._renderer.offset.y),r.scale(n._renderer.scale.x,n._renderer.scale.y),r.lineWidth=s/n._renderer.scale.x),r.stroke(),e&&r.restore())},render:function(t,e,i){if(!this._visible||!this._opacity)return this;this._update();let r=this._size;const n=i||this.parent,s=e[this._renderer.type],a=this._sizeAttenuation,o=this._stroke,l=this._linewidth,h=n._matrix.manual||n._flagMatrix,c=this._matrix.manual||this._flagMatrix,u=this._renderer.parent!==n,f=this._renderer.vertices,d=this._renderer.collection.length,_=this._flagVertices,p=this._flagFill||this._fill instanceof Ht&&(this._fill._flagSpread||this._fill._flagStops||this._fill._flagEndPoints)||this._fill instanceof Kt&&(this._fill._flagSpread||this._fill._flagStops||this._fill._flagRadius||this._fill._flagCenter||this._fill._flagFocal)||this._fill instanceof re&&(this._fill._flagLoaded&&this._fill.loaded||this._fill._flagImage||this._fill._flagVideo||this._fill._flagRepeat||this._fill._flagOffset||this._fill._flagScale)||this._stroke instanceof Ht&&(this._stroke._flagSpread||this._stroke._flagStops||this._stroke._flagEndPoints)||this._stroke instanceof Kt&&(this._stroke._flagSpread||this._stroke._flagStops||this._stroke._flagRadius||this._stroke._flagCenter||this._stroke._flagFocal)||this._stroke instanceof re&&(this._stroke._flagLoaded&&this._stroke.loaded||this._stroke._flagImage||this._stroke._flagVideo||this._stroke._flagRepeat||this._stroke._flagOffset||this._fill._flagScale)||this._flagStroke||this._flagLinewidth||this._flagOpacity||n._flagOpacity||this._flagVisible||this._flagScale||this.dashes&&this.dashes.length>0||!this._renderer.texture;if((h||c||u)&&(this._renderer.matrix||(this._renderer.matrix=new v(9)),this._matrix.toTransformArray(!0,$i),Ui($i,n._renderer.matrix,this._renderer.matrix),this._renderer.scale instanceof R||(this._renderer.scale=new R),this._scale instanceof R?(this._renderer.scale.x=this._scale.x*n._renderer.scale.x,this._renderer.scale.y=this._scale.y*n._renderer.scale.y):(this._renderer.scale.x=this._scale*n._renderer.scale.x,this._renderer.scale.y=this._scale*n._renderer.scale.y),u&&(this._renderer.parent=n)),_){const e=this._renderer.positionBuffer;e&&t.deleteBuffer(e),this._renderer.positionBuffer=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this._renderer.positionBuffer),t.vertexAttribPointer(s.position,2,t.FLOAT,!1,0,0),t.enableVertexAttribArray(s.position),t.bufferData(t.ARRAY_BUFFER,f,t.STATIC_DRAW)}return p?(this._renderer.opacity=this._opacity*n._renderer.opacity,Hi.updateTexture.call(Hi,t,this)):(this._fill&&this._fill._update&&this._fill._update(),this._stroke&&this._stroke._update&&this._stroke._update()),this._clip&&!i||!this._renderer.texture?this:(Hi.isHidden.test(o)||(r+=l),r/=Hi.precision,a&&(r*=Math.max(this._renderer.scale.x,this._renderer.scale.y)),e.current!==s&&(t.useProgram(s),e.resolution.flagged||t.uniform2f(t.getUniformLocation(s,"u_resolution"),e.resolution.width,e.resolution.height),e.current=s),e.resolution.flagged&&t.uniform2f(t.getUniformLocation(s,"u_resolution"),e.resolution.width,e.resolution.height),t.bindTexture(t.TEXTURE_2D,this._renderer.texture),t.uniformMatrix3fv(s.matrix,!1,this._renderer.matrix),t.uniform1f(s.size,r*e.resolution.ratio),t.drawArrays(t.POINTS,0,d),this.flagReset())}},text:{updateCanvas:function(t){const e=this.canvas,i=this.ctx,r=t._renderer.scale,n=t._stroke,s=t._linewidth*r,a=t._fill,o=t._renderer.opacity||t._opacity,l=t.dashes,h=t._decoration;e.width=Math.max(Math.ceil(t._renderer.rect.width*r.x),1),e.height=Math.max(Math.ceil(t._renderer.rect.height*r.y),1);const c=t._renderer.rect.centroid,u=c.x,f=c.y;let d,_,p,g,m,b,y,v,x,w,k;const A=a._renderer&&a._renderer.offset&&n._renderer&&n._renderer.offset;if(i.clearRect(0,0,e.width,e.height),A||(i.font=[t._style,t._weight,t._size+"px/"+t._leading+"px",t._family].join(" ")),i.textAlign="center",i.textBaseline="middle",a&&("string"===typeof a?i.fillStyle=a:(Hi[a._renderer.type].render.call(a,i,t),i.fillStyle=a._renderer.effect)),n&&("string"===typeof n?i.strokeStyle=n:(Hi[n._renderer.type].render.call(n,i,t),i.strokeStyle=n._renderer.effect),s&&(i.lineWidth=s)),"number"===typeof o&&(i.globalAlpha=o),l&&l.length>0&&(i.lineDashOffset=l.offset||0,i.setLineDash(l)),i.save(),i.scale(r.x,r.y),i.translate(u,f),Hi.isHidden.test(a)||(a._renderer&&a._renderer.offset?(b=a._renderer.scale.x,y=a._renderer.scale.y,i.save(),i.translate(-a._renderer.offset.x,-a._renderer.offset.y),i.scale(b,y),d=t._size/a._renderer.scale.y,_=t._leading/a._renderer.scale.y,i.font=[t._style,t._weight,d+"px/",_+"px",t._family].join(" "),p=a._renderer.offset.x/a._renderer.scale.x,g=a._renderer.offset.y/a._renderer.scale.y,i.fillText(t.value,p,g),i.restore()):i.fillText(t.value,0,0)),Hi.isHidden.test(n)||(n._renderer&&n._renderer.offset?(b=n._renderer.scale.x,y=n._renderer.scale.y,i.save(),i.translate(-n._renderer.offset.x,-n._renderer.offset.y),i.scale(b,y),d=t._size/n._renderer.scale.y,_=t._leading/n._renderer.scale.y,i.font=[t._style,t._weight,d+"px/",_+"px",t._family].join(" "),p=n._renderer.offset.x/n._renderer.scale.x,g=n._renderer.offset.y/n._renderer.scale.y,m=s/n._renderer.scale.x,i.lineWidth=m,i.strokeText(t.value,p,g),i.restore()):i.strokeText(t.value,0,0)),/(underline|strikethrough)/i.test(h)){const e=i.measureText(t.value);switch(h){case"underline":x=e.actualBoundingBoxAscent,k=e.actualBoundingBoxAscent;break;case"strikethrough":x=0,k=0;break}v=-e.width/2,w=e.width/2,i.lineWidth=Math.max(Math.floor(t._size/15),1),i.strokeStyle=i.fillStyle,i.beginPath(),i.moveTo(v,x),i.lineTo(w,k),i.stroke()}i.restore()},getBoundingClientRect:function(t,e){const i=Hi.ctx;i.font=[t._style,t._weight,t._size+"px/"+t._leading+"px",t._family].join(" "),i.textAlign="center",i.textBaseline=t._baseline;let r=1.25*i.measureText(t._value).width,n=1.25*Math.max(t._size,t._leading);this._linewidth&&!Hi.isHidden.test(this._stroke)&&(r+=2*this._linewidth,n+=2*this._linewidth);const s=r/2,a=n/2;switch(Hi.alignments[t._alignment]||t._alignment){case Hi.alignments.left:e.left=0,e.right=r;break;case Hi.alignments.right:e.left=-r,e.right=0;break;default:e.left=-s,e.right=s}switch(t._baseline){case"bottom":e.top=-n,e.bottom=0;break;case"top":e.top=0,e.bottom=n;break;default:e.top=-a,e.bottom=a}e.width=r,e.height=n,e.centroid||(e.centroid={}),e.centroid.x=s,e.centroid.y=a},render:function(t,e,i){if(!this._visible||!this._opacity)return this;this._update();const r=i||this.parent,n=e[this._renderer.type],s=r._matrix.manual||r._flagMatrix,a=this._matrix.manual||this._flagMatrix,o=this._renderer.parent!==r,l=this._flagVertices||this._flagFill||this._fill instanceof Ht&&(this._fill._flagSpread||this._fill._flagStops||this._fill._flagEndPoints)||this._fill instanceof Kt&&(this._fill._flagSpread||this._fill._flagStops||this._fill._flagRadius||this._fill._flagCenter||this._fill._flagFocal)||this._fill instanceof re&&(this._fill._flagLoaded&&this._fill.loaded||this._fill._flagImage||this._fill._flagVideo||this._fill._flagRepeat||this._fill._flagOffset||this._fill._flagScale)||this._stroke instanceof Ht&&(this._stroke._flagSpread||this._stroke._flagStops||this._stroke._flagEndPoints)||this._stroke instanceof Kt&&(this._stroke._flagSpread||this._stroke._flagStops||this._stroke._flagRadius||this._stroke._flagCenter||this._stroke._flagFocal)||this._stroke instanceof re&&(this._stroke._flagLoaded&&this._stroke.loaded||this._stroke._flagImage||this._stroke._flagVideo||this._stroke._flagRepeat||this._stroke._flagOffset||this._fill._flagScale)||this._flagStroke||this._flagLinewidth||this._flagOpacity||r._flagOpacity||this._flagVisible||this._flagScale||this._flagValue||this._flagFamily||this._flagSize||this._flagLeading||this._flagAlignment||this._flagBaseline||this._flagStyle||this._flagWeight||this._flagDecoration||this.dashes&&this.dashes.length>0||!this._renderer.texture;if((s||a||o)&&(this._renderer.matrix||(this._renderer.matrix=new v(9)),this._matrix.toTransformArray(!0,$i),Ui($i,r._renderer.matrix,this._renderer.matrix),this._renderer.scale instanceof R||(this._renderer.scale=new R),this._scale instanceof R?(this._renderer.scale.x=this._scale.x*r._renderer.scale.x,this._renderer.scale.y=this._scale.y*r._renderer.scale.y):(this._renderer.scale.x=this._scale*r._renderer.scale.x,this._renderer.scale.y=this._scale*r._renderer.scale.y),o&&(this._renderer.parent=r)),this._mask&&(t.clear(t.STENCIL_BUFFER_BIT),t.enable(t.STENCIL_TEST),t.stencilFunc(t.ALWAYS,1,0),t.stencilOp(t.KEEP,t.KEEP,t.REPLACE),t.colorMask(!1,!1,!1,!1),Hi[this._mask._renderer.type].render.call(this._mask,t,e,this),t.stencilFunc(t.EQUAL,1,255),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.colorMask(!0,!0,!0,!0)),l?(this._renderer.rect||(this._renderer.rect={}),this._renderer.opacity=this._opacity*r._renderer.opacity,Hi.text.getBoundingClientRect(this,this._renderer.rect),Hi.updateTexture.call(Hi,t,this)):(this._fill&&this._fill._update&&this._fill._update(),this._stroke&&this._stroke._update&&this._stroke._update()),this._clip&&!i||!this._renderer.texture)return this;e.current!==n&&(t.useProgram(n),t.bindBuffer(t.ARRAY_BUFFER,e.buffers.position),t.vertexAttribPointer(n.position,2,t.FLOAT,!1,0,0),t.enableVertexAttribArray(n.position),t.bufferData(t.ARRAY_BUFFER,Xi,t.STATIC_DRAW),e.resolution.flagged||t.uniform2f(t.getUniformLocation(n,"u_resolution"),e.resolution.width,e.resolution.height),e.current=n),e.resolution.flagged&&t.uniform2f(t.getUniformLocation(n,"u_resolution"),e.resolution.width,e.resolution.height),t.bindTexture(t.TEXTURE_2D,this._renderer.texture);const h=this._renderer.rect;return t.uniformMatrix3fv(n.matrix,!1,this._renderer.matrix),t.uniform4f(n.rect,h.left,h.top,h.right,h.bottom),t.drawArrays(t.TRIANGLES,0,6),this._mask&&t.disable(t.STENCIL_TEST),this.flagReset()}},"linear-gradient":{render:function(t,e){if(t.canvas.getContext("2d")&&e){if(this._update(),!this._renderer.effect||this._flagEndPoints||this._flagStops||this._flagUnits){let i,r=this.left._x,n=this.left._y,s=this.right._x,a=this.right._y;/objectBoundingBox/i.test(this._units)&&(i=e.getBoundingClientRect(!0),r=(r-.5)*i.width,n=(n-.5)*i.height,s=(s-.5)*i.width,a=(a-.5)*i.height),this._renderer.effect=t.createLinearGradient(r,n,s,a);for(let t=0;t<this.stops.length;t++){const e=this.stops[t];this._renderer.effect.addColorStop(e._offset,e._color)}}return this.flagReset()}}},"radial-gradient":{render:function(t,e){if(t.canvas.getContext("2d")&&e){if(this._update(),!this._renderer.effect||this._flagCenter||this._flagFocal||this._flagRadius||this._flagStops||this._flagUnits){let i,r=this.center._x,n=this.center._y,s=this.focal._x,a=this.focal._y,o=this._radius;/objectBoundingBox/i.test(this._units)&&(i=e.getBoundingClientRect(!0),r=r*i.width*.5,n=n*i.height*.5,s=s*i.width*.5,a=a*i.height*.5,o*=.5*Math.min(i.width,i.height)),this._renderer.effect=t.createRadialGradient(r,n,0,s,a,o);for(let t=0;t<this.stops.length;t++){const e=this.stops[t];this._renderer.effect.addColorStop(e._offset,e._color)}}return this.flagReset()}}},texture:{render:function(t,e){if(!t.canvas.getContext("2d"))return;this._update();const i=this.image;if((this._flagLoaded||this._flagImage||this._flagVideo||this._flagRepeat)&&this.loaded)this._renderer.effect=t.createPattern(i,this._repeat);else if(!this._renderer.effect)return this.flagReset();return(this._flagOffset||this._flagLoaded||this._flagScale)&&(this._renderer.offset instanceof R||(this._renderer.offset=new R),this._renderer.offset.x=-this._offset.x,this._renderer.offset.y=-this._offset.y,i&&(this._renderer.offset.x+=i.width/2,this._renderer.offset.y+=i.height/2,this._scale instanceof R?(this._renderer.offset.x*=this._scale.x,this._renderer.offset.y*=this._scale.y):(this._renderer.offset.x*=this._scale,this._renderer.offset.y*=this._scale))),(this._flagScale||this._flagLoaded)&&(this._renderer.scale instanceof R||(this._renderer.scale=new R),this._scale instanceof R?this._renderer.scale.copy(this._scale):this._renderer.scale.set(this._scale,this._scale)),this.flagReset()}},updateTexture:function(t,e){if(this[e._renderer.type].updateCanvas.call(Hi,e),this.canvas.width<=0||this.canvas.height<=0)return e._renderer.texture&&t.deleteTexture(e._renderer.texture),void delete e._renderer.texture;e._renderer.texture||(e._renderer.texture=t.createTexture()),t.bindTexture(t.TEXTURE_2D,e._renderer.texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,this.canvas)},program:{create:function(t,e){let i,r,n;if(i=t.createProgram(),W.each(e,(function(e){t.attachShader(i,e)})),t.linkProgram(i),r=t.getProgramParameter(i,t.LINK_STATUS),!r)throw n=t.getProgramInfoLog(i),t.deleteProgram(i),new Mt("unable to link program: "+n);return i}},TextureRegistry:new Ot};Hi.ctx=Hi.canvas.getContext("2d");var Wi=class extends A{constructor(t){let e,i,r,n;if(super(),this.domElement=t.domElement||document.createElement("canvas"),"undefined"!==typeof t.offscreenElement&&(Hi.canvas=t.offscreenElement,Hi.ctx=Hi.canvas.getContext("2d")),this.scene=new ct,this.scene.parent=this,this._renderer={type:"renderer",matrix:new v(Di),scale:1,opacity:1},this._flagMatrix=!0,t=W.defaults(t||{},{antialias:!1,alpha:!0,premultipliedAlpha:!0,stencil:!0,preserveDrawingBuffer:!0,overdraw:!1}),this.overdraw=t.overdraw,e=this.ctx=this.domElement.getContext("webgl",t)||this.domElement.getContext("experimental-webgl",t),!this.ctx)throw new Mt("unable to create a webgl context. Try using another renderer.");r=Vi.create(e,Vi.path.vertex,Vi.types.vertex),n=Vi.create(e,Vi.path.fragment,Vi.types.fragment),this.programs={current:null,buffers:{position:e.createBuffer()},resolution:{width:0,height:0,ratio:1,flagged:!1}},i=this.programs.path=Hi.program.create(e,[r,n]),this.programs.text=this.programs.path,i.position=e.getAttribLocation(i,"a_position"),i.matrix=e.getUniformLocation(i,"u_matrix"),i.rect=e.getUniformLocation(i,"u_rect");const s=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,s),e.vertexAttribPointer(i.position,2,e.FLOAT,!1,0,0),e.enableVertexAttribArray(i.position),e.bufferData(e.ARRAY_BUFFER,Xi,e.STATIC_DRAW),r=Vi.create(e,Vi.points.vertex,Vi.types.vertex),n=Vi.create(e,Vi.points.fragment,Vi.types.fragment),i=this.programs.points=Hi.program.create(e,[r,n]),i.position=e.getAttribLocation(i,"a_position"),i.matrix=e.getUniformLocation(i,"u_matrix"),i.size=e.getUniformLocation(i,"u_size"),e.enable(e.BLEND),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),e.blendEquation(e.FUNC_ADD),e.blendFunc(e.ONE,e.ONE_MINUS_SRC_ALPHA)}setSize(t,e,i){let r,n;const s=this.ctx;return this.width=t,this.height=e,this.ratio="undefined"===typeof i?Y(s):i,this.domElement.width=t*this.ratio,this.domElement.height=e*this.ratio,W.isObject(this.domElement.style)&&W.extend(this.domElement.style,{width:t+"px",height:e+"px"}),this._renderer.matrix[0]=this._renderer.matrix[4]=this._renderer.scale=this.ratio,this._flagMatrix=!0,r=t*this.ratio,n=e*this.ratio,s.viewport(0,0,r,n),this.programs.resolution.width=r,this.programs.resolution.height=n,this.programs.resolution.ratio=this.ratio,this.programs.resolution.flagged=!0,this.trigger(A.Types.resize,t,e,i)}render(){const t=this.ctx;return this.overdraw||t.clear(t.COLOR_BUFFER_BIT),Hi.group.render.call(this.scene,t,this.programs),this._flagMatrix=!1,this.programs.resolution.flagged=!0,this}};l(Wi,"Utils",Hi);var Gi=W.extend({Error:Mt,getRatio:Y,read:ci,xhr:ui},W,Rt,k,c),qi=class{constructor(t){l(this,"_events",new A),l(this,"type",""),l(this,"renderer",null),l(this,"scene",null),l(this,"width",0),l(this,"height",0),l(this,"frameCount",0),l(this,"timeDelta",0),l(this,"playing",!1);const e=W.defaults(t||{},{fullscreen:!1,fitted:!1,width:640,height:480,type:qi.Types.svg,autostart:!1});if(W.each(e,(function(t,e){/fullscreen/i.test(e)||/autostart/i.test(e)||(this[e]=t)}),this),W.isElement(e.domElement)){const t=e.domElement.tagName.toLowerCase();/^(CanvasRenderer-canvas|WebGLRenderer-canvas|SVGRenderer-svg)$/.test(this.type+"-"+t)||(this.type=qi.Types[t])}this.renderer=new qi[this.type](this),this.setPlaying(e.autostart),this.frameCount=0,e.fullscreen?(this.fit=Ji.bind(this),this.fit.domElement=window,this.fit.attached=!0,W.extend(document.body.style,{overflow:"hidden",margin:0,padding:0,top:0,left:0,right:0,bottom:0,position:"fixed"}),W.extend(this.renderer.domElement.style,{display:"block",top:0,left:0,right:0,bottom:0,position:"fixed"}),Ct.bind(this.fit.domElement,"resize",this.fit),this.fit()):e.fitted?(this.fit=Qi.bind(this),W.extend(this.renderer.domElement.style,{display:"block"})):W.isElement(e.domElement)||(this.renderer.setSize(e.width,e.height,this.ratio),this.width=e.width,this.height=e.height),this.renderer.bind(A.Types.resize,Zi.bind(this)),this.scene=this.renderer.scene,qi.Instances.push(this),e.autostart&&tr.init()}get _bound(){return this._events._bound}set _bound(t){this._events._bound=t}addEventListener(){return this._events.addEventListener.apply(this,arguments)}on(){return this._events.addEventListener.apply(this,arguments)}bind(){return this._events.addEventListener.apply(this,arguments)}removeEventListener(){return this._events.removeEventListener.apply(this,arguments)}off(){return this._events.removeEventListener.apply(this,arguments)}unbind(){return this._events.removeEventListener.apply(this,arguments)}dispatchEvent(){return this._events.dispatchEvent.apply(this,arguments)}trigger(){return this._events.dispatchEvent.apply(this,arguments)}listen(){return this._events.listen.apply(this,arguments)}ignore(){return this._events.ignore.apply(this,arguments)}appendTo(t){return t.appendChild(this.renderer.domElement),this.fit&&(this.fit.domElement!==window&&(this.fit.domElement=t,this.fit.attached=!1),this.update()),this}play(){return this.playing=!0,tr.init(),this.trigger(A.Types.play)}pause(){return this.playing=!1,this.trigger(A.Types.pause)}setPlaying(t){this.playing=t}release(t){let e,i,r;if(!W.isObject(t))return this.release(this.scene);if("function"===typeof t.unbind&&t.unbind(),t.vertices)for("function"===typeof t.vertices.unbind&&t.vertices.unbind(),e=0;e<t.vertices.length;e++)i=t.vertices[e],"function"===typeof i.unbind&&i.unbind(),i.controls&&(i.controls.left&&"function"===typeof i.controls.left.unbind&&i.controls.left.unbind(),i.controls.right&&"function"===typeof i.controls.right.unbind&&i.controls.right.unbind());if(t.children){for(e=0;e<t.children.length;e++)r=t.children[e],this.release(r);"function"===typeof t.children.unbind&&t.children.unbind()}return t}update(){const t=!!this._lastFrame,e=W.performance.now();t&&(this.timeDelta=parseFloat((e-this._lastFrame).toFixed(3))),this._lastFrame=e,this.fit&&this.fit.domElement&&!this.fit.attached&&(Ct.bind(this.fit.domElement,"resize",this.fit),this.fit.attached=!0,this.fit());const i=this.width,r=this.height,n=this.renderer;return i===n.width&&r===n.height||n.setSize(i,r,this.ratio),this.trigger(A.Types.update,this.frameCount,this.timeDelta),this.render()}render(){return this.renderer.render(),this.trigger(A.Types.render,this.frameCount++)}add(t){let e=t;return e instanceof Array||(e=Array.prototype.slice.call(arguments)),this.scene.add(e),this}remove(t){let e=t;return e instanceof Array||(e=Array.prototype.slice.call(arguments)),this.scene.remove(e),this}clear(){return this.scene.remove(this.scene.children),this}makeLine(t,e,i,r){const n=new Ie(t,e,i,r);return this.scene.add(n),n}makeArrow(t,e,i,r,n){const s="number"===typeof n?n:10,a=Math.atan2(r-e,i-t),o=[new C(t,e,void 0,void 0,void 0,void 0,h.move),new C(i,r,void 0,void 0,void 0,void 0,h.line),new C(i-s*Math.cos(a-Math.PI/4),r-s*Math.sin(a-Math.PI/4),void 0,void 0,void 0,void 0,h.line),new C(i,r,void 0,void 0,void 0,void 0,h.move),new C(i-s*Math.cos(a+Math.PI/4),r-s*Math.sin(a+Math.PI/4),void 0,void 0,void 0,void 0,h.line)],l=new de(o,!1,!1,!0);return l.noFill(),l.cap="round",l.join="round",this.scene.add(l),l}makeRectangle(t,e,i,r){const n=new xe(t,e,i,r);return this.scene.add(n),n}makeRoundedRectangle(t,e,i,r,n){const s=new ze(t,e,i,r,n);return this.scene.add(s),s}makeCircle(t,e,i,r){const n=new Te(t,e,i,r);return this.scene.add(n),n}makeEllipse(t,e,i,r,n){const s=new Pe(t,e,i,r,n);return this.scene.add(s),s}makeStar(t,e,i,r,n){const s=new Li(t,e,i,r,n);return this.scene.add(s),s}makeCurve(t){const e=arguments.length;let i=t;if(!Array.isArray(t)){i=[];for(let t=0;t<e;t+=2){const e=arguments[t];if("number"!==typeof e)break;const r=arguments[t+1];i.push(new C(e,r))}}const r=arguments[e-1],n=new de(i,!("boolean"===typeof r?r:void 0),!0),s=n.getBoundingClientRect();return n.center().translation.set(s.left+s.width/2,s.top+s.height/2),this.scene.add(n),n}makePolygon(t,e,i,r){const n=new Mi(t,e,i,r);return this.scene.add(n),n}makeArcSegment(t,e,i,r,n,s,a){const o=new vi(t,e,i,r,n,s,a);return this.scene.add(o),o}makePoints(t){const e=arguments.length;let i=t;if(!Array.isArray(t)){i=[];for(let t=0;t<e;t+=2){const e=arguments[t];if("number"!==typeof e)break;const r=arguments[t+1];i.push(new R(e,r))}}const r=new Si(i);return this.scene.add(r),r}makePath(t){const e=arguments.length;let i=t;if(!Array.isArray(t)){i=[];for(let t=0;t<e;t+=2){const e=arguments[t];if("number"!==typeof e)break;const r=arguments[t+1];i.push(new C(e,r))}}const r=arguments[e-1],n=new de(i,!("boolean"===typeof r?r:void 0)),s=n.getBoundingClientRect();return"number"===typeof s.top&&"number"===typeof s.left&&"number"===typeof s.right&&"number"===typeof s.bottom&&n.center().translation.set(s.left+s.width/2,s.top+s.height/2),this.scene.add(n),n}makeText(t,e,i,r){const n=new Xe(t,e,i,r);return this.add(n),n}makeLinearGradient(t,e,i,r){const n=Array.prototype.slice.call(arguments,4),s=new Ht(t,e,i,r,n);return this.add(s),s}makeRadialGradient(t,e,i){const r=Array.prototype.slice.call(arguments,3),n=new Kt(t,e,i,r);return this.add(n),n}makeSprite(t,e,i,r,n,s,a){const o=new Ae(t,e,i,r,n,s);return a&&o.play(),this.add(o),o}makeImageSequence(t,e,i,r,n){const s=new di(t,e,i,r);return n&&s.play(),this.add(s),s}makeTexture(t,e){const i=new re(t,e);return i}makeGroup(t){let e=t;e instanceof Array||(e=Array.prototype.slice.call(arguments));const i=new ct;return this.scene.add(i),i.add(e),i}interpret(t,e,i){const r=t.tagName.toLowerCase();if(i="undefined"===typeof i||i,!(r in ci))return null;const n=ci[r].call(this,t);return i?this.add(e&&n instanceof ct?n.children:n):n.parent&&n.remove(),n}load(t,e){const i=new ct;let r,n,s;const a=function(t){for(Ct.temp.innerHTML=t,n=0;n<Ct.temp.children.length;n++)r=Ct.temp.children[n],s=this.interpret(r,!1,!1),null!==s&&i.add(s);if("function"===typeof e){const t=Ct.temp.children.length<=1?Ct.temp.children[0]:Ct.temp.children;e(i,t)}}.bind(this);return/\.svg$/i.test(t)?(ui(t,a),i):(a(t),i)}},Ki=qi;function Ji(){const t=document.body.getBoundingClientRect(),e=this.width=t.width,i=this.height=t.height;this.renderer.setSize(e,i,this.ratio)}function Qi(){const t=this.renderer.domElement.parentElement;if(!t)return void console.warn("Two.js: Attempting to fit to parent, but no parent found.");const e=t.getBoundingClientRect(),i=this.width=e.width,r=this.height=e.height;this.renderer.setSize(i,r,this.ratio)}function Zi(t,e){this.width=t,this.height=e,this.trigger(A.Types.resize,t,e)}l(Ki,"nextFrameID",O.nextFrameID),l(Ki,"Types",O.Types),l(Ki,"Version",O.Version),l(Ki,"PublishDate",O.PublishDate),l(Ki,"Identifier",O.Identifier),l(Ki,"Resolution",O.Resolution),l(Ki,"AutoCalculateImportedMatrices",O.AutoCalculateImportedMatrices),l(Ki,"Instances",O.Instances),l(Ki,"uniqueId",O.uniqueId),l(Ki,"Anchor",C),l(Ki,"Collection",st),l(Ki,"Events",A),l(Ki,"Group",ct),l(Ki,"Matrix",et),l(Ki,"Path",de),l(Ki,"Registry",Ot),l(Ki,"Shape",it),l(Ki,"Text",Xe),l(Ki,"Vector",R),l(Ki,"Gradient",Vt),l(Ki,"ImageSequence",di),l(Ki,"LinearGradient",Ht),l(Ki,"RadialGradient",Kt),l(Ki,"Sprite",Ae),l(Ki,"Stop",Nt),l(Ki,"Texture",re),l(Ki,"ArcSegment",vi),l(Ki,"Circle",Te),l(Ki,"Ellipse",Pe),l(Ki,"Line",Ie),l(Ki,"Points",Si),l(Ki,"Polygon",Mi),l(Ki,"Rectangle",xe),l(Ki,"RoundedRectangle",ze),l(Ki,"Star",Li),l(Ki,"CanvasRenderer",kt),l(Ki,"SVGRenderer",zi),l(Ki,"WebGLRenderer",Wi),l(Ki,"Commands",h),l(Ki,"Utils",Gi);var tr=Ct.getRequestAnimationFrame();function er(){for(let t=0;t<Ki.Instances.length;t++){const e=Ki.Instances[t];e.playing&&e.update()}Ki.nextFrameID=tr(er)}tr.init=function(){er(),tr.init=function(){}}}).call(this,i("c8ba"))},f861:function(t,e,i){var r=i("24fb");e=r(!1),e.push([t.i,".vue-dat-gui .control-item.number .control .slider{-webkit-box-flex:0;-ms-flex:0 0 100px;flex:0 0 100px;width:100px}.output{padding:1em;margin:1em 6em}#draw-shapes,.output{border:2px solid #000;text-align:left}#draw-shapes{margin:1em auto;width:600px}",""]),t.exports=e}});
//# sourceMappingURL=exp-04.min.js.map