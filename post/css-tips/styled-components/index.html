<!doctype html><html lang=en-us>
<head>
<meta charset=utf-8>
<meta name=generator content="Hugo 0.91.2">
<meta http-equiv=x-ua-compatible content="IE=edge">
<meta name=viewport content="width=device-width,initial-scale=1">
<meta name=author content="© Thomas Weustenfeld">
<meta property="og:url" content="https://tw00.dev/post/css-tips/styled-components/">
<script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/tw00.dev"},"articleSection":"post","name":"15 ways to style variants when using CSS-in-JS","headline":"15 ways to style variants when using CSS-in-JS","description":"I recently had an interesting discussion about CSS modules vs. CSS-in-JS and more specifically Emotion. We\u0026rsquo;ve been working on a codebase that uses CSS modules for a while now, and we\u0026rsquo;ve certainly come up with lots of patterns that make it easy to reason about CSS and keep it maintanble at scale. One of the central ideas are variants. For example we would create a base card component of certain color, size, shape and even hove state, but it would also have an optional variant property that would completly change the card\u0026rsquo;s appearance.","inLanguage":"en-US","author":"© Thomas Weustenfeld","creator":"© Thomas Weustenfeld","publisher":"© Thomas Weustenfeld","accountablePerson":"© Thomas Weustenfeld","copyrightHolder":"© Thomas Weustenfeld","copyrightYear":"2022","datePublished":"2022-03-12 00:19:27 -0400 -0400","dateModified":"2022-03-12 00:19:27 -0400 -0400","url":"https:\/\/tw00.dev\/post\/css-tips\/styled-components\/","wordCount":"3147","keywords":["Blog"]}</script>
<title>15 ways to style variants when using CSS-in-JS - Thomas Weustenfeld</title>
<meta property="og:title" content="15 ways to style variants when using CSS-in-JS - Thomas Weustenfeld">
<meta property="og:type" content="article">
<meta name=description content>
<link rel=stylesheet href="https://fonts.googleapis.com/css?family=Source+Code+Pro|Lato:400,900">
<link rel=stylesheet href="https://fonts.googleapis.com/css?family=Miriam+Libre&display=swap">
<link rel=stylesheet href=/css/index.css>
<link href=/index.xml rel=alternate type=application/rss+xml title="Thomas Weustenfeld">
<script>var clicky_site_ids=clicky_site_ids||[];clicky_site_ids.push(101235206)</script>
<script async src=//static.getclicky.com/js></script>
</head>
<body><svg style="display:none"><symbol id="bookmark" viewBox="0 0 40 50"><g transform="translate(2266 3206.2)"><path style="stroke:currentColor;stroke-width:3.2637;fill:none" d="m-2262.2-3203.4-.2331 42.195 16.319-16.318 16.318 16.318.2331-42.428z"/></g></symbol><symbol id="w3c" viewBox="0 0 127.09899 67.763"><text font-size="83" style="font-size:83px;font-family:Trebuchet;letter-spacing:-12;fill-opacity:0" letter-spacing="-12" y="67.609352" x="-26.782778">W3C</text><text font-size="83" style="font-size:83px;font-weight:700;font-family:Trebuchet;fill-opacity:0" y="67.609352" x="153.21722" font-weight="bold">SVG</text><path style="fill:currentColor;image-rendering:optimizeQuality;shape-rendering:geometricPrecision" d="m33.695.377 12.062 41.016 12.067-41.016h8.731L46.587 67.763h-.831l-12.48-41.759-12.479 41.759h-.832l-19.965-67.386h8.736l12.061 41.016 8.154-27.618-3.993-13.397h8.737z"/><path style="fill:currentColor;image-rendering:optimizeQuality;shape-rendering:geometricPrecision" d="m91.355 46.132c0 6.104-1.624 11.234-4.862 15.394-3.248 4.158-7.45 6.237-12.607 6.237-3.882.0-7.263-1.238-10.148-3.702-2.885-2.47-5.02-5.812-6.406-10.022l6.82-2.829c1.001 2.552 2.317 4.562 3.953 6.028 1.636 1.469 3.56 2.207 5.781 2.207 2.329.0 4.3-1.306 5.909-3.911 1.609-2.606 2.411-5.738 2.411-9.401.0-4.049-.861-7.179-2.582-9.399-1.995-2.604-5.129-3.912-9.397-3.912H66.9v-3.991L78.546 8.698H64.484l-3.911 6.655H58.08v-14.976h32.441v4.075l-12.31 21.217c4.324 1.385 7.596 3.911 9.815 7.571 2.22 3.659 3.329 7.953 3.329 12.892z"/><path style="fill:currentColor;image-rendering:optimizeQuality;shape-rendering:geometricPrecision" d="m125.21.0 1.414 8.6-5.008 9.583s-1.924-4.064-5.117-6.314c-2.693-1.899-4.447-2.309-7.186-1.746-3.527.73-7.516 4.938-9.258 10.13-2.084 6.21-2.104 9.218-2.178 11.978-.115 4.428.58 7.043.58 7.043s-3.04-5.626-3.011-13.866c.018-5.882.947-11.218 3.666-16.479 2.404-4.627 5.954-7.404 9.114-7.728 3.264-.343 5.848 1.229 7.841 2.938 2.089 1.788 4.213 5.698 4.213 5.698l4.94-9.837z"/><path style="fill:currentColor;image-rendering:optimizeQuality;shape-rendering:geometricPrecision" d="m125.82 48.674s-2.208 3.957-3.589 5.48c-1.379 1.524-3.849 4.209-6.896 5.555-3.049 1.343-4.646 1.598-7.661 1.306-3.01-.29-5.807-2.032-6.786-2.764-.979-.722-3.486-2.864-4.897-4.854-1.42-2-3.634-5.995-3.634-5.995s1.233 4.001 2.007 5.699c.442.977 1.81 3.965 3.749 6.572 1.805 2.425 5.315 6.604 10.652 7.545 5.336.945 9.002-1.449 9.907-2.031.907-.578 2.819-2.178 4.032-3.475 1.264-1.351 2.459-3.079 3.116-4.108.487-.758 1.276-2.286 1.276-2.286l-1.276-6.644z"/></symbol><symbol id="tag" viewBox="0 0 177.16535 177.16535"><g transform="translate(0 -875.2)"><path style="fill-rule:evenodd;stroke-width:0;fill:currentColor" d="m159.9 894.3-68.79 8.5872-75.42 77.336 61.931 60.397 75.429-76.565 6.8495-69.755zm-31.412 31.835a10.813 10.813.0 011.8443 2.247 10.813 10.813.0 01-3.5174 14.872l-.0445.0275a10.813 10.813.0 01-14.86-3.5714 10.813 10.813.0 013.5563-14.863 10.813 10.813.0 0113.022 1.2884z"/></g></symbol><symbol id="balloon" viewBox="0 0 141.73228 177.16535"><g transform="translate(0 -875.2)"><g><path style="fill:currentColor" d="m68.156 882.83-.88753 1.4269c-4.9564 7.9666-6.3764 17.321-5.6731 37.378.36584 10.437 1.1246 23.51 1.6874 29.062.38895 3.8372 3.8278 32.454 4.6105 38.459 4.6694-.24176 9.2946.2879 14.377 1.481 1.2359-3.2937 5.2496-13.088 8.886-21.623 6.249-14.668 8.4128-21.264 10.253-31.252 1.2464-6.7626 1.6341-12.156 1.4204-19.764-.36325-12.93-2.1234-19.487-6.9377-25.843-2.0833-2.7507-6.9865-7.6112-7.9127-7.8436-.79716-.20019-6.6946-1.0922-6.7755-1.0248-.02213.0182-5.0006-.41858-7.5248-.22808l-2.149-.22808h-3.3738z"/><path style="fill:currentColor" d="m61.915 883.28-3.2484.4497c-1.7863.24724-3.5182.53481-3.8494.63994-2.4751.33811-4.7267.86957-6.7777 1.5696-.28598.0-1.0254.20146-2.3695.58589-5.0418 1.4418-6.6374 2.2604-8.2567 4.2364-6.281 7.6657-11.457 18.43-12.932 26.891-1.4667 8.4111.71353 22.583 5.0764 32.996 3.8064 9.0852 13.569 25.149 22.801 37.517 1.3741 1.841 2.1708 2.9286 2.4712 3.5792 3.5437-1.1699 6.8496-1.9336 10.082-2.3263-1.3569-5.7831-4.6968-21.86-6.8361-33.002-.92884-4.8368-2.4692-14.322-3.2452-19.991-.68557-5.0083-.77707-6.9534-.74159-15.791.04316-10.803.41822-16.162 1.5026-21.503 1.4593-5.9026 3.3494-11.077 6.3247-15.852z"/><path style="fill:currentColor" d="m94.499 885.78c-.10214-.0109-.13691.0-.0907.0409.16033.13489 1.329 1.0675 2.5976 2.0723 6.7003 5.307 11.273 14.568 12.658 25.638.52519 4.1949.24765 14.361-.5059 18.523-2.4775 13.684-9.7807 32.345-20.944 53.519l-3.0559 5.7971c2.8082.76579 5.7915 1.727 8.9926 2.8441 11.562-11.691 18.349-19.678 24.129-28.394 7.8992-11.913 11.132-20.234 12.24-31.518.98442-10.02-1.5579-20.876-6.7799-28.959-.2758-.4269-.57803-.86856-.89617-1.3166-3.247-6.13-9.752-12.053-21.264-16.131-2.3687-.86369-6.3657-2.0433-7.0802-2.1166z"/><path style="fill:currentColor" d="m32.52 892.22c-.2009-.13016-1.4606.81389-3.9132 2.7457-11.486 9.0476-17.632 24.186-16.078 39.61.79699 7.9138 2.4066 13.505 5.9184 20.562 5.8577 11.77 14.749 23.219 30.087 38.74.05838.059.12188.1244.18052.1838 1.3166-.5556 2.5965-1.0618 3.8429-1.5199-.66408-.32448-1.4608-1.3297-3.8116-4.4602-5.0951-6.785-8.7512-11.962-13.051-18.486-5.1379-7.7948-5.0097-7.5894-8.0586-13.054-6.2097-11.13-8.2674-17.725-8.6014-27.563-.21552-6.3494.13041-9.2733 1.775-14.987 2.1832-7.5849 3.9273-10.986 9.2693-18.07 1.7839-2.3656 2.6418-3.57 2.4409-3.7003z"/><path style="fill:currentColor" d="m69.133 992.37c-6.2405.0309-12.635.76718-19.554 2.5706 4.6956 4.7759 9.935 10.258 12.05 12.625l4.1272 4.6202h11.493l3.964-4.4516c2.0962-2.3541 7.4804-7.9845 12.201-12.768-8.378-1.4975-16.207-2.6353-24.281-2.5955z"/><rect style="stroke-width:0;fill:currentColor" ry="2.0328" height="27.746" width="22.766" y="1017.7" x="60.201"/></g></g></symbol><symbol id="info" viewBox="0 0 41.667 41.667"><g transform="translate(-37.035 -1004.6)"><path style="stroke-linejoin:round;stroke:currentColor;stroke-linecap:round;stroke-width:3.728;fill:none" d="m76.25 1030.2a18.968 18.968.0 01-23.037 13.709 18.968 18.968.0 01-13.738-23.019 18.968 18.968.0 0123.001-13.768 18.968 18.968.0 0113.798 22.984"/><g transform="matrix(1.1146 0 0 1.1146 -26.276 -124.92)"><path style="stroke:currentColor;stroke-linecap:round;stroke-width:3.728;fill:none" d="m75.491 1039.5v-8.7472"/><path style="stroke-width:0;fill:currentColor" transform="scale(-1)" d="m-73.193-1024.5a2.3719 2.3719.0 01-2.8807 1.7142 2.3719 2.3719.0 01-1.718-2.8785 2.3719 2.3719.0 012.8763-1.7217 2.3719 2.3719.0 011.7254 2.8741"/></g></g></symbol><symbol id="warning" viewBox="0 0 48.430474 41.646302"><g transform="translate(-1.1273 -1010.2)"><path style="stroke-linejoin:round;stroke:currentColor;stroke-linecap:round;stroke-width:4.151;fill:none" d="m25.343 1012.3-22.14 37.496h44.28z"/><path style="stroke:currentColor;stroke-linecap:round;stroke-width:4.1512;fill:none" d="m25.54 1027.7v8.7472"/><path style="stroke-width:0;fill:currentColor" d="m27.839 1042.8a2.3719 2.3719.0 01-2.8807 1.7143 2.3719 2.3719.0 01-1.718-2.8785 2.3719 2.3719.0 012.8763-1.7217 2.3719 2.3719.0 011.7254 2.8741"/></g></symbol><symbol id="menu" viewBox="0 0 50 50"><rect style="stroke-width:0;fill:currentColor" height="10" width="50" y="0" x="0"/><rect style="stroke-width:0;fill:currentColor" height="10" width="50" y="20" x="0"/><rect style="stroke-width:0;fill:currentColor" height="10" width="50" y="40" x="0"/></symbol><symbol id="link" viewBox="0 0 50 50"><g transform="translate(0 -1002.4)"><g transform="matrix(.095670 0 0 .095670 2.3233 1004.9)"><g><path style="stroke-width:0;fill:currentColor" d="m452.84 192.9-128.65 128.65c-35.535 35.54-93.108 35.54-128.65.0l-42.881-42.886 42.881-42.876 42.884 42.876c11.845 11.822 31.064 11.846 42.886.0l128.64-128.64c11.816-11.831 11.816-31.066.0-42.9l-42.881-42.881c-11.822-11.814-31.064-11.814-42.887.0l-45.928 45.936c-21.292-12.531-45.491-17.905-69.449-16.291l72.501-72.526c35.535-35.521 93.136-35.521 128.64.0l42.886 42.881c35.535 35.523 35.535 93.141-.001 128.66zM198.56 361.41l-45.903 45.9c-11.845 11.846-31.064 11.817-42.881.0l-42.884-42.881c-11.845-11.821-11.845-31.041.0-42.886l128.65-128.65c11.819-11.814 31.069-11.814 42.884.0l42.886 42.886 42.876-42.886-42.876-42.881c-35.54-35.521-93.113-35.521-128.65.0l-128.65 128.64c-35.538 35.545-35.538 93.146.0 128.65l42.883 42.882c35.51 35.54 93.11 35.54 128.65.0l72.496-72.499c-23.956 1.597-48.092-3.784-69.474-16.283z"/></g></g></g></symbol><symbol id="doc" viewBox="0 0 35 45"><g transform="translate(-147.53 -539.83)"><path style="stroke:currentColor;stroke-width:2.4501;fill:none" d="m149.38 542.67v39.194h31.354V542.67z"/><g style="stroke-width:25" transform="matrix(.098003 0 0 .098003 133.69 525.96)"><path d="m220 252.36h2e2" style="stroke:currentColor;stroke-width:25;fill:none"/><path style="stroke:currentColor;stroke-width:25;fill:none" d="m220 409.95h2e2"/><path d="m220 488.74h2e2" style="stroke:currentColor;stroke-width:25;fill:none"/><path d="m220 331.15h2e2" style="stroke:currentColor;stroke-width:25;fill:none"/></g></g></symbol><symbol id="tick-check" viewBox="0 0 177.16535 177.16535"><g transform="translate(0 -875.2)"><rect style="stroke-width:0;fill:currentColor" transform="rotate(30)" height="155" width="40" y="702.99" x="556.82"/><rect style="stroke-width:0;fill:currentColor" transform="rotate(30)" height="40" width="90.404" y="817.99" x="506.42"/></g></symbol><symbol id="tick" viewBox="0 0 177.16535 177.16535"><circle cx="50" cy="50" r="40" stroke="#000" stroke-width="3" fill="red"/></symbol><symbol id="pdf" viewBox="0 0 384 384"><path d="M64 0v80H0v144h64v160h224l96-96V0H64zM16 208V96h240v112H16zM288 361.376V288h73.376L288 361.376zM368 272h-96v96H80V224h192V80H80V16h288V272z"/><path d="M90.848 130.864c-.64-2.464-1.696-4.656-3.168-6.576-1.472-1.92-3.392-3.472-5.808-4.656-2.416-1.184-5.36-1.776-8.88-1.776H48.8V186.4h13.824v-27.36h7.392c3.264.0 6.24-.448 8.928-1.264s4.976-2.08 6.864-3.744c1.888-1.648 3.36-3.792 4.416-6.416s1.584-5.696 1.584-9.216C91.808 135.84 91.472 133.312 90.848 130.864zM75.44 146.384c-1.68 1.664-3.92 2.512-6.672 2.512h-6.144v-20.848h5.76c3.456.0 5.92.912 7.392 2.688 1.472 1.792 2.208 4.416 2.208 7.872C77.984 142.128 77.136 144.72 75.44 146.384z"/><path d="M153.36 137.44c-.576-4.112-1.664-7.6-3.312-10.512-1.632-2.928-3.92-5.152-6.864-6.72-2.96-1.568-6.816-2.368-11.632-2.368h-22.656v68.544h21.824c4.608.0 8.416-.704 11.424-2.112s5.408-3.536 7.2-6.432c1.792-2.88 3.056-6.56 3.792-10.992.736-4.448 1.088-9.68 1.088-15.696C154.224 146.112 153.936 141.536 153.36 137.44zm-13.408 25.824c-.272 3.152-.848 5.68-1.728 7.6-.864 1.92-2.032 3.296-3.504 4.128-1.472.832-3.424 1.248-5.856 1.248h-6.144v-48.208h5.84c2.624.0 4.72.512 6.288 1.504 1.584.976 2.752 2.448 3.568 4.4.8 1.952 1.328 4.4 1.584 7.344.24 2.96.384 6.384.384 10.288C140.384 156.24 140.24 160.144 139.952 163.264z"/><polygon points="211.232,129.184 211.232,117.856 172.928,117.856 172.928,186.4 186.752,186.4 186.752,156.64 209.792,156.64 209.792,145.312 186.752,145.312 186.752,129.184"/></symbol></svg>
<div class=content-wrap>
<nav class=page-nav>
<a href=/ style=outline:none>
<img class=logo src=/img/logo.svg>
</a>
<div class=pulled-right>
<a class=nav-link href=/>Index</a>
<a class=nav-link href=/about>About</a>
<a class=nav-link href=/work>Work</a>
</div>
</nav>
<div class=container>
<nav class=site-nav>
<a href=https://tw00.dev>Index</a>
</nav>
</div>
<header class=post-header>
<div class=post-title style="background-image:url(https://images.unsplash.com/photo-1485841890310-6a055c88698a?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=2340&q=80);background-position:bottom">
<div class=container>
<h1>15 ways to style variants when using CSS-in-JS</h1>
</div>
</div>
</header>
<div class="container container-spacing-bottom">
<article class=post>
<time class=post-date datetime="2022-03-12 00:19:27 -0400">12 Mar 2022</time>
<div></div>
<p>I recently had an interesting discussion about <a href=https://github.com/css-modules/css-modules>CSS modules</a> vs. <a href=https://en.wikipedia.org/wiki/CSS-in-JS>CSS-in-JS</a> and more specifically <a href=https://emotion.sh/docs/introduction>Emotion</a>. We&rsquo;ve been working on a codebase that uses CSS modules for a while now, and we&rsquo;ve certainly come up with lots of patterns that make it easy to reason about CSS and keep it maintanble at scale. One of the central ideas are <em>variants</em>. For example we would create a base card component of certain color, size, shape and even hove state, but it would also have an optional <code>variant</code> property that would completly change the card&rsquo;s appearance.</p>
<h1 id=1-the-simple-case>1. The simple case</h1>
<p>To implement a card component with emotion (or <a href=https://styled-components.com/>styled components</a>) one could come up, with something like this: (The CSS properties are not really important. This is just an example.)</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-tsx data-lang=tsx><span class=kr>import</span> <span class=nx>styled</span> <span class=kr>from</span> <span class=s1>&#39;@emotion/styled&#39;</span><span class=p>;</span>

<span class=kr>type</span> <span class=nx>IProps</span> <span class=o>=</span> <span class=p>{</span> <span class=nx>isVertical</span>: <span class=kt>boolean</span> <span class=p>};</span>

<span class=kr>const</span> <span class=nx>Box</span> <span class=o>=</span> <span class=nx>styled</span><span class=p>.</span><span class=nx>div</span><span class=p>&lt;</span><span class=nt>IProps</span><span class=p>&gt;</span><span class=sb>`
</span><span class=sb>  display: flex;
</span><span class=sb>  padding: 0.5rem;
</span><span class=sb>  flex-direction: </span><span class=si>${</span><span class=p>({</span> <span class=nx>isVertical</span> <span class=si>}</span><span class=sb>) =&gt; (isVertical ? &#39;column&#39; : &#39;row&#39;)};
</span><span class=sb>  </span><span class=si>${</span><span class=p>({</span> <span class=nx>isVertical</span> <span class=si>}</span><span class=sb>) =&gt;
</span><span class=sb>    isVertical ? &#39;justify-content: center;&#39; : &#39;align-items: center;&#39;};
</span><span class=sb>  background: </span><span class=si>${</span><span class=p>({</span> <span class=nx>isVertical</span> <span class=si>}</span><span class=sb>) =&gt;
</span><span class=sb>    isVertical ? &#39;var(--red);&#39; : &#39;var(--blue);&#39;};
</span><span class=sb>`</span><span class=p>;</span>

<span class=kr>export</span> <span class=k>default</span> <span class=kd>function</span> <span class=nx>Card</span><span class=p>({</span> <span class=nx>isVertical</span> <span class=p>}</span><span class=o>:</span> <span class=nx>IProps</span><span class=p>)</span> <span class=p>{</span>
  <span class=k>return</span> <span class=p>&lt;</span><span class=nt>Box</span> <span class=na>isVertical</span><span class=o>=</span><span class=p>{</span><span class=nx>isVertical</span><span class=p>}&gt;</span><span class=nx>Box1</span><span class=p>&lt;/</span><span class=nt>Box</span><span class=p>&gt;;</span>
<span class=p>}</span>
</code></pre></div><p>The feedback I got on this, was that this is hard to read, and I agree. Compare how this could look like with CSS modules:</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-scss data-lang=scss><span class=nc>.container</span> <span class=p>{</span>
  <span class=na>display</span><span class=o>:</span> <span class=ni>flex</span><span class=p>;</span>
  <span class=na>padding</span><span class=o>:</span> <span class=mi>0</span><span class=mf>.5</span><span class=kt>rem</span><span class=p>;</span>

  <span class=nc>.isVertical</span> <span class=p>{</span>
    <span class=na>justify-content</span><span class=o>:</span> <span class=ni>center</span><span class=p>;</span>
    <span class=na>flex-direction</span><span class=o>:</span> <span class=ni>column</span><span class=p>;</span>
    <span class=na>background</span><span class=o>:</span> <span class=nf>var</span><span class=p>(</span><span class=o>--</span><span class=no>red</span><span class=p>);</span>
  <span class=p>}</span>

  <span class=nc>.isHorizontal</span> <span class=p>{</span>
    <span class=na>align-items</span><span class=o>:</span> <span class=ni>center</span><span class=p>;</span>
    <span class=na>flex-direction</span><span class=o>:</span> <span class=ni>row</span><span class=p>;</span>
    <span class=na>background</span><span class=o>:</span> <span class=nf>var</span><span class=p>(</span><span class=o>--</span><span class=no>blue</span><span class=p>);</span>
  <span class=p>}</span>
<span class=p>}</span>
</code></pre></div><p>Much cleaner! Much easier to read. However, I didn&rsquo;t want to give up there,
as CSS-in-JS has a lot of benefits. So here are <strong>15 different ways</strong> sz to style <em>variants</em>
with CSS-in-JS.</p>
<p>But before we get into it, here a few things to point out:</p>
<ul>
<li>I&rsquo;m hiding the additional utility code required to make each solution work, but I&rsquo;ll include it in an expandable section.</li>
<li>I&rsquo;m using Emotion, but most of it should apply to styled components as well.</li>
<li>I&rsquo;m including the generated CSS output for each solution in an expandable section as well.</li>
<li>I designed all solutions so that they won&rsquo;t break syntax highlighting (I&rsquo;m using <code>jpoissonnier.vscode-styled-components</code> in VS Code).</li>
</ul>
<p>That said, let&rsquo;s get started!</p>
<h1 id=2-using-a-helper-function>2. Using a helper function</h1>
<p>You can pass a function (&ldquo;interpolations&rdquo;) to a styled component&rsquo;s template literal to adapt it based on its props. Each function receives the components properties and has to return a <code>string</code> or a <code>SerializedStyles</code>:</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-tsx data-lang=tsx><span class=kr>import</span> <span class=p>{</span> <span class=nx>css</span> <span class=p>}</span> <span class=kr>from</span> <span class=s1>&#39;@emotion/react&#39;</span><span class=p>;</span>
<span class=kr>import</span> <span class=nx>styled</span> <span class=kr>from</span> <span class=s1>&#39;@emotion/styled&#39;</span><span class=p>;</span>

<span class=kr>const</span> <span class=nx>alignBox</span> <span class=o>=</span> <span class=p>({</span> <span class=nx>isVertical</span> <span class=p>})</span> <span class=o>=&gt;</span>
  <span class=nx>isVertical</span>
    <span class=o>?</span> <span class=nx>css</span><span class=sb>`
</span><span class=sb>        justify-content: center;
</span><span class=sb>        flex-direction: column;
</span><span class=sb>        background: var(--red);
</span><span class=sb>      `</span>
    <span class=o>:</span> <span class=nx>css</span><span class=sb>`
</span><span class=sb>        align-items: center;
</span><span class=sb>        flex-direction: row;
</span><span class=sb>        background: var(--blue);
</span><span class=sb>      `</span><span class=p>;</span>

<span class=kr>const</span> <span class=nx>Box</span> <span class=o>=</span> <span class=nx>styled</span><span class=p>.</span><span class=nx>div</span><span class=sb>`
</span><span class=sb>  display: flex;
</span><span class=sb>  padding: 0.5rem;
</span><span class=sb>  </span><span class=si>${</span><span class=nx>alignBox</span><span class=si>}</span><span class=sb>
</span><span class=sb>`</span><span class=p>;</span>

<span class=kr>export</span> <span class=k>default</span> <span class=kd>function</span> <span class=nx>Card</span><span class=p>({</span> <span class=nx>isVertical</span> <span class=p>})</span> <span class=p>{</span>
  <span class=k>return</span> <span class=p>&lt;</span><span class=nt>Box</span> <span class=na>isVertical</span><span class=o>=</span><span class=p>{</span><span class=nx>isVertical</span><span class=p>}&gt;</span><span class=nx>Box2</span><span class=p>&lt;/</span><span class=nt>Box</span><span class=p>&gt;;</span>
<span class=p>}</span>
</code></pre></div><details>
<summary>Generated CSS</summary>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-css data-lang=css><span class=p>.</span><span class=nc>css-1uknui7</span><span class=p>{</span><span class=k>display</span><span class=p>:</span><span class=kc>flex</span><span class=p>;</span><span class=k>padding</span><span class=p>:</span><span class=mf>0.5</span><span class=kt>rem</span><span class=p>;</span><span class=k>justify-content</span><span class=p>:</span><span class=kc>center</span><span class=p>;</span><span class=k>flex-direction</span><span class=p>:</span><span class=kc>column</span><span class=p>;</span><span class=k>background</span><span class=p>:</span><span class=nf>var</span><span class=p>(</span><span class=o>--</span><span class=kc>red</span><span class=p>);}</span>
<span class=p>.</span><span class=nc>css-1svseed</span><span class=p>{</span><span class=k>display</span><span class=p>:</span><span class=kc>flex</span><span class=p>;</span><span class=k>padding</span><span class=p>:</span><span class=mf>0.5</span><span class=kt>rem</span><span class=p>;</span><span class=k>align-items</span><span class=p>:</span><span class=kc>center</span><span class=p>;</span><span class=k>flex-direction</span><span class=p>:</span><span class=kc>row</span><span class=p>;</span><span class=k>background</span><span class=p>:</span><span class=nf>var</span><span class=p>(</span><span class=o>--</span><span class=kc>blue</span><span class=p>);}</span>
</code></pre></div></details>
<details>
<summary>Alternative with switch statement</summary>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-tsx data-lang=tsx><span class=kr>import</span> <span class=p>{</span> <span class=nx>css</span> <span class=p>}</span> <span class=kr>from</span> <span class=s1>&#39;@emotion/react&#39;</span><span class=p>;</span>
<span class=kr>import</span> <span class=nx>styled</span> <span class=kr>from</span> <span class=s1>&#39;@emotion/styled&#39;</span><span class=p>;</span>

<span class=kr>const</span> <span class=nx>boxVariants</span> <span class=o>=</span> <span class=p>({</span> <span class=nx>variant</span> <span class=p>})</span> <span class=o>=&gt;</span> <span class=p>{</span>
  <span class=k>switch</span> <span class=p>(</span><span class=nx>variant</span><span class=p>)</span> <span class=p>{</span>
    <span class=k>case</span> <span class=s1>&#39;vertical&#39;</span><span class=o>:</span>
      <span class=k>return</span> <span class=nx>css</span><span class=sb>`
</span><span class=sb>        justify-content: center;
</span><span class=sb>        flex-direction: column;
</span><span class=sb>        background: var(--red);
</span><span class=sb>      `</span><span class=p>;</span>

    <span class=k>case</span> <span class=s1>&#39;vertical&#39;</span><span class=o>:</span>
      <span class=k>return</span> <span class=nx>css</span><span class=sb>`
</span><span class=sb>        align-items: center;
</span><span class=sb>        flex-direction: row;
</span><span class=sb>        background: var(--blue);
</span><span class=sb>      `</span><span class=p>;</span>
  <span class=p>}</span>
<span class=p>};</span>

<span class=kr>const</span> <span class=nx>Box</span> <span class=o>=</span> <span class=nx>styled</span><span class=p>.</span><span class=nx>div</span><span class=sb>`
</span><span class=sb>  display: flex;
</span><span class=sb>  padding: 0.5rem;
</span><span class=sb>  </span><span class=si>${</span><span class=nx>boxVariants</span><span class=si>}</span><span class=sb>
</span><span class=sb>`</span><span class=p>;</span>

<span class=kr>export</span> <span class=k>default</span> <span class=kd>function</span> <span class=nx>Card</span><span class=p>({</span> <span class=nx>isVertical</span> <span class=p>})</span> <span class=p>{</span>
  <span class=k>return</span> <span class=p>&lt;</span><span class=nt>Box</span> <span class=na>variant</span><span class=o>=</span><span class=p>{</span><span class=nx>isVertical</span> <span class=o>?</span> <span class=s1>&#39;vertical&#39;</span> <span class=o>:</span> <span class=s1>&#39;horizontal&#39;</span><span class=p>}&gt;</span><span class=nx>Box2b</span><span class=p>&lt;/</span><span class=nt>Box</span><span class=p>&gt;;</span>
<span class=p>}</span>
</code></pre></div></details>
<p><strong>Pros:</strong></p>
<ul>
<li>Fairly straightforward</li>
</ul>
<p><strong>Cons:</strong></p>
<ul>
<li>Fragmented CSS</li>
</ul>
<h1 id=3-using-iftrueiffalse-helpers>3. Using <code>ifTrue</code>/<code>ifFalse</code> helpers</h1>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-tsx data-lang=tsx><span class=kr>import</span> <span class=p>{</span> <span class=nx>css</span> <span class=p>}</span> <span class=kr>from</span> <span class=s1>&#39;@emotion/react&#39;</span><span class=p>;</span>
<span class=kr>import</span> <span class=nx>styled</span> <span class=kr>from</span> <span class=s1>&#39;@emotion/styled&#39;</span><span class=p>;</span>
<span class=kr>import</span> <span class=p>{</span> <span class=nx>ifTrue</span><span class=p>,</span> <span class=nx>ifFalse</span> <span class=p>}</span> <span class=kr>from</span> <span class=s2>&#34;utils&#34;</span><span class=p>;</span>

<span class=kr>type</span> <span class=nx>IProps</span> <span class=o>=</span> <span class=p>{</span> <span class=nx>isVertical</span>: <span class=kt>boolean</span> <span class=p>};</span>

<span class=kr>const</span> <span class=nx>Box</span> <span class=o>=</span> <span class=nx>styled</span><span class=p>.</span><span class=nx>div</span><span class=p>&lt;</span><span class=nt>IProps</span><span class=p>&gt;</span><span class=sb>`
</span><span class=sb>  display: flex;
</span><span class=sb>  padding: 0.5rem;
</span><span class=sb>
</span><span class=sb>  </span><span class=si>${</span><span class=nx>ifTrue</span><span class=p>(</span>
    <span class=s1>&#39;isVertical&#39;</span><span class=p>,</span>
    <span class=nx>css</span><span class=sb>`
</span><span class=sb>      justify-content: center;
</span><span class=sb>      flex-direction: column;
</span><span class=sb>      background: var(--red);
</span><span class=sb>    `</span><span class=p>,</span>
  <span class=p>)</span><span class=si>}</span><span class=sb>
</span><span class=sb>
</span><span class=sb>  </span><span class=si>${</span><span class=nx>ifFalse</span><span class=p>(</span>
    <span class=s1>&#39;isVertical&#39;</span><span class=p>,</span>
    <span class=nx>css</span><span class=sb>`
</span><span class=sb>      align-items: center;
</span><span class=sb>      flex-direction: row;
</span><span class=sb>      background: var(--blue);
</span><span class=sb>    `</span><span class=p>,</span>
  <span class=p>)</span><span class=si>}</span><span class=sb>
</span><span class=sb>`</span><span class=p>;</span>

<span class=kr>export</span> <span class=k>default</span> <span class=kd>function</span> <span class=nx>Card</span><span class=p>({</span> <span class=nx>isVertical</span> <span class=p>}</span><span class=o>:</span> <span class=nx>IProps</span><span class=p>)</span> <span class=p>{</span>
  <span class=k>return</span> <span class=p>&lt;</span><span class=nt>Box</span> <span class=na>isVertical</span><span class=o>=</span><span class=p>{</span><span class=nx>isVertical</span><span class=p>}&gt;</span><span class=nx>Box3</span><span class=p>&lt;/</span><span class=nt>Box</span><span class=p>&gt;;</span>
<span class=p>}</span>
</code></pre></div><details>
<summary>Generated CSS</summary>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-css data-lang=css><span class=p>.</span><span class=nc>css-emqkiy</span><span class=p>{</span><span class=k>display</span><span class=p>:</span><span class=kc>flex</span><span class=p>;</span><span class=k>padding</span><span class=p>:</span><span class=mf>0.5</span><span class=kt>rem</span><span class=p>;</span><span class=k>justify-content</span><span class=p>:</span><span class=kc>center</span><span class=p>;</span><span class=k>flex-direction</span><span class=p>:</span><span class=kc>column</span><span class=p>;</span><span class=k>background</span><span class=p>:</span><span class=nf>var</span><span class=p>(</span><span class=o>--</span><span class=kc>red</span><span class=p>);}</span>
<span class=p>.</span><span class=nc>css-1kdt7cc</span><span class=p>{</span><span class=k>display</span><span class=p>:</span><span class=kc>flex</span><span class=p>;</span><span class=k>padding</span><span class=p>:</span><span class=mf>0.5</span><span class=kt>rem</span><span class=p>;</span><span class=k>align-items</span><span class=p>:</span><span class=kc>center</span><span class=p>;</span><span class=k>flex-direction</span><span class=p>:</span><span class=kc>row</span><span class=p>;</span><span class=k>background</span><span class=p>:</span><span class=nf>var</span><span class=p>(</span><span class=o>--</span><span class=kc>blue</span><span class=p>);}</span>
</code></pre></div></details>
<details>
<summary>Implementation - How it works</summary>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-ts data-lang=ts><span class=kr>export</span> <span class=kr>const</span> <span class=nx>ifTrue</span> <span class=o>=</span> <span class=p>(</span><span class=nx>condition</span><span class=p>,</span> <span class=nx>css</span><span class=p>)</span> <span class=o>=&gt;</span> <span class=p>(</span><span class=nx>props</span><span class=p>)</span> <span class=o>=&gt;</span> <span class=nx>props</span><span class=p>[</span><span class=nx>condition</span><span class=p>]</span> <span class=o>?</span> <span class=nx>css</span> <span class=o>:</span> <span class=s1>&#39;&#39;</span><span class=p>;</span>
<span class=kr>export</span> <span class=kr>const</span> <span class=nx>ifFalse</span> <span class=o>=</span> <span class=p>(</span><span class=nx>condition</span><span class=p>,</span> <span class=nx>css</span><span class=p>)</span> <span class=o>=&gt;</span> <span class=p>(</span><span class=nx>props</span><span class=p>)</span> <span class=o>=&gt;</span> <span class=nx>props</span><span class=p>[</span><span class=nx>condition</span><span class=p>]</span> <span class=o>?</span> <span class=s1>&#39;&#39;</span> <span class=o>:</span> <span class=nx>css</span><span class=p>;</span>
</code></pre></div></details>
<p><strong>Pros:</strong></p>
<ul>
<li>Easy to understand</li>
</ul>
<p><strong>Cons:</strong></p>
<ul>
<li>Requires (extremly simple) util functions</li>
<li>Still doesn&rsquo;t look like CSS</li>
</ul>
<h1 id=4-using-switchprop-helper>4. Using <code>switchProp</code> helper</h1>
<p>Inspired by <a href=https://github.com/diegohaz/styled-tools>styled-tools</a> this helper switches a set of CSS properties based on a component property:</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-tsx data-lang=tsx><span class=kr>import</span> <span class=p>{</span> <span class=nx>css</span> <span class=p>}</span> <span class=kr>from</span> <span class=s1>&#39;@emotion/react&#39;</span><span class=p>;</span>
<span class=kr>import</span> <span class=nx>styled</span> <span class=kr>from</span> <span class=s1>&#39;@emotion/styled&#39;</span><span class=p>;</span>
<span class=kr>import</span> <span class=p>{</span> <span class=nx>switchProp</span> <span class=p>}</span> <span class=kr>from</span> <span class=s2>&#34;utils&#34;</span><span class=p>;</span>

<span class=kr>type</span> <span class=nx>IProps</span> <span class=o>=</span> <span class=p>{</span> <span class=nx>variant</span><span class=o>:</span> <span class=s1>&#39;vertical&#39;</span> <span class=o>|</span> <span class=s1>&#39;horizontal&#39;</span> <span class=p>};</span>
<span class=kr>type</span> <span class=nx>IStyleProps</span> <span class=o>=</span> <span class=p>{</span> <span class=nx>variant</span><span class=o>:</span> <span class=s1>&#39;vertical&#39;</span> <span class=o>|</span> <span class=s1>&#39;horizontal&#39;</span> <span class=p>};</span>

<span class=kr>const</span> <span class=nx>Box</span> <span class=o>=</span> <span class=nx>styled</span><span class=p>.</span><span class=nx>div</span><span class=p>&lt;</span><span class=nt>IStyleProps</span><span class=p>&gt;</span><span class=sb>`
</span><span class=sb>  display: flex;
</span><span class=sb>  padding: 0.5rem;
</span><span class=sb>
</span><span class=sb>  </span><span class=si>${</span><span class=nx>switchProp</span><span class=p>(</span><span class=s1>&#39;variant&#39;</span><span class=p>,</span> <span class=p>{</span>
    <span class=nx>vertical</span>: <span class=kt>css</span><span class=sb>`
</span><span class=sb>      justify-content: center;
</span><span class=sb>      flex-direction: column;
</span><span class=sb>      background: var(--red);
</span><span class=sb>    `</span><span class=p>,</span>
    <span class=nx>horizontal</span>: <span class=kt>css</span><span class=sb>`
</span><span class=sb>      align-items: center;
</span><span class=sb>      flex-direction: row;
</span><span class=sb>      background: var(--blue);
</span><span class=sb>    `</span><span class=p>,</span>
  <span class=si>}</span><span class=sb>)};
</span><span class=sb>`</span><span class=p>;</span>

<span class=kr>export</span> <span class=k>default</span> <span class=kd>function</span> <span class=nx>Card</span><span class=p>({</span> <span class=nx>isVertical</span> <span class=p>}</span><span class=o>:</span> <span class=nx>IProps</span><span class=p>)</span> <span class=p>{</span>
  <span class=k>return</span> <span class=p>&lt;</span><span class=nt>Box</span> <span class=na>variant</span><span class=o>=</span><span class=p>{</span><span class=nx>isVertical</span> <span class=o>?</span> <span class=s1>&#39;vertical&#39;</span> <span class=o>:</span> <span class=s1>&#39;horizontal&#39;</span><span class=p>}&gt;</span><span class=nx>Box4</span><span class=p>&lt;/</span><span class=nt>Box</span><span class=p>&gt;;</span>
<span class=p>}</span>
</code></pre></div><details>
<summary>Generated CSS</summary>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-css data-lang=css><span class=p>.</span><span class=nc>css-1eoyon3</span><span class=p>{</span><span class=k>display</span><span class=p>:</span><span class=kc>flex</span><span class=p>;</span><span class=k>padding</span><span class=p>:</span><span class=mf>0.5</span><span class=kt>rem</span><span class=p>;</span><span class=k>justify-content</span><span class=p>:</span><span class=kc>center</span><span class=p>;</span><span class=k>flex-direction</span><span class=p>:</span><span class=kc>column</span><span class=p>;</span><span class=k>background</span><span class=p>:</span><span class=nf>var</span><span class=p>(</span><span class=o>--</span><span class=kc>red</span><span class=p>);}</span>
<span class=p>.</span><span class=nc>css-158a9qy</span><span class=p>{</span><span class=k>display</span><span class=p>:</span><span class=kc>flex</span><span class=p>;</span><span class=k>padding</span><span class=p>:</span><span class=mf>0.5</span><span class=kt>rem</span><span class=p>;</span><span class=k>align-items</span><span class=p>:</span><span class=kc>center</span><span class=p>;</span><span class=k>flex-direction</span><span class=p>:</span><span class=kc>row</span><span class=p>;</span><span class=k>background</span><span class=p>:</span><span class=nf>var</span><span class=p>(</span><span class=o>--</span><span class=kc>blue</span><span class=p>);}</span>
</code></pre></div></details>
<details>
<summary>Implementation - How it works</summary>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-ts data-lang=ts><span class=kr>const</span> <span class=nx>switchProp</span> <span class=o>=</span> <span class=p>(</span><span class=nx>prop</span><span class=p>,</span> <span class=nx>options</span><span class=p>)</span> <span class=o>=&gt;</span> <span class=p>(</span><span class=nx>props</span><span class=p>)</span> <span class=o>=&gt;</span> <span class=nx>options</span><span class=p>[</span><span class=nx>props</span><span class=p>[</span><span class=nx>prop</span><span class=p>]];</span>
</code></pre></div></details>
<p><strong>Pros:</strong></p>
<ul>
<li>Easy to understand</li>
</ul>
<p><strong>Cons:</strong></p>
<ul>
<li>Requires (extremly simple) util functions</li>
<li>Still doesn&rsquo;t look like CSS</li>
</ul>
<h1 id=5-using-emotions-css-property>5. Using Emotions <code>css</code> property</h1>
<p>The <code>css</code> <a href=https://emotion.sh/docs/css-prop>property</a> allows developers to style components and elements directly without the styled components API abstraction. It is similar to the HTML style prop, but also has support for auto vendor-prefixing, nested selectors, and media queries.</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-tsx data-lang=tsx><span class=cm>/** @jsxImportSource @emotion/react */</span>
<span class=kr>import</span> <span class=p>{</span> <span class=nx>css</span> <span class=p>}</span> <span class=kr>from</span> <span class=s1>&#39;@emotion/react&#39;</span><span class=p>;</span>
<span class=kr>import</span> <span class=nx>styled</span> <span class=kr>from</span> <span class=s1>&#39;@emotion/styled&#39;</span><span class=p>;</span>

<span class=kr>type</span> <span class=nx>IProps</span> <span class=o>=</span> <span class=p>{</span> <span class=nx>isVertical</span>: <span class=kt>boolean</span> <span class=p>};</span>

<span class=kr>const</span> <span class=nx>Box</span> <span class=o>=</span> <span class=nx>styled</span><span class=p>.</span><span class=nx>div</span><span class=sb>`
</span><span class=sb>  display: flex;
</span><span class=sb>  padding: 0.5rem;
</span><span class=sb>`</span><span class=p>;</span>

<span class=kr>const</span> <span class=nx>variants</span> <span class=o>=</span> <span class=p>{</span>
  <span class=nx>is_vertical</span>: <span class=kt>css</span><span class=sb>`
</span><span class=sb>    justify-content: center;
</span><span class=sb>    flex-direction: column;
</span><span class=sb>    background: var(--red);
</span><span class=sb>  `</span><span class=p>,</span>

  <span class=nx>is_horizontal</span>: <span class=kt>css</span><span class=sb>`
</span><span class=sb>    align-items: center;
</span><span class=sb>    flex-direction: row;
</span><span class=sb>    background: var(--blue);
</span><span class=sb>  `</span><span class=p>,</span>
<span class=p>};</span>

<span class=kr>export</span> <span class=k>default</span> <span class=kd>function</span> <span class=nx>Card</span><span class=p>({</span> <span class=nx>isVertical</span> <span class=p>}</span><span class=o>:</span> <span class=nx>IProps</span><span class=p>)</span> <span class=p>{</span>
  <span class=k>return</span> <span class=p>(</span>
    <span class=p>&lt;</span><span class=nt>Box</span> <span class=na>css</span><span class=o>=</span><span class=p>{</span><span class=nx>isVertical</span> <span class=o>?</span> <span class=nx>variants.is_vertical</span> : <span class=kt>variants.is_horizontal</span><span class=p>}&gt;</span>
      <span class=nx>Box5</span>
    <span class=p>&lt;/</span><span class=nt>Box</span><span class=p>&gt;</span>
  <span class=p>);</span>
<span class=p>}</span>
</code></pre></div><details>
<summary>Generated CSS</summary>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-css data-lang=css><span class=p>.</span><span class=nc>css-im4vzl-Card</span><span class=p>{</span><span class=k>display</span><span class=p>:</span><span class=kc>flex</span><span class=p>;</span><span class=k>padding</span><span class=p>:</span><span class=mf>0.5</span><span class=kt>rem</span><span class=p>;</span><span class=k>justify-content</span><span class=p>:</span><span class=kc>center</span><span class=p>;</span><span class=k>flex-direction</span><span class=p>:</span><span class=kc>column</span><span class=p>;</span><span class=k>background</span><span class=p>:</span><span class=nf>var</span><span class=p>(</span><span class=o>--</span><span class=kc>red</span><span class=p>);}</span>
<span class=p>.</span><span class=nc>css-vj3p5z-Card</span><span class=p>{</span><span class=k>align-items</span><span class=p>:</span><span class=kc>center</span><span class=p>;</span><span class=k>flex-direction</span><span class=p>:</span><span class=kc>row</span><span class=p>;</span><span class=k>background</span><span class=p>:</span><span class=nf>var</span><span class=p>(</span><span class=o>--</span><span class=kc>blue</span><span class=p>);}</span>
</code></pre></div></details>
<p><strong>Pros:</strong></p>
<ul>
<li>Easy to understand</li>
<li>No util functions</li>
</ul>
<p><strong>Cons:</strong></p>
<ul>
<li>Fragmented CSS</li>
<li>Generated CSS <code>className</code> gets suffixed with component name (<code>Card</code>)</li>
<li>Requires adding <code>@jsxImportSource @emotion/react</code> at the top of every component file</li>
</ul>
<h1 id=6-extending-components>6. Extending components</h1>
<p>To make a new component that inherits the styling of another component, styled components allows to <a href=https://styled-components.com/docs/basics#extending-styles>extend styles</a>.</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-tsx data-lang=tsx><span class=kr>import</span> <span class=nx>styled</span> <span class=kr>from</span> <span class=s1>&#39;@emotion/styled&#39;</span><span class=p>;</span>

<span class=kr>type</span> <span class=nx>IProps</span> <span class=o>=</span> <span class=p>{</span> <span class=nx>isVertical</span>: <span class=kt>boolean</span> <span class=p>};</span>

<span class=kr>const</span> <span class=nx>Box</span> <span class=o>=</span> <span class=nx>styled</span><span class=p>.</span><span class=nx>div</span><span class=sb>`
</span><span class=sb>  display: flex;
</span><span class=sb>  padding: 0.5rem;
</span><span class=sb>`</span><span class=p>;</span>

<span class=kr>const</span> <span class=nx>VerticalBox</span> <span class=o>=</span> <span class=nx>styled</span><span class=p>(</span><span class=nx>Box</span><span class=p>)</span><span class=sb>`
</span><span class=sb>  justify-content: center;
</span><span class=sb>  flex-direction: column;
</span><span class=sb>  background: var(--red);
</span><span class=sb>`</span><span class=p>;</span>

<span class=kr>const</span> <span class=nx>HorizontalBox</span> <span class=o>=</span> <span class=nx>styled</span><span class=p>(</span><span class=nx>Box</span><span class=p>)</span><span class=sb>`
</span><span class=sb>  align-items: center;
</span><span class=sb>  flex-direction: row;
</span><span class=sb>  background: var(--blue);
</span><span class=sb>`</span><span class=p>;</span>

<span class=kr>export</span> <span class=k>default</span> <span class=kd>function</span> <span class=nx>Card</span><span class=p>({</span> <span class=nx>isVertical</span> <span class=p>}</span><span class=o>:</span> <span class=nx>IProps</span><span class=p>)</span> <span class=p>{</span>
  <span class=kr>const</span> <span class=nx>Box</span> <span class=o>=</span> <span class=nx>isVertical</span> <span class=o>?</span> <span class=nx>VerticalBox</span> : <span class=kt>HorizontalBox</span><span class=p>;</span>
  <span class=k>return</span> <span class=p>&lt;</span><span class=nt>Box</span><span class=p>&gt;</span><span class=nx>Box6</span><span class=p>&lt;/</span><span class=nt>Box</span><span class=p>&gt;;</span>
<span class=p>}</span>
</code></pre></div><details>
<summary>Generated CSS</summary>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-css data-lang=css><span class=p>.</span><span class=nc>css-1pthnx7</span><span class=p>{</span><span class=k>display</span><span class=p>:</span><span class=kc>flex</span><span class=p>;</span><span class=k>padding</span><span class=p>:</span><span class=mf>0.5</span><span class=kt>rem</span><span class=p>;</span><span class=k>justify-content</span><span class=p>:</span><span class=kc>center</span><span class=p>;</span><span class=k>flex-direction</span><span class=p>:</span><span class=kc>column</span><span class=p>;</span><span class=k>background</span><span class=p>:</span><span class=nf>var</span><span class=p>(</span><span class=o>--</span><span class=kc>red</span><span class=p>);}</span>
<span class=p>.</span><span class=nc>css-emoj78</span><span class=p>{</span><span class=k>display</span><span class=p>:</span><span class=kc>flex</span><span class=p>;</span><span class=k>padding</span><span class=p>:</span><span class=mf>0.5</span><span class=kt>rem</span><span class=p>;</span><span class=k>align-items</span><span class=p>:</span><span class=kc>center</span><span class=p>;</span><span class=k>flex-direction</span><span class=p>:</span><span class=kc>row</span><span class=p>;</span><span class=k>background</span><span class=p>:</span><span class=nf>var</span><span class=p>(</span><span class=o>--</span><span class=kc>blue</span><span class=p>);}</span>
</code></pre></div></details>
<p><strong>Pros:</strong></p>
<ul>
<li>Easy to understand</li>
<li>Uses analogy of class inheritance</li>
<li>No util functions</li>
</ul>
<p><strong>Cons:</strong></p>
<ul>
<li>Fragmented CSS</li>
<li>Additional components</li>
</ul>
<h1 id=7-using-a-global-class-name-with->7. Using a global class name with <code>&.</code></h1>
<p>Although potentially dangerous, styled-components allows you to decleare global classes. Combined with the <code>&.</code> selector, classes can be scoped however. It&rsquo;s important to point out that this will still cause problems for the component when there are other classes in the global scope with the same name.</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-tsx data-lang=tsx><span class=kr>import</span> <span class=nx>styled</span> <span class=kr>from</span> <span class=s1>&#39;@emotion/styled&#39;</span><span class=p>;</span>

<span class=kr>type</span> <span class=nx>IProps</span> <span class=o>=</span> <span class=p>{</span> <span class=nx>isVertical</span>: <span class=kt>boolean</span> <span class=p>};</span>

<span class=kr>const</span> <span class=nx>Box</span> <span class=o>=</span> <span class=nx>styled</span><span class=p>.</span><span class=nx>div</span><span class=sb>`
</span><span class=sb>  display: flex;
</span><span class=sb>  padding: 0.5rem;
</span><span class=sb>
</span><span class=sb>  &amp;.is_vertical {
</span><span class=sb>    justify-content: center;
</span><span class=sb>    flex-direction: column;
</span><span class=sb>    background: var(--red);
</span><span class=sb>  }
</span><span class=sb>
</span><span class=sb>  &amp;.is_horizontal {
</span><span class=sb>    align-items: center;
</span><span class=sb>    flex-direction: row;
</span><span class=sb>    background: var(--blue);
</span><span class=sb>  }
</span><span class=sb>`</span><span class=p>;</span>

<span class=kr>export</span> <span class=k>default</span> <span class=kd>function</span> <span class=nx>Card</span><span class=p>({</span> <span class=nx>isVertical</span> <span class=p>}</span><span class=o>:</span> <span class=nx>IProps</span><span class=p>)</span> <span class=p>{</span>
  <span class=k>return</span> <span class=p>(</span>
    <span class=p>&lt;</span><span class=nt>Box</span> <span class=na>className</span><span class=o>=</span><span class=p>{</span><span class=nx>isVertical</span> <span class=o>?</span> <span class=s1>&#39;is_vertical&#39;</span> <span class=o>:</span> <span class=s1>&#39;is_horizontal&#39;</span><span class=p>}&gt;</span>
      <span class=nx>Box7</span>
    <span class=p>&lt;/</span><span class=nt>Box</span><span class=p>&gt;</span>
  <span class=p>);</span>
<span class=p>}</span>
</code></pre></div><details>
<summary>Generated CSS</summary>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-css data-lang=css><span class=p>.</span><span class=nc>css-17agxao</span><span class=p>{</span><span class=k>display</span><span class=p>:</span><span class=kc>flex</span><span class=p>;</span><span class=k>padding</span><span class=p>:</span><span class=mf>0.5</span><span class=kt>rem</span><span class=p>;}</span>
<span class=p>.</span><span class=nc>css-17agxao</span><span class=p>.</span><span class=nc>is_vertical</span><span class=p>{</span><span class=k>justify-content</span><span class=p>:</span><span class=kc>center</span><span class=p>;</span><span class=k>flex-direction</span><span class=p>:</span><span class=kc>column</span><span class=p>;</span><span class=k>background</span><span class=p>:</span><span class=nf>var</span><span class=p>(</span><span class=o>--</span><span class=kc>red</span><span class=p>);}</span>
<span class=p>.</span><span class=nc>css-17agxao</span><span class=p>.</span><span class=nc>is_horizontal</span><span class=p>{</span><span class=k>align-items</span><span class=p>:</span><span class=kc>center</span><span class=p>;</span><span class=k>flex-direction</span><span class=p>:</span><span class=kc>row</span><span class=p>;</span><span class=k>background</span><span class=p>:</span><span class=nf>var</span><span class=p>(</span><span class=o>--</span><span class=kc>blue</span><span class=p>);}</span>
</code></pre></div></details>
<p><strong>Pros:</strong></p>
<ul>
<li>No fragmented CSS</li>
<li>Great readibility</li>
<li>Creates three css classes, rather than two with duplicated proper</li>
</ul>
<p><strong>Cons:</strong></p>
<ul>
<li><code>className</code> is not scoped and could collide with global classes with same name</li>
</ul>
<h1 id=8-using-a-unique-classname>8. Using a unique classname</h1>
<p>To avoid the problem above, one could come up with a way to generate unique and collision free class names.</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-tsx data-lang=tsx><span class=kr>import</span> <span class=nx>styled</span> <span class=kr>from</span> <span class=s1>&#39;@emotion/styled&#39;</span><span class=p>;</span>
<span class=kr>import</span> <span class=p>{</span> <span class=nx>generateStableClassName</span> <span class=p>}</span> <span class=kr>from</span> <span class=s1>&#39;utils&#39;</span><span class=p>;</span>

<span class=kr>type</span> <span class=nx>IProps</span> <span class=o>=</span> <span class=p>{</span> <span class=nx>isVertical</span>: <span class=kt>boolean</span> <span class=p>};</span>

<span class=kr>const</span> <span class=nx>cs</span> <span class=o>=</span> <span class=nx>generateStableClassName</span><span class=p>(</span><span class=s1>&#39;card&#39;</span><span class=p>);</span>

<span class=kr>const</span> <span class=nx>Box</span> <span class=o>=</span> <span class=nx>styled</span><span class=p>.</span><span class=nx>div</span><span class=sb>`
</span><span class=sb>  display: flex;
</span><span class=sb>  padding: 0.5rem;
</span><span class=sb>
</span><span class=sb>  &amp;.</span><span class=si>${</span><span class=nx>cs</span><span class=si>}</span><span class=sb>__is_vertical {
</span><span class=sb>    justify-content: center;
</span><span class=sb>    flex-direction: column;
</span><span class=sb>    background: var(--red);
</span><span class=sb>  }
</span><span class=sb>
</span><span class=sb>  &amp;.</span><span class=si>${</span><span class=nx>cs</span><span class=si>}</span><span class=sb>__is_horizontal {
</span><span class=sb>    align-items: center;
</span><span class=sb>    flex-direction: row;
</span><span class=sb>    background: var(--blue);
</span><span class=sb>  }
</span><span class=sb>`</span><span class=p>;</span>

<span class=kr>export</span> <span class=k>default</span> <span class=kd>function</span> <span class=nx>Card</span><span class=p>({</span> <span class=nx>isVertical</span> <span class=p>}</span><span class=o>:</span> <span class=nx>IProps</span><span class=p>)</span> <span class=p>{</span>
  <span class=k>return</span> <span class=p>(</span>
    <span class=p>&lt;</span><span class=nt>Box</span> <span class=na>className</span><span class=o>=</span><span class=p>{</span><span class=nx>isVertical</span> <span class=o>?</span> <span class=sb>`</span><span class=si>${</span><span class=nx>cs</span><span class=si>}</span><span class=sb>__is_vertical`</span> <span class=o>:</span> <span class=sb>`</span><span class=si>${</span><span class=nx>cs</span><span class=si>}</span><span class=sb>__is_horizontal`</span><span class=p>}&gt;</span>
      <span class=nx>Box8</span>
    <span class=p>&lt;/</span><span class=nt>Box</span><span class=p>&gt;</span>
  <span class=p>);</span>
<span class=p>}</span>
</code></pre></div><details>
<summary>Generated CSS</summary>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-css data-lang=css><span class=p>.</span><span class=nc>css-1a3ausu</span><span class=p>{</span><span class=k>display</span><span class=p>:</span><span class=kc>flex</span><span class=p>;</span><span class=k>padding</span><span class=p>:</span><span class=mf>0.5</span><span class=kt>rem</span><span class=p>;}</span>
<span class=p>.</span><span class=nc>css-1a3ausu</span><span class=p>.</span><span class=nc>css-5403ea20__is_vertical</span><span class=p>{</span><span class=k>justify-content</span><span class=p>:</span><span class=kc>center</span><span class=p>;</span><span class=k>flex-direction</span><span class=p>:</span><span class=kc>column</span><span class=p>;</span><span class=k>background</span><span class=p>:</span><span class=nf>var</span><span class=p>(</span><span class=o>--</span><span class=kc>red</span><span class=p>);}.</span><span class=nc>css-1a3ausu</span><span class=p>.</span><span class=nc>css-5403ea20__is_horizontal</span><span class=p>{</span><span class=k>align-items</span><span class=p>:</span><span class=kc>center</span><span class=p>;</span><span class=k>flex-direction</span><span class=p>:</span><span class=kc>row</span><span class=p>;</span><span class=k>background</span><span class=p>:</span><span class=nf>var</span><span class=p>(</span><span class=o>--</span><span class=kc>blue</span><span class=p>);}</span>
</code></pre></div></details>
<details>
<summary>Implementation - How it works</summary>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-ts data-lang=ts><span class=c1>// For example we could add a unique prefix (`csx`) that would reduce the risk of class name collisions.
</span><span class=c1>// Additionally, we could hash a keyword to shorten the classname
</span><span class=c1></span>
<span class=kd>function</span> <span class=nx>generateStableClassName</span><span class=p>(</span><span class=nx>keyword</span><span class=p>)</span> <span class=p>{</span>
  <span class=k>return</span> <span class=sb>`csx-</span><span class=si>${</span><span class=nx>hash</span><span class=p>(</span><span class=nx>keyword</span><span class=p>)</span><span class=si>}</span><span class=sb>`</span><span class=p>;</span>
<span class=p>}</span>

<span class=c1>// This is a better hashing function that the one used above
</span><span class=c1></span><span class=kd>function</span> <span class=nx>hash</span><span class=p>(</span><span class=nx>b</span><span class=p>)</span> <span class=p>{</span>
  <span class=kd>let</span> <span class=nx>a</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
  <span class=kd>let</span> <span class=nx>c</span> <span class=o>=</span> <span class=nx>b</span><span class=p>.</span><span class=nx>length</span><span class=p>;</span>
  <span class=k>while</span> <span class=p>(</span><span class=nx>c</span><span class=o>--</span><span class=p>)</span> <span class=p>(</span><span class=nx>a</span> <span class=o>+=</span> <span class=nx>b</span><span class=p>.</span><span class=nx>charCodeAt</span><span class=p>(</span><span class=nx>c</span><span class=p>)),</span> <span class=p>(</span><span class=nx>a</span> <span class=o>+=</span> <span class=nx>a</span> <span class=o>&lt;&lt;</span> <span class=mi>10</span><span class=p>),</span> <span class=p>(</span><span class=nx>a</span> <span class=o>^=</span> <span class=nx>a</span> <span class=o>&gt;&gt;</span> <span class=mi>6</span><span class=p>);</span>
  <span class=nx>a</span> <span class=o>+=</span> <span class=nx>a</span> <span class=o>&lt;&lt;</span> <span class=mi>3</span><span class=p>;</span>
  <span class=nx>a</span> <span class=o>^=</span> <span class=nx>a</span> <span class=o>&gt;&gt;</span> <span class=mi>11</span><span class=p>;</span>
  <span class=k>return</span> <span class=p>(((</span><span class=nx>a</span> <span class=o>+</span> <span class=p>(</span><span class=nx>a</span> <span class=o>&lt;&lt;</span> <span class=mi>15</span><span class=p>))</span> <span class=o>&amp;</span> <span class=mi>4294967295</span><span class=p>)</span> <span class=o>&gt;&gt;&gt;</span> <span class=mi>0</span><span class=p>).</span><span class=nx>toString</span><span class=p>(</span><span class=mi>16</span><span class=p>);</span>
<span class=p>}</span>
</code></pre></div></details>
<p><strong>Pros:</strong></p>
<ul>
<li>Reduced risk of class name collisions in global scoped</li>
<li>3 classes</li>
</ul>
<p><strong>Cons:</strong></p>
<ul>
<li>Keyword must be unique</li>
<li>Can not use random number which would be unstable between SSR and CSR</li>
<li><code>__is_vertical</code>/<code>__is_horizontal</code> in class name</li>
</ul>
<h1 id=9-using-a-classname-generator>9. Using a classname generator</h1>
<p>To avoid having <code>__is_vertical</code>/<code>__is_horizontal</code> in the class name, we could generate multiple globally unique class names.</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-tsx data-lang=tsx><span class=kr>import</span> <span class=nx>styled</span> <span class=kr>from</span> <span class=s1>&#39;@emotion/styled&#39;</span><span class=p>;</span>
<span class=kr>import</span> <span class=p>{</span> <span class=nx>makeLocalScope</span> <span class=p>}</span> <span class=kr>from</span> <span class=s1>&#39;utils&#39;</span><span class=p>;</span>

<span class=kr>type</span> <span class=nx>IProps</span> <span class=o>=</span> <span class=p>{</span> <span class=nx>isVertical</span>: <span class=kt>boolean</span> <span class=p>};</span>

<span class=kr>const</span> <span class=nx>local</span> <span class=o>=</span> <span class=nx>makeLocalScope</span><span class=p>(</span><span class=s1>&#39;Card&#39;</span><span class=p>);</span>

<span class=kr>const</span> <span class=nx>Box</span> <span class=o>=</span> <span class=nx>styled</span><span class=p>.</span><span class=nx>div</span><span class=sb>`
</span><span class=sb>  display: flex;
</span><span class=sb>  padding: 0.5rem;
</span><span class=sb>
</span><span class=sb>  &amp;.</span><span class=si>${</span><span class=nx>local</span><span class=p>(</span><span class=s1>&#39;is_vertical&#39;</span><span class=p>)</span><span class=si>}</span><span class=sb> {
</span><span class=sb>    justify-content: center;
</span><span class=sb>    flex-direction: column;
</span><span class=sb>    background: var(--red);
</span><span class=sb>  }
</span><span class=sb>
</span><span class=sb>  &amp;.</span><span class=si>${</span><span class=nx>local</span><span class=p>(</span><span class=s1>&#39;is_horizontal&#39;</span><span class=p>)</span><span class=si>}</span><span class=sb> {
</span><span class=sb>    align-items: center;
</span><span class=sb>    flex-direction: row;
</span><span class=sb>    background: var(--blue);
</span><span class=sb>  }
</span><span class=sb>`</span><span class=p>;</span>

<span class=kr>export</span> <span class=k>default</span> <span class=kd>function</span> <span class=nx>Card</span><span class=p>({</span> <span class=nx>isVertical</span> <span class=p>}</span><span class=o>:</span> <span class=nx>IProps</span><span class=p>)</span> <span class=p>{</span>
  <span class=k>return</span> <span class=p>(</span>
    <span class=p>&lt;</span><span class=nt>Box</span> <span class=na>className</span><span class=o>=</span><span class=p>{</span><span class=nx>isVertical</span> <span class=o>?</span> <span class=nx>local</span><span class=p>(</span><span class=sb>`is_vertical`</span><span class=p>)</span> <span class=o>:</span> <span class=nx>local</span><span class=p>(</span><span class=sb>`is_horizontal`</span><span class=p>)}&gt;</span>
      <span class=nx>Box9</span>
    <span class=p>&lt;/</span><span class=nt>Box</span><span class=p>&gt;</span>
  <span class=p>);</span>
<span class=p>}</span>
</code></pre></div><details>
<summary>Generated CSS</summary>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-css data-lang=css><span class=p>.</span><span class=nc>css-nbsacf</span><span class=p>{</span><span class=k>display</span><span class=p>:</span><span class=kc>flex</span><span class=p>;</span><span class=k>padding</span><span class=p>:</span><span class=mf>0.5</span><span class=kt>rem</span><span class=p>;}</span>
<span class=p>.</span><span class=nc>css-nbsacf</span><span class=p>.</span><span class=nc>csx-2ef1a8d0</span><span class=p>{</span><span class=k>justify-content</span><span class=p>:</span><span class=kc>center</span><span class=p>;</span><span class=k>flex-direction</span><span class=p>:</span><span class=kc>column</span><span class=p>;</span><span class=k>background</span><span class=p>:</span><span class=nf>var</span><span class=p>(</span><span class=o>--</span><span class=kc>red</span><span class=p>);}</span>
<span class=p>.</span><span class=nc>css-nbsacf</span><span class=p>.</span><span class=nc>csx-89843ad3</span><span class=p>{</span><span class=k>align-items</span><span class=p>:</span><span class=kc>center</span><span class=p>;</span><span class=k>flex-direction</span><span class=p>:</span><span class=kc>row</span><span class=p>;</span><span class=k>background</span><span class=p>:</span><span class=nf>var</span><span class=p>(</span><span class=o>--</span><span class=kc>blue</span><span class=p>);}</span>
</code></pre></div></details>
<details>
<summary>Implementation - How it works</summary>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-ts data-lang=ts><span class=kr>const</span> <span class=nx>makeLocalScope</span> <span class=o>=</span> <span class=p>(</span><span class=nx>scope</span><span class=p>)</span> <span class=o>=&gt;</span> <span class=p>(</span><span class=nx>prop</span><span class=p>)</span> <span class=o>=&gt;</span> <span class=sb>`csx-</span><span class=si>${</span><span class=nx>hash</span><span class=p>(</span><span class=sb>`</span><span class=si>${</span><span class=nx>scope</span><span class=si>}</span><span class=sb>-</span><span class=si>${</span><span class=nx>prop</span><span class=si>}</span><span class=sb>`</span><span class=p>)</span><span class=si>}</span><span class=sb>`</span><span class=p>;</span>

<span class=c1>// function hash: See solution 8
</span></code></pre></div></details>
<p><strong>Pros:</strong></p>
<ul>
<li>No more <code>__is_vertical</code>/<code>__is_horizontal</code> in class name</li>
</ul>
<p><strong>Cons:</strong></p>
<ul>
<li>Not SSR/CSR stable if random numbers are used in hash</li>
<li>Class names must be wrapped in <code>local</code> when used</li>
</ul>
<h1 id=10-auto-replace-class-names-plus-react-18-useid>10. Auto-replace class names (plus React 18 useId)</h1>
<p>Instead of making you remeber to always wrap your class names in <code>local</code>, we could automatically replace them by using a wrapper component that translates class names.</p>
<p>This solution also uses the new <code>useId</code> hook which <a href=https://github.com/reactwg/react-18/discussions/111>will be introduced</a> in React 18 to create stable Ids between server an client.</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-tsx data-lang=tsx><span class=kr>import</span> <span class=nx>styled</span> <span class=kr>from</span> <span class=s1>&#39;@emotion/styled&#39;</span><span class=p>;</span>

<span class=kr>type</span> <span class=nx>IProps</span> <span class=o>=</span> <span class=p>{</span> <span class=nx>isVertical</span>: <span class=kt>boolean</span> <span class=p>};</span>

<span class=kr>const</span> <span class=nx>BoxInternal</span> <span class=o>=</span> <span class=nx>styled</span><span class=p>.</span><span class=nx>div</span><span class=o>&lt;</span><span class=p>{</span> <span class=nx>id</span>: <span class=kt>string</span> <span class=p>}</span><span class=o>&gt;</span><span class=sb>`
</span><span class=sb>  display: flex;
</span><span class=sb>  padding: 0.5rem;
</span><span class=sb>
</span><span class=sb>  </span><span class=si>${</span><span class=nx>local</span><span class=p>(</span><span class=s1>&#39;is_vertical&#39;</span><span class=p>)</span><span class=si>}</span><span class=sb> {
</span><span class=sb>    justify-content: center;
</span><span class=sb>    flex-direction: column;
</span><span class=sb>    background: var(--red);
</span><span class=sb>  }
</span><span class=sb>
</span><span class=sb>  </span><span class=si>${</span><span class=nx>local</span><span class=p>(</span><span class=s1>&#39;is_horizontal&#39;</span><span class=p>)</span><span class=si>}</span><span class=sb> {
</span><span class=sb>    align-items: center;
</span><span class=sb>    flex-direction: row;
</span><span class=sb>    background: var(--blue);
</span><span class=sb>  }
</span><span class=sb>`</span><span class=p>;</span>

<span class=kr>const</span> <span class=nx>Box</span> <span class=o>=</span> <span class=nx>WithWrapper</span><span class=p>(</span><span class=nx>BoxInternal</span><span class=p>);</span>

<span class=kr>export</span> <span class=k>default</span> <span class=kd>function</span> <span class=nx>Card</span><span class=p>({</span> <span class=nx>isVertical</span> <span class=p>}</span><span class=o>:</span> <span class=nx>IProps</span><span class=p>)</span> <span class=p>{</span>
  <span class=k>return</span> <span class=p>(</span>
    <span class=p>&lt;</span><span class=nt>Box</span> <span class=na>className</span><span class=o>=</span><span class=p>{</span><span class=nx>isVertical</span> <span class=o>?</span> <span class=s1>&#39;is_vertical&#39;</span> <span class=o>:</span> <span class=s1>&#39;is_horizontal&#39;</span><span class=p>}&gt;</span><span class=nx>Box10</span><span class=p>&lt;/</span><span class=nt>Box</span><span class=p>&gt;</span>
  <span class=p>);</span>
<span class=p>}</span>

</code></pre></div><details>
<summary>Generated CSS</summary>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-css data-lang=css></code></pre></div></details>
<details>
<summary>Implementation - How it works</summary>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-ts data-lang=ts><span class=kr>import</span> <span class=p>{</span> <span class=nx>useId</span> <span class=p>}</span> <span class=kr>from</span> <span class=s1>&#39;react&#39;</span><span class=p>;</span> <span class=c1>// React18 only
</span><span class=c1></span>
<span class=kd>function</span> <span class=nx>hash</span><span class=p>(</span><span class=nx>x</span><span class=p>)</span> <span class=p>{</span>
  <span class=k>return</span> <span class=nx>btoa</span><span class=p>(</span><span class=nx>x</span><span class=p>).</span><span class=nx>substring</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mi>6</span><span class=p>);</span>
<span class=p>}</span>

<span class=kd>function</span> <span class=nx>WithWrapper</span><span class=p>(</span><span class=nx>Internal</span><span class=p>)</span> <span class=p>{</span>
  <span class=k>return</span> <span class=kd>function</span> <span class=nx>StyledWrapper</span><span class=p>({</span> <span class=nx>className</span><span class=p>,</span> <span class=p>...</span><span class=nx>rest</span> <span class=p>})</span> <span class=p>{</span>
    <span class=kr>const</span> <span class=nx>id</span> <span class=o>=</span> <span class=nx>hash</span><span class=p>(</span><span class=nx>useId</span><span class=p>());</span>

    <span class=kr>const</span> <span class=nx>classNamesScoped</span> <span class=o>=</span> <span class=nx>className</span>
      <span class=p>.</span><span class=nx>split</span><span class=p>(</span><span class=s1>&#39; &#39;</span><span class=p>)</span>
      <span class=p>.</span><span class=nx>map</span><span class=p>((</span><span class=nx>c</span><span class=p>)</span> <span class=o>=&gt;</span> <span class=sb>`csx-</span><span class=si>${</span><span class=nx>id</span><span class=si>}</span><span class=sb>-</span><span class=si>${</span><span class=nx>c</span><span class=si>}</span><span class=sb>`</span><span class=p>)</span>
      <span class=p>.</span><span class=nx>join</span><span class=p>(</span><span class=s1>&#39; &#39;</span><span class=p>);</span>

    <span class=k>return</span> <span class=p>&lt;</span><span class=nt>Internal</span> <span class=na>className</span><span class=o>=</span><span class=p>{</span><span class=nx>classNamesScoped</span><span class=p>}</span> <span class=na>id</span><span class=o>=</span><span class=p>{</span><span class=nx>id</span><span class=p>}</span> <span class=p>{</span><span class=na>...rest</span><span class=p>}</span> <span class=p>/&gt;;</span>
  <span class=p>};</span>
<span class=p>}</span>

<span class=kr>export</span> <span class=kr>const</span> <span class=nx>local</span> <span class=o>=</span> <span class=p>(</span><span class=nx>name</span><span class=p>)</span> <span class=o>=&gt;</span> <span class=p>(</span><span class=nx>props</span><span class=p>)</span> <span class=o>=&gt;</span> <span class=sb>`&amp;.csx-</span><span class=si>${</span><span class=nx>props</span><span class=p>.</span><span class=nx>id</span><span class=si>}</span><span class=sb>-</span><span class=si>${</span><span class=nx>name</span><span class=si>}</span><span class=sb>`</span><span class=p>;</span>
</code></pre></div></details>
<p><strong>Pros:</strong></p>
<ul>
<li>Easy to read CSS</li>
<li>Classes based into <code>&lt;Box /></code> do not need to be scoped / wrapped with <code>local</code></li>
</ul>
<p><strong>Cons:</strong></p>
<ul>
<li>Requires wrapping components</li>
<li>Requires adding <code>{ id: string }</code> type definition</li>
</ul>
<h1 id=11-using-a-classname-generator-based-on-css>11. Using a classname generator based on <code>css</code></h1>
<p>To take it one step further, styled-components allows you to use the <code>css</code> property to generate class names, which come with a globally unique classnames. Alternatively we can create our own hash based on the CSS content. However both approaches require wrapping <code>.is_vertical</code>/<code>.is_horizontal</code> in a <code>css</code> function.</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-tsx data-lang=tsx><span class=kr>import</span> <span class=p>{</span> <span class=nx>css</span> <span class=p>}</span> <span class=kr>from</span> <span class=s1>&#39;@emotion/react&#39;</span><span class=p>;</span>
<span class=kr>import</span> <span class=nx>styled</span> <span class=kr>from</span> <span class=s1>&#39;@emotion/styled&#39;</span><span class=p>;</span>
<span class=kr>import</span> <span class=p>{</span> <span class=nx>local</span><span class=p>,</span> <span class=nx>styles</span> <span class=p>}</span> <span class=kr>from</span> <span class=s2>&#34;utils&#34;</span><span class=p>;</span>

<span class=kr>type</span> <span class=nx>IProps</span> <span class=o>=</span> <span class=p>{</span> <span class=nx>isVertical</span>: <span class=kt>boolean</span> <span class=p>};</span>

<span class=kr>const</span> <span class=nx>Box</span> <span class=o>=</span> <span class=nx>styled</span><span class=p>.</span><span class=nx>div</span><span class=sb>`
</span><span class=sb>  display: flex;
</span><span class=sb>  padding: 0.5rem;
</span><span class=sb>
</span><span class=sb>  </span><span class=si>${</span><span class=nx>local</span><span class=p>(</span>
    <span class=s1>&#39;is_vertical&#39;</span><span class=p>,</span>
    <span class=nx>css</span><span class=sb>`
</span><span class=sb>      justify-content: center;
</span><span class=sb>      flex-direction: column;
</span><span class=sb>      background: var(--red);
</span><span class=sb>    `</span><span class=p>,</span>
  <span class=p>)</span><span class=si>}</span><span class=sb>
</span><span class=sb>
</span><span class=sb>  </span><span class=si>${</span><span class=nx>local</span><span class=p>(</span>
    <span class=s1>&#39;is_horizontal&#39;</span><span class=p>,</span>
    <span class=nx>css</span><span class=sb>`
</span><span class=sb>      align-items: center;
</span><span class=sb>      flex-direction: row;
</span><span class=sb>      background: var(--blue);
</span><span class=sb>    `</span><span class=p>,</span>
  <span class=p>)</span><span class=si>}</span><span class=sb>
</span><span class=sb>`</span><span class=p>;</span>

<span class=kr>export</span> <span class=k>default</span> <span class=kd>function</span> <span class=nx>Card</span><span class=p>({</span> <span class=nx>isVertical</span> <span class=p>}</span><span class=o>:</span> <span class=nx>IProps</span><span class=p>)</span> <span class=p>{</span>
  <span class=k>return</span> <span class=p>(</span>
    <span class=p>&lt;</span><span class=nt>Box</span> <span class=na>className</span><span class=o>=</span><span class=p>{</span><span class=nx>isVertical</span> <span class=o>?</span> <span class=nx>styles.is_vertical</span> : <span class=kt>styles.is_horizontal</span><span class=p>}&gt;</span>
      <span class=nx>Box11</span>
    <span class=p>&lt;/</span><span class=nt>Box</span><span class=p>&gt;</span>
  <span class=p>);</span>
<span class=p>}</span>
</code></pre></div><details>
<summary>Generated CSS</summary>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-css data-lang=css><span class=p>.</span><span class=nc>css-2yb6us</span><span class=p>{</span><span class=k>display</span><span class=p>:</span><span class=kc>flex</span><span class=p>;</span><span class=k>padding</span><span class=p>:</span><span class=mf>0.5</span><span class=kt>rem</span><span class=p>;}</span>
<span class=p>.</span><span class=nc>css-2yb6us</span><span class=p>.</span><span class=nc>css-1vbbust</span><span class=p>{</span><span class=k>justify-content</span><span class=p>:</span><span class=kc>center</span><span class=p>;</span><span class=k>flex-direction</span><span class=p>:</span><span class=kc>column</span><span class=p>;</span><span class=k>background</span><span class=p>:</span><span class=nf>var</span><span class=p>(</span><span class=o>--</span><span class=kc>red</span><span class=p>);}</span>
<span class=p>.</span><span class=nc>css-2yb6us</span><span class=p>.</span><span class=nc>css-pyot8z</span><span class=p>{</span><span class=k>align-items</span><span class=p>:</span><span class=kc>center</span><span class=p>;</span><span class=k>flex-direction</span><span class=p>:</span><span class=kc>row</span><span class=p>;</span><span class=k>background</span><span class=p>:</span><span class=nf>var</span><span class=p>(</span><span class=o>--</span><span class=kc>blue</span><span class=p>);}</span>
</code></pre></div></details>
<details>
<summary>Implementation - How it works</summary>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-ts data-lang=ts><span class=kr>export</span> <span class=kr>const</span> <span class=nx>styles</span>: <span class=kt>Record</span><span class=p>&lt;</span><span class=nt>string</span><span class=err>,</span> <span class=na>string</span><span class=p>&gt;</span> <span class=o>=</span> <span class=p>{};</span>

<span class=kr>export</span> <span class=kr>const</span> <span class=nx>local</span> <span class=o>=</span> <span class=p>(</span><span class=nx>name</span><span class=p>,</span> <span class=nx>css</span><span class=p>)</span> <span class=o>=&gt;</span> <span class=p>()</span> <span class=o>=&gt;</span> <span class=p>{</span>
  <span class=c1>// careful: css.name can start with a number, which is not a valid CSS class
</span><span class=c1></span>  <span class=c1>// name. We&#39;ll prefix the class name with &#34;css-&#34; to avoid this.
</span><span class=c1></span>  <span class=nx>styles</span><span class=p>[</span><span class=nx>name</span><span class=p>]</span> <span class=o>=</span> <span class=sb>`css-</span><span class=si>${</span><span class=nx>hash</span><span class=p>(</span><span class=nx>css</span><span class=p>)</span><span class=si>}</span><span class=sb>`</span><span class=p>;</span>
  <span class=k>return</span> <span class=p>{</span> <span class=p>[</span><span class=sb>`&amp;.</span><span class=si>${</span><span class=nx>styles</span><span class=p>[</span><span class=nx>name</span><span class=p>]</span><span class=si>}</span><span class=sb>`</span><span class=p>]</span><span class=o>:</span> <span class=nx>css</span> <span class=p>};</span>
<span class=p>};</span>

<span class=c1>// `SerializedStyles` come with a generated class name, we can just use that
</span><span class=c1></span><span class=kr>const</span> <span class=nx>hash</span> <span class=o>=</span> <span class=p>(</span><span class=nx>css</span><span class=o>:</span> <span class=p>{</span> <span class=nx>name</span>: <span class=kt>string</span> <span class=p>})</span> <span class=o>=&gt;</span> <span class=nx>css</span><span class=p>.</span><span class=nx>name</span><span class=p>;</span>

<span class=c1>// ...or generate our own hash based on the content (keeping it simple here, there are certainly better hashing functions)
</span><span class=c1></span><span class=kr>const</span> <span class=nx>hash</span> <span class=o>=</span> <span class=p>(</span><span class=nx>list</span><span class=o>:</span> <span class=p>{</span> <span class=nx>styles</span>: <span class=kt>string</span> <span class=p>})</span> <span class=o>=&gt;</span>
  <span class=nx>list</span><span class=p>.</span><span class=nx>styles</span>
    <span class=p>.</span><span class=nx>split</span><span class=p>(</span><span class=s1>&#39;&#39;</span><span class=p>)</span>
    <span class=p>.</span><span class=nx>reduce</span><span class=p>((</span><span class=nx>acc</span><span class=p>,</span> <span class=nx>item</span><span class=p>)</span> <span class=o>=&gt;</span> <span class=nx>acc</span> <span class=o>+</span> <span class=nx>item</span><span class=p>.</span><span class=nx>charCodeAt</span><span class=p>(</span><span class=mi>0</span><span class=p>),</span> <span class=mi>0</span><span class=p>)</span>
    <span class=p>.</span><span class=nx>toString</span><span class=p>(</span><span class=mi>36</span><span class=p>);</span>
</code></pre></div></details>
<p><strong>Pros:</strong></p>
<ul>
<li>Creates three css classes, rather than two with duplicated properties</li>
</ul>
<p><strong>Cons:</strong></p>
<ul>
<li>Less nice to read CSS</li>
<li><strong>Not stable between client and server</strong> (Shouldn&rsquo;t be used for server side rendering)</li>
</ul>
<h1 id=12-pre-generating-scoped-class-names>12. Pre-generating scoped class names</h1>
<p>Wouldn&rsquo;t it be nice if <code>styles</code> were more scoped and also had typescript support, so we could check whether <code>styles.is_vertical</code> does exist or not. And also get auto-completion.</p>
<p>Also while we&rsquo;re at it, let&rsquo;s move the <code>css</code> class name generation out and create new classes in the background.</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-tsx data-lang=tsx><span class=kr>import</span> <span class=p>{</span> <span class=nx>css</span> <span class=p>}</span> <span class=kr>from</span> <span class=s1>&#39;@emotion/react&#39;</span><span class=p>;</span>
<span class=kr>import</span> <span class=nx>styled</span> <span class=kr>from</span> <span class=s1>&#39;@emotion/styled&#39;</span><span class=p>;</span>
<span class=kr>import</span> <span class=p>{</span> <span class=nx>scoped</span> <span class=p>}</span> <span class=kr>from</span> <span class=s2>&#34;utils&#34;</span><span class=p>;</span>

<span class=kr>type</span> <span class=nx>IProps</span> <span class=o>=</span> <span class=p>{</span> <span class=nx>isVertical</span>: <span class=kt>boolean</span> <span class=p>};</span>

<span class=kr>const</span> <span class=nx>styles</span> <span class=o>=</span> <span class=nx>scoped</span><span class=p>([</span><span class=s1>&#39;is_vertical&#39;</span><span class=p>,</span> <span class=s1>&#39;is_horizontal&#39;</span><span class=p>]</span> <span class=kr>as</span> <span class=kr>const</span><span class=p>);</span>

<span class=kr>const</span> <span class=nx>Box</span> <span class=o>=</span> <span class=nx>styled</span><span class=p>.</span><span class=nx>div</span><span class=sb>`
</span><span class=sb>  display: flex;
</span><span class=sb>  padding: 0.5rem;
</span><span class=sb>
</span><span class=sb>  &amp;.</span><span class=si>${</span><span class=nx>styles</span><span class=p>.</span><span class=nx>is_vertical</span><span class=si>}</span><span class=sb> {
</span><span class=sb>    justify-content: center;
</span><span class=sb>    flex-direction: column;
</span><span class=sb>    background: var(--red);
</span><span class=sb>  }
</span><span class=sb>
</span><span class=sb>  &amp;.</span><span class=si>${</span><span class=nx>styles</span><span class=p>.</span><span class=nx>is_horizontal</span><span class=si>}</span><span class=sb> {
</span><span class=sb>    align-items: center;
</span><span class=sb>    flex-direction: row;
</span><span class=sb>    background: var(--blue);
</span><span class=sb>  }
</span><span class=sb>`</span><span class=p>;</span>

<span class=kr>export</span> <span class=k>default</span> <span class=kd>function</span> <span class=nx>Card</span><span class=p>({</span> <span class=nx>isVertical</span> <span class=p>}</span><span class=o>:</span> <span class=nx>IProps</span><span class=p>)</span> <span class=p>{</span>
  <span class=k>return</span> <span class=p>(</span>
    <span class=p>&lt;</span><span class=nt>Box</span> <span class=na>className</span><span class=o>=</span><span class=p>{</span><span class=nx>isVertical</span> <span class=o>?</span> <span class=nx>styles.is_vertical</span> : <span class=kt>styles.is_horizontal</span><span class=p>}&gt;</span>
      <span class=nx>Box12</span>
    <span class=p>&lt;/</span><span class=nt>Box</span><span class=p>&gt;</span>
  <span class=p>);</span>
<span class=p>}</span>

</code></pre></div><details>
<summary>Generated CSS</summary>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-css data-lang=css></code></pre></div></details>
<details>
<summary>Implementation - How it works</summary>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-ts data-lang=ts><span class=kd>let</span> <span class=nx>counter</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>

<span class=kr>export</span> <span class=kd>function</span> <span class=nx>scoped</span><span class=p>&lt;</span><span class=nt>T</span> <span class=na>extends</span> <span class=na>readonly</span> <span class=na>string</span><span class=err>[]</span><span class=p>&gt;(</span>
  <span class=nx>list</span>: <span class=kt>T</span><span class=p>,</span>
<span class=p>)</span><span class=o>:</span> <span class=p>{</span> <span class=p>[</span><span class=nx>P</span> <span class=k>in</span> <span class=nx>T</span><span class=p>[</span><span class=kt>number</span><span class=p>]]</span><span class=o>:</span> <span class=kt>string</span> <span class=p>}</span> <span class=p>{</span>
  <span class=kd>function</span> <span class=nx>getScopedClassName</span><span class=p>(</span><span class=nx>cx</span><span class=p>)</span> <span class=p>{</span>
    <span class=c1>// By adding a globally unique property, we can force emotion to generate a new CSS class everytime
</span><span class=c1></span>    <span class=kr>const</span> <span class=nx>placeholderClass</span> <span class=o>=</span> <span class=nx>css</span><span class=sb>`
</span><span class=sb>      content: </span><span class=si>${</span><span class=nx>cx</span><span class=si>}</span><span class=sb>-</span><span class=si>${</span><span class=nx>counter</span><span class=o>++</span><span class=si>}</span><span class=sb>;
</span><span class=sb>      label: ;
</span><span class=sb>    `</span><span class=p>;</span>
    <span class=k>return</span> <span class=sb>`css-</span><span class=si>${</span><span class=nx>placeholderClass</span><span class=p>.</span><span class=nx>name</span><span class=si>}</span><span class=sb>`</span><span class=p>;</span>
  <span class=p>}</span>

  <span class=k>return</span> <span class=nx>list</span><span class=p>.</span><span class=nx>reduce</span><span class=p>&lt;</span><span class=nt>any</span><span class=p>&gt;((</span><span class=nx>styles</span><span class=p>,</span> <span class=nx>item</span><span class=p>)</span> <span class=o>=&gt;</span> <span class=p>{</span>
    <span class=nx>styles</span><span class=p>[</span><span class=nx>item</span><span class=p>]</span> <span class=o>=</span> <span class=nx>getScopedClassName</span><span class=p>(</span><span class=nx>item</span><span class=p>);</span>
    <span class=k>return</span> <span class=nx>styles</span><span class=p>;</span>
  <span class=p>},</span> <span class=p>{});</span>
<span class=p>}</span>
</code></pre></div></details>
<p><strong>Pros:</strong></p>
<ul>
<li>CSS not fragmented</li>
<li>Good Typescript support. <code>styles</code> will be fully typed.</li>
<li>Similar to CSS modules</li>
</ul>
<p><strong>Cons:</strong></p>
<ul>
<li>Requires pre-defining the scoped class names</li>
<li>Relies on hacks to trick emotion into generating class names</li>
<li>Relies on counter which needs to be stable between SSR and CSR</li>
</ul>
<h1 id=13-using-a-placeholder-symbol--augmenting-classname-through-a-wrapper-component>13. Using a placeholder Symbol + augmenting <code>className</code> through a wrapper component</h1>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-tsx data-lang=tsx><span class=kr>import</span> <span class=nx>styled</span> <span class=kr>from</span> <span class=s1>&#39;@emotion/styled&#39;</span><span class=p>;</span>

<span class=kr>type</span> <span class=nx>IProps</span> <span class=o>=</span> <span class=p>{</span> <span class=nx>isVertical</span>: <span class=kt>boolean</span> <span class=p>};</span>
<span class=kr>const</span> <span class=nx>LOCAL</span> <span class=o>=</span> <span class=nx>Symbol</span><span class=p>(</span><span class=s1>&#39;PLACEHOLER_SYMBOL&#39;</span><span class=p>);</span>

<span class=kr>const</span> <span class=nx>Box</span> <span class=o>=</span> <span class=nx>styled</span><span class=p>.</span><span class=nx>withLocal</span><span class=p>.</span><span class=nx>div</span><span class=sb>`
</span><span class=sb>  display: flex;
</span><span class=sb>  padding: 0.5rem;
</span><span class=sb>
</span><span class=sb>  </span><span class=si>${</span><span class=nx>LOCAL</span><span class=si>}</span><span class=sb>is_vertical {
</span><span class=sb>    justify-content: center;
</span><span class=sb>    flex-direction: column;
</span><span class=sb>    background: var(--red);;
</span><span class=sb>  }
</span><span class=sb>
</span><span class=sb>  </span><span class=si>${</span><span class=nx>LOCAL</span><span class=si>}</span><span class=sb>is_horizontal {
</span><span class=sb>    align-items: center;
</span><span class=sb>    flex-direction: row;
</span><span class=sb>    background: var(--blue);;
</span><span class=sb>  }
</span><span class=sb>`</span><span class=p>;</span>

<span class=kr>export</span> <span class=k>default</span> <span class=kd>function</span> <span class=nx>Card</span><span class=p>({</span> <span class=nx>isVertical</span> <span class=p>}</span><span class=o>:</span> <span class=nx>IProps</span><span class=p>)</span> <span class=p>{</span>
  <span class=k>return</span> <span class=p>(</span>
    <span class=p>&lt;</span><span class=nt>Box</span> <span class=na>className</span><span class=o>=</span><span class=p>{</span><span class=nx>isVertical</span> <span class=o>?</span> <span class=sb>`is_vertical`</span> <span class=o>:</span> <span class=sb>`is_horizontal`</span><span class=p>}&gt;</span><span class=nx>Box13</span><span class=p>&lt;/</span><span class=nt>Box</span><span class=p>&gt;</span>
  <span class=p>);</span>
<span class=p>}</span>
</code></pre></div><details>
<summary>Generated CSS</summary>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-css data-lang=css><span class=nt>TBD</span>
</code></pre></div></details>
<details>
<summary>Implementation - How it works</summary>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-ts data-lang=ts><span class=kd>function</span> <span class=nx>getContentHash</span><span class=p>(</span><span class=nx>strings</span><span class=p>)</span> <span class=p>{</span>
  <span class=c1>// function hash: See solution 8
</span><span class=c1></span>  <span class=k>return</span> <span class=nx>hash</span><span class=p>(</span><span class=nx>strings</span><span class=p>.</span><span class=nx>raw</span><span class=p>.</span><span class=nx>join</span><span class=p>(</span><span class=s1>&#39;&#39;</span><span class=p>));</span>
<span class=p>}</span>

<span class=kd>function</span> <span class=nx>makeTagTemplateForHTMLTagName</span><span class=p>(</span><span class=nx>tagName</span><span class=p>)</span> <span class=p>{</span>
  <span class=k>return</span> <span class=kd>function</span> <span class=nx>tag</span><span class=p>(</span><span class=nx>strings</span><span class=p>,</span> <span class=p>...</span><span class=nx>args</span><span class=p>)</span> <span class=p>{</span>
    <span class=kr>const</span> <span class=nx>hash</span> <span class=o>=</span> <span class=s1>&#39;csx-&#39;</span> <span class=o>+</span> <span class=nx>getContentHash</span><span class=p>(</span><span class=nx>strings</span><span class=p>);</span>

    <span class=nx>args</span> <span class=o>=</span> <span class=nx>args</span><span class=p>.</span><span class=nx>map</span><span class=p>((</span><span class=nx>arg</span><span class=p>)</span> <span class=o>=&gt;</span> <span class=p>(</span><span class=nx>arg</span> <span class=o>===</span> <span class=nx>LOCAL</span> <span class=o>?</span> <span class=sb>`&amp;.</span><span class=si>${</span><span class=nx>hash</span><span class=si>}</span><span class=sb>-`</span> <span class=o>:</span> <span class=nx>arg</span><span class=p>));</span>

    <span class=kr>const</span> <span class=nx>Component</span> <span class=o>=</span> <span class=nx>styled</span><span class=p>[</span><span class=nx>tagName</span><span class=p>](</span><span class=nx>strings</span><span class=p>,</span> <span class=p>...</span><span class=nx>args</span><span class=p>);</span>

    <span class=k>return</span> <span class=kd>function</span> <span class=nx>Wrapper</span><span class=p>({</span> <span class=nx>className</span><span class=p>,</span> <span class=nx>children</span><span class=p>,</span> <span class=p>...</span><span class=nx>rest</span> <span class=p>})</span> <span class=p>{</span>
      <span class=kr>const</span> <span class=nx>classNameNew</span> <span class=o>=</span> <span class=nx>className</span>
        <span class=p>.</span><span class=nx>split</span><span class=p>(</span><span class=s1>&#39; &#39;</span><span class=p>)</span>
        <span class=p>.</span><span class=nx>map</span><span class=p>((</span><span class=nx>cl</span><span class=p>)</span> <span class=o>=&gt;</span> <span class=sb>`</span><span class=si>${</span><span class=nx>hash</span><span class=si>}</span><span class=sb>-</span><span class=si>${</span><span class=nx>cl</span><span class=si>}</span><span class=sb>`</span><span class=p>)</span>
        <span class=p>.</span><span class=nx>join</span><span class=p>(</span><span class=s1>&#39; &#39;</span><span class=p>);</span>

      <span class=k>return</span> <span class=p>(</span>
        <span class=p>&lt;</span><span class=nt>Component</span> <span class=p>{</span><span class=na>...rest</span><span class=p>}</span> <span class=na>className</span><span class=o>=</span><span class=p>{</span><span class=nx>classNameNew</span><span class=p>}&gt;</span>
          <span class=p>{</span><span class=nx>children</span><span class=p>}</span>
        <span class=p>&lt;/</span><span class=nt>Component</span><span class=p>&gt;</span>
      <span class=p>);</span>
    <span class=p>};</span>
  <span class=p>};</span>
<span class=p>}</span>

<span class=nx>styled</span><span class=p>.</span><span class=nx>withLocal</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>Proxy</span><span class=p>(</span>
  <span class=p>{},</span>
  <span class=p>{</span>
    <span class=kr>get</span><span class=p>(</span><span class=nx>_target</span><span class=p>,</span> <span class=nx>prop</span><span class=p>)</span> <span class=p>{</span>
      <span class=k>return</span> <span class=nx>makeTagTemplateForHTMLTagName</span><span class=p>(</span><span class=nx>prop</span><span class=p>);</span>
    <span class=p>},</span>
  <span class=p>},</span>
<span class=p>);</span>
</code></pre></div></details>
<p><strong>Pros:</strong></p>
<ul>
<li>Doesn&rsquo;t break syntax highlighting</li>
</ul>
<p><strong>Cons:</strong></p>
<ul>
<li>Linter doesn&rsquo;t recognize symbol in template string</li>
</ul>
<h1 id=14-styled-wrapper>14. <code>styled</code> wrapper</h1>
<p>Next, let&rsquo;s wrap <code>styled</code> with a wrapper function that provides an abstraction for dealing with variants.</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-tsx data-lang=tsx><span class=kr>import</span> <span class=p>{</span> <span class=nx>substyled</span> <span class=p>}</span> <span class=kr>from</span> <span class=s1>&#39;utils&#39;</span><span class=p>;</span>

<span class=kr>type</span> <span class=nx>IProps</span> <span class=o>=</span> <span class=p>{</span> <span class=nx>isVertical</span>: <span class=kt>boolean</span> <span class=p>};</span>

<span class=kr>const</span> <span class=p>[</span><span class=nx>Box</span><span class=p>,</span> <span class=nx>styles</span><span class=p>]</span> <span class=o>=</span> <span class=nx>substyled</span><span class=p>({</span>
  <span class=nx>scope</span><span class=o>:</span> <span class=s1>&#39;Card&#39;</span><span class=p>,</span>
  <span class=nx>shared</span>: <span class=kt>css</span><span class=sb>`
</span><span class=sb>    display: flex;
</span><span class=sb>    padding: 0.5rem;
</span><span class=sb>  `</span><span class=p>,</span>
  <span class=nx>is_vertical</span>: <span class=kt>css</span><span class=sb>`
</span><span class=sb>    justify-content: center;
</span><span class=sb>    flex-direction: column;
</span><span class=sb>    background: var(--red);
</span><span class=sb>  `</span><span class=p>,</span>
  <span class=nx>is_horizontal</span>: <span class=kt>css</span><span class=sb>`
</span><span class=sb>    align-items: center;
</span><span class=sb>    flex-direction: row;
</span><span class=sb>    background: var(--blue);
</span><span class=sb>  `</span><span class=p>,</span>
<span class=p>});</span>

<span class=kr>export</span> <span class=k>default</span> <span class=kd>function</span> <span class=nx>Card</span><span class=p>({</span> <span class=nx>isVertical</span> <span class=p>}</span><span class=o>:</span> <span class=nx>IProps</span><span class=p>)</span> <span class=p>{</span>
  <span class=k>return</span> <span class=p>(</span>
    <span class=p>&lt;</span><span class=nt>Box</span>
      <span class=na>className</span><span class=o>=</span><span class=p>{</span><span class=nx>isVertical</span> <span class=o>?</span> <span class=nx>styles.is_vertical</span> : <span class=kt>styles.is_horizontal</span><span class=p>}</span>
    <span class=p>&gt;</span>
      <span class=nx>Box14</span>
    <span class=p>&lt;/</span><span class=nt>Box</span><span class=p>&gt;</span>
  <span class=p>);</span>
<span class=p>}</span>

</code></pre></div><details>
<summary>Generated CSS</summary>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-css data-lang=css></code></pre></div></details>
<details>
<summary>Implementation - How it works</summary>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-ts data-lang=ts><span class=kr>import</span> <span class=p>{</span> <span class=nx>css</span> <span class=p>}</span> <span class=kr>from</span> <span class=s1>&#39;@emotion/react&#39;</span><span class=p>;</span>
<span class=kr>import</span> <span class=nx>styled</span><span class=p>,</span> <span class=p>{</span> <span class=nx>StyledComponent</span> <span class=p>}</span> <span class=kr>from</span> <span class=s1>&#39;@emotion/styled&#39;</span><span class=p>;</span>

<span class=kr>export</span> <span class=kd>function</span> <span class=nx>substyled</span><span class=p>&lt;</span><span class=nt>T</span> <span class=na>extends</span> <span class=p>{</span> <span class=na>className</span><span class=err>:</span> <span class=na>string</span> <span class=p>}&gt;({</span>
  <span class=nx>shared</span><span class=p>,</span>
  <span class=nx>scope</span><span class=p>,</span>
  <span class=p>...</span><span class=nx>obj</span>
<span class=p>})</span><span class=o>:</span> <span class=p>[</span><span class=nx>StyledComponent</span><span class=p>&lt;</span><span class=nt>T</span><span class=p>&gt;,</span> <span class=nx>Record</span><span class=p>&lt;</span><span class=nt>string</span><span class=err>,</span> <span class=na>string</span><span class=p>&gt;]</span> <span class=p>{</span>
  <span class=kr>const</span> <span class=nx>nameMap</span>: <span class=kt>Record</span><span class=p>&lt;</span><span class=nt>string</span><span class=err>,</span> <span class=na>string</span><span class=p>&gt;</span> <span class=o>=</span> <span class=p>{};</span>
  <span class=nb>Object</span><span class=p>.</span><span class=nx>keys</span><span class=p>(</span><span class=nx>obj</span><span class=p>).</span><span class=nx>map</span><span class=p>((</span><span class=nx>key</span><span class=p>)</span> <span class=o>=&gt;</span> <span class=p>{</span>
    <span class=nx>nameMap</span><span class=p>[</span><span class=nx>key</span><span class=p>]</span> <span class=o>=</span> <span class=sb>`csx-</span><span class=si>${</span><span class=nx>hash</span><span class=p>(</span><span class=sb>`</span><span class=si>${</span><span class=nx>scope</span><span class=si>}${</span><span class=nx>key</span><span class=si>}</span><span class=sb>`</span><span class=p>)</span><span class=si>}</span><span class=sb>`</span><span class=p>;</span>
  <span class=p>});</span>

  <span class=kr>const</span> <span class=nx>data</span> <span class=o>=</span> <span class=p>{</span>
    <span class=s1>&#39;&amp;&#39;</span><span class=o>:</span> <span class=nx>shared</span><span class=p>,</span>
  <span class=p>};</span>

  <span class=nb>Object</span><span class=p>.</span><span class=nx>keys</span><span class=p>(</span><span class=nx>nameMap</span><span class=p>).</span><span class=nx>map</span><span class=p>((</span><span class=nx>key</span><span class=p>)</span> <span class=o>=&gt;</span> <span class=p>{</span>
    <span class=kr>const</span> <span class=nx>value</span> <span class=o>=</span> <span class=nx>obj</span><span class=p>[</span><span class=nx>key</span><span class=p>];</span>
    <span class=nx>data</span><span class=p>[</span><span class=sb>`&amp;.</span><span class=si>${</span><span class=nx>nameMap</span><span class=p>[</span><span class=nx>key</span><span class=p>]</span><span class=si>}</span><span class=sb>`</span><span class=p>]</span> <span class=o>=</span> <span class=nx>value</span><span class=p>;</span>
  <span class=p>});</span>

  <span class=c1>// To suport other elements, see next solution
</span><span class=c1></span>  <span class=kr>const</span> <span class=nx>component</span> <span class=o>=</span> <span class=nx>styled</span><span class=p>.</span><span class=nx>div</span><span class=p>&lt;</span><span class=nt>T</span><span class=p>&gt;(</span><span class=nx>data</span><span class=p>);</span>

  <span class=k>return</span> <span class=p>[</span><span class=nx>component</span><span class=p>,</span> <span class=nx>nameMap</span><span class=p>];</span>
<span class=p>}</span>
</code></pre></div></details>
<p><strong>Pros:</strong></p>
<ul>
<li>Convenient API to get <code>styles</code> object similar to CSS-modules</li>
</ul>
<p><strong>Cons:</strong></p>
<ul>
<li>Requires using special <code>substyled</code> wrapper, which is not standard styled components</li>
</ul>
<h1 id=15-extending-styled-components-with-special--symbol>15. Extending styled components with special <code>@</code> symbol</h1>
<p>We can still do more, let&rsquo;s add new syntax. By introducing a special <code>@</code> symbol, we can extend styled components to create unique class names. This solution is overwrites <code>styled</code> with a custom verison that handles the template tag before emotion.</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-tsx data-lang=tsx><span class=kr>import</span> <span class=p>{</span> <span class=nx>styled</span> <span class=p>}</span> <span class=kr>from</span> <span class=s1>&#39;utils&#39;</span><span class=p>;</span>

<span class=kr>type</span> <span class=nx>IProps</span> <span class=o>=</span> <span class=p>{</span> <span class=nx>isVertical</span>: <span class=kt>boolean</span> <span class=p>};</span>

<span class=kr>const</span> <span class=nx>Box</span> <span class=o>=</span> <span class=nx>styled</span><span class=p>.</span><span class=nx>div</span><span class=sb>`
</span><span class=sb>  display: flex;
</span><span class=sb>  padding: 0.5rem;
</span><span class=sb>
</span><span class=sb>  @__is_vertical {
</span><span class=sb>    justify-content: center;
</span><span class=sb>    flex-direction: column;
</span><span class=sb>    background: var(--red);
</span><span class=sb>  }
</span><span class=sb>
</span><span class=sb>  @__is_horizontal {
</span><span class=sb>    align-items: center;
</span><span class=sb>    flex-direction: row;
</span><span class=sb>    background: var(--blue);
</span><span class=sb>  }
</span><span class=sb>`</span><span class=p>;</span>


<span class=kr>export</span> <span class=k>default</span> <span class=kd>function</span> <span class=nx>Card</span><span class=p>({</span> <span class=nx>isVertical</span> <span class=p>}</span><span class=o>:</span> <span class=nx>IProps</span><span class=p>)</span> <span class=p>{</span>
  <span class=k>return</span> <span class=p>(</span>
    <span class=p>&lt;&gt;</span>
      <span class=p>&lt;</span><span class=nt>Box</span> <span class=na>className</span><span class=o>=</span><span class=p>{</span><span class=nx>isVertical</span> <span class=o>?</span> <span class=s1>&#39;@__is_vertical&#39;</span> <span class=o>:</span> <span class=s1>&#39;@__is_horizontal&#39;</span><span class=p>}&gt;</span>
        <span class=nx>Box15</span>
      <span class=p>&lt;/</span><span class=nt>Box</span><span class=p>&gt;</span>
    <span class=p>&lt;/&gt;</span>
  <span class=p>);</span>
<span class=p>}</span>
</code></pre></div><details>
<summary>Generated CSS</summary>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-css data-lang=css><span class=p>.</span><span class=nc>css-2wgt7z</span><span class=p>{</span><span class=k>display</span><span class=p>:</span><span class=kc>flex</span><span class=p>;</span><span class=k>padding</span><span class=p>:</span><span class=mf>0.5</span><span class=kt>rem</span><span class=p>;}</span>
<span class=p>.</span><span class=nc>css-2wgt7z</span><span class=p>.</span><span class=nc>css-qr510x__is_vertical</span><span class=p>{</span><span class=k>justify-content</span><span class=p>:</span><span class=kc>center</span><span class=p>;</span><span class=k>flex-direction</span><span class=p>:</span><span class=kc>column</span><span class=p>;</span><span class=k>background</span><span class=p>:</span><span class=nf>var</span><span class=p>(</span><span class=o>--</span><span class=kc>red</span><span class=p>);}</span>
<span class=p>.</span><span class=nc>css-2wgt7z</span><span class=p>.</span><span class=nc>css-qr510x__is_horizontal</span><span class=p>{</span><span class=k>align-items</span><span class=p>:</span><span class=kc>center</span><span class=p>;</span><span class=k>flex-direction</span><span class=p>:</span><span class=kc>row</span><span class=p>;</span><span class=k>background</span><span class=p>:</span><span class=nf>var</span><span class=p>(</span><span class=o>--</span><span class=kc>blue</span><span class=p>);}</span>
</code></pre></div></details>
<details>
<summary>Implementation - How it works</summary>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-ts data-lang=ts><span class=kr>import</span> <span class=p>{</span> <span class=nx>ClassNames</span> <span class=p>}</span> <span class=kr>from</span> <span class=s1>&#39;@emotion/react&#39;</span><span class=p>;</span>
<span class=kr>import</span> <span class=p>{</span> <span class=k>default</span> <span class=kr>as</span> <span class=nx>realStyled</span> <span class=p>}</span> <span class=kr>from</span> <span class=s1>&#39;@emotion/styled&#39;</span><span class=p>;</span>

<span class=kd>function</span> <span class=nx>makeCreateStyledComponent</span><span class=p>(</span><span class=nx>tagName</span><span class=p>)</span> <span class=p>{</span>
  <span class=k>return</span> <span class=kd>function</span> <span class=nx>templateTag</span><span class=p>(</span><span class=nx>inputCSS</span><span class=p>,</span> <span class=p>...</span><span class=nx>args</span><span class=p>)</span> <span class=p>{</span>
    <span class=k>return</span> <span class=kd>function</span> <span class=nx>Wrapper</span><span class=p>({</span> <span class=nx>className</span><span class=p>,</span> <span class=nx>children</span> <span class=p>})</span> <span class=p>{</span>
      <span class=kd>function</span> <span class=nx>createStyledComponent</span><span class=p>(</span><span class=nx>tempClassName</span><span class=p>)</span> <span class=p>{</span>
        <span class=kr>const</span> <span class=nx>inputCssScoped</span> <span class=o>=</span> <span class=nx>inputCSS</span><span class=p>.</span><span class=nx>map</span><span class=p>((</span><span class=nx>css</span><span class=p>)</span> <span class=o>=&gt;</span>
          <span class=nx>css</span><span class=p>.</span><span class=nx>replaceAll</span><span class=p>(</span><span class=s1>&#39;@&#39;</span><span class=p>,</span> <span class=sb>`&amp;.</span><span class=si>${</span><span class=nx>tempClassName</span><span class=si>}</span><span class=sb>`</span><span class=p>),</span>
        <span class=p>);</span>
        <span class=kr>const</span> <span class=nx>Component</span> <span class=o>=</span> <span class=nx>realStyled</span><span class=p>[</span><span class=nx>tagName</span><span class=p>](</span><span class=nx>inputCssScoped</span><span class=p>,</span> <span class=p>...</span><span class=nx>args</span><span class=p>);</span>
        <span class=kr>const</span> <span class=nx>classNameScoped</span> <span class=o>=</span> <span class=nx>className</span><span class=p>.</span><span class=nx>replaceAll</span><span class=p>(</span><span class=s1>&#39;@&#39;</span><span class=p>,</span> <span class=nx>tempClassName</span><span class=p>);</span>
        <span class=k>return</span> <span class=p>&lt;</span><span class=nt>Component</span> <span class=na>className</span><span class=o>=</span><span class=p>{</span><span class=nx>classNameScoped</span><span class=p>}&gt;{</span><span class=nx>children</span><span class=p>}&lt;/</span><span class=nt>Component</span><span class=p>&gt;;</span>
      <span class=p>}</span>

      <span class=c1>// Add &#39;label: &#39; to trrick emotion to not create css-0
</span><span class=c1></span>      <span class=k>return</span> <span class=p>(</span>
        <span class=p>&lt;</span><span class=nt>ClassNames</span><span class=p>&gt;</span>
          <span class=p>{({</span> <span class=nx>css</span> <span class=p>})</span> <span class=o>=&gt;</span> <span class=nx>createStyledComponent</span><span class=p>(</span><span class=nx>css</span><span class=p>(</span><span class=sb>`label: `</span><span class=p>))}</span>
        <span class=p>&lt;/</span><span class=nt>ClassNames</span><span class=p>&gt;</span>
      <span class=p>);</span>
    <span class=p>};</span>
  <span class=p>};</span>
<span class=p>}</span>

<span class=kr>export</span> <span class=kr>const</span> <span class=nx>styled</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>Proxy</span><span class=p>&lt;</span><span class=nt>Record</span><span class=err>&lt;</span><span class=na>string</span><span class=err>,</span> <span class=na>typeof</span> <span class=na>realStyled</span><span class=err>[&#39;</span><span class=na>div</span><span class=err>&#39;]</span><span class=p>&gt;</span><span class=o>&gt;</span><span class=p>(</span>
  <span class=p>{},</span>
  <span class=p>{</span> <span class=kr>get</span><span class=o>:</span> <span class=p>(</span><span class=nx>_target</span><span class=p>,</span> <span class=nx>tagName</span><span class=p>)</span> <span class=o>=&gt;</span> <span class=nx>makeCreateStyledComponent</span><span class=p>(</span><span class=nx>tagName</span><span class=p>)</span> <span class=p>},</span>
<span class=p>);</span>
</code></pre></div></details>
<p><strong>Pros:</strong></p>
<ul>
<li>Nicest syntax</li>
<li>Looks almost like CSS-modules, no tag functions</li>
</ul>
<p><strong>Cons:</strong></p>
<ul>
<li>Not standard styled-components / emotion</li>
</ul>
<h1 id=16-bonus-styled-systems>16. BONUS: Styled systems</h1>
<p>As a bonus, here is a solution that uses styled-systems.</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-tsx data-lang=tsx><span class=kr>import</span> <span class=nx>styled</span> <span class=kr>from</span> <span class=s1>&#39;@emotion/styled&#39;</span><span class=p>;</span>
<span class=kr>import</span> <span class=p>{</span> <span class=nx>typography</span><span class=p>,</span> <span class=nx>space</span><span class=p>,</span> <span class=nx>color</span> <span class=p>}</span> <span class=kr>from</span> <span class=s1>&#39;styled-system&#39;</span><span class=p>;</span>

<span class=kr>type</span> <span class=nx>IProps</span> <span class=o>=</span> <span class=p>{</span> <span class=nx>isVertical</span>: <span class=kt>boolean</span> <span class=p>};</span>

<span class=kr>const</span> <span class=nx>StyledBox</span> <span class=o>=</span> <span class=nx>styled</span><span class=p>(</span><span class=s1>&#39;div&#39;</span><span class=p>)(</span><span class=nx>typography</span><span class=p>,</span> <span class=nx>space</span><span class=p>,</span> <span class=nx>color</span><span class=p>);</span>

<span class=kr>const</span> <span class=nx>variants</span> <span class=o>=</span> <span class=p>{</span>
  <span class=nx>vertical</span><span class=o>:</span> <span class=p>{</span>
    <span class=nx>justifyContent</span><span class=o>:</span> <span class=s1>&#39;center&#39;</span><span class=p>,</span>
    <span class=nx>flexDirection</span><span class=o>:</span> <span class=s1>&#39;column&#39;</span><span class=p>,</span>
    <span class=nx>background</span><span class=o>:</span> <span class=s1>&#39;var(--red)&#39;</span><span class=p>,</span>
  <span class=p>},</span>
  <span class=nx>horizontal</span><span class=o>:</span> <span class=p>{</span>
    <span class=nx>alignItems</span><span class=o>:</span> <span class=s1>&#39;center&#39;</span><span class=p>,</span>
    <span class=nx>flexDirection</span><span class=o>:</span> <span class=s1>&#39;row&#39;</span><span class=p>,</span>
    <span class=nx>background</span><span class=o>:</span> <span class=s1>&#39;var(--blue)&#39;</span><span class=p>,</span>
  <span class=p>},</span>
<span class=p>};</span>

<span class=kd>function</span> <span class=nx>Box</span><span class=p>({</span> <span class=nx>variant</span><span class=p>,</span> <span class=nx>children</span> <span class=p>})</span> <span class=p>{</span>
  <span class=k>return</span> <span class=p>(</span>
    <span class=p>&lt;</span><span class=nt>StyledBox</span> <span class=na>display</span><span class=o>=</span><span class=s>&#34;flex&#34;</span> <span class=na>p</span><span class=o>=</span><span class=s>&#34;0.5rem&#34;</span> <span class=p>{</span><span class=na>...variants</span><span class=err>[</span><span class=na>variant</span><span class=err>]</span><span class=p>}&gt;</span>
      <span class=p>{</span><span class=nx>children</span><span class=p>}</span>
    <span class=p>&lt;/</span><span class=nt>StyledBox</span><span class=p>&gt;</span>
  <span class=p>);</span>
<span class=p>}</span>

<span class=kr>export</span> <span class=k>default</span> <span class=kd>function</span> <span class=nx>Card</span><span class=p>({</span> <span class=nx>isVertical</span> <span class=p>}</span><span class=o>:</span> <span class=nx>IProps</span><span class=p>)</span> <span class=p>{</span>
  <span class=k>return</span> <span class=p>(</span>
    <span class=p>&lt;&gt;</span>
      <span class=p>&lt;</span><span class=nt>Box</span> <span class=na>variant</span><span class=o>=</span><span class=p>{</span><span class=nx>isVertical</span> <span class=o>?</span> <span class=s1>&#39;vertical&#39;</span> <span class=o>:</span> <span class=s1>&#39;horizontal&#39;</span><span class=p>}&gt;</span><span class=nx>Box16</span><span class=p>&lt;/</span><span class=nt>Box</span><span class=p>&gt;</span>
    <span class=p>&lt;/&gt;</span>
  <span class=p>);</span>
<span class=p>}</span>
</code></pre></div><details>
<summary>Generated CSS</summary>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-css data-lang=css></code></pre></div></details>
<p><strong>Pros:</strong></p>
<ul>
<li>Everything is JS</li>
</ul>
<p><strong>Cons:</strong></p>
<ul>
<li>Not CSS</li>
</ul>
<h1 id=17-bonus-glamorous-syntax>17. BONUS: glamorous syntax</h1>
<p>Aaand finally, one more based on glamorous inspired syntax supported by Emotion:</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-tsx data-lang=tsx><span class=kr>import</span> <span class=p>{</span> <span class=nx>css</span> <span class=p>}</span> <span class=kr>from</span> <span class=s1>&#39;@emotion/react&#39;</span><span class=p>;</span>
<span class=kr>import</span> <span class=nx>styled</span> <span class=kr>from</span> <span class=s1>&#39;@emotion/styled&#39;</span><span class=p>;</span>

<span class=kr>type</span> <span class=nx>IProps</span> <span class=o>=</span> <span class=p>{</span> <span class=nx>isVertical</span>: <span class=kt>boolean</span> <span class=p>};</span>

<span class=kr>const</span> <span class=nx>Box</span> <span class=o>=</span> <span class=nx>styled</span><span class=p>.</span><span class=nx>div</span><span class=p>&lt;</span><span class=nt>IProps</span><span class=p>&gt;(</span>
  <span class=nx>css</span><span class=sb>`
</span><span class=sb>    display: flex;
</span><span class=sb>    padding: 0.5rem;
</span><span class=sb>  `</span><span class=p>,</span>
  <span class=p>(</span><span class=nx>props</span><span class=p>)</span> <span class=o>=&gt;</span>
    <span class=nx>props</span><span class=p>.</span><span class=nx>isVertical</span>
      <span class=o>?</span> <span class=nx>css</span><span class=sb>`
</span><span class=sb>          justify-content: center;
</span><span class=sb>          flex-direction: column;
</span><span class=sb>          background: var(--red);
</span><span class=sb>        `</span>
      <span class=o>:</span> <span class=nx>css</span><span class=sb>`
</span><span class=sb>          align-items: center;
</span><span class=sb>          flex-direction: row;
</span><span class=sb>          background: var(--blue);
</span><span class=sb>        `</span><span class=p>,</span>
<span class=p>);</span>

<span class=kr>export</span> <span class=k>default</span> <span class=kd>function</span> <span class=nx>Card</span><span class=p>({</span> <span class=nx>isVertical</span> <span class=p>}</span><span class=o>:</span> <span class=nx>IProps</span><span class=p>)</span> <span class=p>{</span>
  <span class=k>return</span> <span class=p>&lt;</span><span class=nt>Box</span> <span class=na>isVertical</span><span class=o>=</span><span class=p>{</span><span class=nx>isVertical</span><span class=p>}&gt;</span><span class=nx>Box17</span><span class=p>&lt;/</span><span class=nt>Box</span><span class=p>&gt;;</span>
<span class=p>}</span>
</code></pre></div><details>
<summary>Generated CSS</summary>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-css data-lang=css></code></pre></div></details>
<p><strong>Pros:</strong></p>
<ul>
<li>Everything in one place</li>
</ul>
<p><strong>Cons:</strong></p>
<ul>
<li>Doesn&rsquo;t look like CSS</li>
</ul>
<h1 id=conclusion>Conclusion</h1>
<p>I guess, my point is. Once you move your CSS into JS, the entire world of JS becomes available to you. I believe these are all possible solutions, with minor differences. Pick one you prefer.</p>
<p>Finally here&rsquo;s the proof that of of them work:</p>
<p><img src=/img/css-in-js-proof.png alt></p>
</article>
<div id=disqus_thread></div>
<script>var disqus_config=function(){this.page.url="https://tw00.dev/post/css-tips/styled-components/",this.page.identifier="c757961c85f61335b3ee20a08e1355cd"};(function(){var a=document,b=a.createElement('script');b.src='https://tw00-dev.disqus.com/embed.js',b.setAttribute('data-timestamp',+new Date),(a.head||a.body).appendChild(b)})()</script>
<noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript>
</div>
</div>
<footer class=site-footer>
<div class=footer-inner>
<span itemscope itemtype=http://schema.org/Person>
<div>
<link itemprop=url href=https://tw00.dev>
<span itemprop=name>© Thomas Weustenfeld</span>
</div>
<div style=margin-top:.5rem>
<a itemprop=sameAs href=https://github.com/tw00 title=GitHub><svg class="icon" aria-hidden="true" focusable="false" data-prefix="fab" data-icon="github" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512" class="svg-inline--fa fa-github fa-w-16 fa-2x"><path fill="currentcolor" d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6.0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6.0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3.0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1.0-6.2-.3-40.4-.3-61.4.0.0-70 15-84.7-29.8.0.0-11.4-29.1-27.8-36.6.0.0-22.9-15.7 1.6-15.4.0.0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5.0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9.0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4.0 33.7-.3 75.4-.3 83.6.0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6.0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9.0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
Github
</a>
<a itemprop=sameAs target=_blank href=https://twitter.com/t_weustenfeld title=Twitter><svg class="icon" aria-hidden="true" focusable="false" data-prefix="fab" data-icon="twitter" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="svg-inline--fa fa-twitter fa-w-16 fa-2x"><path fill="currentcolor" d="M459.37 151.716c.325 4.548.325 9.097.325 13.645.0 138.72-105.583 298.558-298.558 298.558-59.452.0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055.0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421.0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391.0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04.0-57.828 46.782-104.934 104.934-104.934 30.213.0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg>
Twitter
</a>
</span>
</div>
</div>
</footer>
<script type=text/javascript async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML">MathJax.Hub.Config({tex2jax:{inlineMath:[['$','$'],['\\(','\\)']],displayMath:[['$$','$$']],processEscapes:!0,processEnvironments:!0,skipTags:['script','noscript','style','textarea','pre'],TeX:{equationNumbers:{autoNumber:"AMS"},extensions:["AMSmath.js","AMSsymbols.js"]}}}),MathJax.Hub.Queue(function(){var b=MathJax.Hub.getAllJax(),a;for(a=0;a<b.length;a+=1)b[a].SourceElement().parentNode.className+=' has-jax'}),MathJax.Hub.Config({TeX:{equationNumbers:{autoNumber:"AMS"}}})</script>
</body>
</html>